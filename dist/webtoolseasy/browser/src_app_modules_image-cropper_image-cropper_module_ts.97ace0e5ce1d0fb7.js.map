{"version":3,"file":"src_app_modules_image-cropper_image-cropper_module_ts.97ace0e5ce1d0fb7.js","mappings":"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","sources":["./src/app/@types/file.ts","./src/app/modules/image-cropper/image-cropper-routing.module.ts","./src/app/modules/image-cropper/image-cropper.component.ts","./src/app/modules/image-cropper/image-cropper.component.html","./src/app/modules/image-cropper/image-cropper.module.ts","./src/environments/component-config/image-cropper/config.ts","./node_modules/ngx-image-cropper/fesm2020/ngx-image-cropper.mjs"],"sourcesContent":["export interface BaseFileData {\n  id: string;\n  file: File;\n  inProgress?: boolean;\n  type: FileDataType;\n  name: string;\n  error?: string;\n  fileFormat?: number; // file format identifier\n  dataURI?: any;\n}\n\nexport interface ImageFileData extends BaseFileData {\n  isCompressed: boolean;\n  compressProgress: number;\n  compressedData?: Blob;\n  compressOptions: any;\n  compressionRate: number;\n  maxFileSize: number;\n  compressedImageData?: any;\n}\n\nexport interface VideoFileData extends BaseFileData {\n  convertProgress: number;\n  targetFormat: number;\n  convertedFileData: Map<number, Uint8Array | undefined>;\n  targetFileName?: string;\n  conversionErrors: Map<number, string>;\n  converterStatus?: string;\n  supportedFormats: SupportedOutputFormats[];\n}\n\nexport interface SupportedOutputFormats {\n  formatId: number;\n  targetFormat: string;\n  displayName: string;\n}\n\nexport interface ImageCompressSettings {\n  fileId: string;\n  compressionRate: number;\n  maxFileSize: number;\n}\n\nexport enum FileDataType {\n  IMAGE = 'image',\n  VIDEO = 'video',\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ImageCropperComponent } from './image-cropper.component';\n\nconst routes: Routes = [{ path: '', component: ImageCropperComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ImageCropperRoutingModule {}\n","import { Component, ElementRef, Renderer2, ViewChild } from '@angular/core';\nimport { ApplicationConfig } from 'src/app/@types/config';\nimport { DescriptionBlock } from 'src/app/@types/description';\nimport { BaseFileData, FileDataType } from 'src/app/@types/file';\nimport { importScript } from 'src/app/service/ffmpeg/lib/util';\nimport { FileService } from 'src/app/service/file/file.service';\nimport { LogUtils } from 'src/app/service/util/logger';\nimport {\n  componentConfig,\n  descriptionData,\n} from 'src/environments/component-config/image-cropper/config';\nimport {\n  ImageCroppedEvent,\n  OutputFormat,\n  ImageCropperComponent as CropperComponent,\n} from 'ngx-image-cropper';\nimport { environment } from 'src/environments/environment';\nimport { PlatformMetadataService } from 'src/app/service/platform-metadata/platform-metadata.service';\n\n@Component({\n  selector: 'app-image-cropper',\n  templateUrl: './image-cropper.component.html',\n  styleUrls: ['./image-cropper.component.scss'],\n})\nexport class ImageCropperComponent {\n  applicationConfig: ApplicationConfig = componentConfig;\n  descriptionData: DescriptionBlock[] = descriptionData;\n\n  validImageFormats: string = '.jpg,.jpeg,.png,.webp,.bmp';\n\n  fileList: BaseFileData[] = [];\n\n  currentFile: BaseFileData | undefined = undefined;\n\n  croppedImage: string | undefined = undefined;\n\n  @ViewChild('inputFiles', { static: false })\n  inputFiles!: ElementRef;\n\n  @ViewChild('imageCropperContainer', { static: false })\n  imageCropperContainer!: ElementRef;\n\n  @ViewChild('imageCropper', { static: false })\n  imageCropper!: CropperComponent;\n\n  @ViewChild('croppedImageContainer', { static: false })\n  croppedImageContainer!: ElementRef;\n\n  @ViewChild('croppedImageTag', { static: false })\n  croppedImageTag!: ElementRef;\n\n  outputFormat: OutputFormat = 'png'; // supported values - png, jpeg, webp, bmp, ico\n\n  constructor(\n    private renderer: Renderer2,\n    private fileService: FileService,\n    public platformMetaDataService: PlatformMetadataService\n  ) {\n    if (platformMetaDataService.isPlatformBrowser) {\n      importScript(environment.hammerJSPathUrl);\n    }\n  }\n\n  selectFiles(event: any) {\n    for (const file of event.target.files) {\n      this.addFileToCrop(file);\n    }\n    // set first file as current file\n    this.currentFile = this.fileList[0];\n  }\n\n  openFileDialog() {\n    this.renderer\n      .selectRootElement(this.inputFiles.nativeElement, true)\n      .click();\n  }\n\n  /**\n   * file drop event handler\n   * @param event\n   */\n  dropHandler(event: any) {\n    // Prevent default behavior (Prevent file from being opened)\n    event.preventDefault();\n\n    if (event.dataTransfer.items) {\n      // Use DataTransferItemList interface to access the file(s)\n      [...event.dataTransfer.items]\n        .filter(item => item.kind === 'file')\n        .map(item => item.getAsFile())\n        .forEach(file => this.addFileToCrop(file));\n    } else {\n      // Use DataTransfer interface to access the file(s)\n      [...event.dataTransfer.files].forEach(file => this.addFileToCrop(file));\n    }\n\n    // set first file as current file\n    this.currentFile = this.fileList[0];\n  }\n\n  /**\n   * handle drag over event\n   * @param event\n   */\n  dragOverHandler(event: any) {\n    // Prevent default behavior (Prevent file from being opened)\n    event.preventDefault();\n  }\n\n  addFileToCrop(file: File) {\n    const fileData: BaseFileData = {\n      id: crypto.randomUUID(),\n      file: file,\n      type: FileDataType.IMAGE,\n      name: file.name,\n    };\n\n    this.fileList.push(fileData);\n    this.fileService.readFileAsURL(\n      fileData.id,\n      file,\n      this.readImageDataURI.bind(this)\n    );\n  }\n\n  selectCurrentFile(id: string) {\n    const fileData = this.fileList.find(fileData => fileData.id === id);\n    this.currentFile = fileData;\n    if (this.currentFile?.dataURI === undefined) {\n      this.fileService.readFileAsURL(\n        id,\n        fileData!.file,\n        this.readImageDataURI.bind(this)\n      );\n    }\n  }\n\n  /**\n   * handle image cropper ready event\n   */\n  cropperReady() {\n    this.renderer.setStyle(\n      this.croppedImageContainer.nativeElement,\n      'max-width',\n      `${this.imageCropperContainer.nativeElement.offsetWidth}px`\n    );\n\n    this.renderer.setStyle(\n      this.croppedImageContainer.nativeElement,\n      'max-height',\n      `${this.imageCropperContainer.nativeElement.offsetHeight}px`\n    );\n\n    this.renderer.setStyle(\n      this.croppedImageTag.nativeElement,\n      'max-width',\n      `${this.imageCropper.maxSize.width}px`\n    );\n\n    this.renderer.setStyle(\n      this.croppedImageTag.nativeElement,\n      'max-height',\n      `${this.imageCropper.maxSize.height}px`\n    );\n  }\n\n  readImageDataURI(id: string, imageDataURI: any) {\n    const fileData = this.fileList.find(fileData => fileData.id === id);\n    fileData!.dataURI = imageDataURI;\n  }\n\n  imageCropped(event: ImageCroppedEvent) {\n    this.croppedImage = URL.createObjectURL(event.blob!);\n  }\n\n  loadImageFailed() {\n    LogUtils.error(\n      `cropper image load failed for image with id: ${this.currentFile?.id} and name: ${this.currentFile?.name}`\n    );\n  }\n\n  async downloadCroppedImage() {\n    const formattedFileName = this.fileService.getFormattedFileName(\n      this.currentFile!.name\n    );\n    const plainFileName = this.fileService.getPlainFileName(formattedFileName);\n    const downloadAnchor = this.renderer.createElement('a');\n    this.renderer.setProperty(downloadAnchor, 'href', this.croppedImage);\n    this.renderer.setProperty(\n      downloadAnchor,\n      'download',\n      `${plainFileName}.${this.outputFormat}`\n    );\n    downloadAnchor.click();\n  }\n\n  onOutputFormatChange(event: string) {\n    this.outputFormat = <OutputFormat>event;\n  }\n}\n","<div class=\"flex-display flex-column-flow flex-align-center flex-gap-xlarge\">\n  <!-- file imput -->\n  <input\n    #inputFiles\n    type=\"file\"\n    style=\"display: none\"\n    multiple\n    (change)=\"selectFiles($event)\"\n    [accept]=\"validImageFormats\" />\n\n  <!-- file drop area -->\n  <div\n    class=\"flex-display flex-column-flow flex-center flex-align-center border-grey full-width flex-gap-medium file-drop-area\"\n    (drop)=\"dropHandler($event)\"\n    (dragover)=\"dragOverHandler($event)\"\n    *ngIf=\"fileList.length === 0\">\n    <mat-icon style=\"transform: scale(2)\">collections</mat-icon>\n    <span class=\"header-font\" style=\"font-size: large\"\n      >Drag & drop files here</span\n    >\n    <span class=\"header-font\" style=\"font-size: large\">or</span>\n\n    <button\n      mat-stroked-button\n      color=\"primary\"\n      (click)=\"openFileDialog()\"\n      matTooltip=\"select images to compress\">\n      <mat-icon>file_upload</mat-icon>Browse For Files\n    </button>\n  </div>\n\n  <div\n    class=\"flex-display flex-row-flow full-width\"\n    style=\"justify-content: end\"\n    *ngIf=\"fileList.length > 0\">\n    <button\n      mat-stroked-button\n      color=\"primary\"\n      (click)=\"openFileDialog()\"\n      matTooltip=\"select images to compress\">\n      <mat-icon>file_upload</mat-icon>Upload More Images\n    </button>\n  </div>\n\n  <span\n    style=\"font-size: large; align-self: flex-start\"\n    *ngIf=\"fileList.length > 0\"\n    >Uploaded Images</span\n  >\n\n  <div\n    class=\"flex-display flex-align-center full-width flex-gap-large auto-scroll\"\n    *ngIf=\"fileList.length > 0\">\n    <div\n      class=\"flex-display flex-column-flow flex-center border-grey shadow-grey thumbnail-container pointer-cursor\"\n      *ngFor=\"let imageFile of fileList\"\n      (click)=\"selectCurrentFile(imageFile.id)\">\n      <img\n        mat-card-image\n        src=\"{{ imageFile?.dataURI }}\"\n        alt=\"selected image for crop\" />\n      <div\n        class=\"full-width flex-display flex-row-flow flex-center\"\n        style=\"overflow: hidden\">\n        <span>{{ imageFile?.name }}</span>\n      </div>\n    </div>\n  </div>\n\n  <span style=\"font-size: large; align-self: flex-start\" *ngIf=\"currentFile\"\n    >Crop & Preview</span\n  >\n\n  <div\n    *ngIf=\"currentFile && platformMetaDataService.isPlatformBrowser\"\n    class=\"flex-display flex-row-flow flex-align-center full-width cropper-container\">\n    <div\n      #imageCropperContainer\n      class=\"flex-display flex-column-flow flex-center cropped-box border-grey\">\n      <image-cropper\n        #imageCropper\n        [imageFile]=\"currentFile.file\"\n        [maintainAspectRatio]=\"false\"\n        [format]=\"outputFormat\"\n        (imageCropped)=\"imageCropped($event)\"\n        (loadImageFailed)=\"loadImageFailed()\"\n        (cropperReady)=\"cropperReady()\"\n        style=\"max-height: 100%; max-width: 100%\"></image-cropper>\n    </div>\n\n    <div\n      #croppedImageContainer\n      class=\"flex-display flex-column-flow flex-center flex-align-center cropped-box border-grey\">\n      <img #croppedImageTag src=\"{{ croppedImage }}\" alt=\"cropped image\" />\n    </div>\n  </div>\n\n  <div\n    class=\"flex-display flex-align-center flex-gap-medium\"\n    style=\"justify-content: end; margin-top: 20px; align-self: flex-end\"\n    *ngIf=\"currentFile\">\n    <mat-form-field\n      appearance=\"outline\"\n      color=\"primary\"\n      style=\"margin-bottom: -1.25em\">\n      <mat-label>Output Format</mat-label>\n      <mat-select\n        disableRipple\n        value=\"png\"\n        (valueChange)=\"onOutputFormatChange($event)\">\n        <mat-option value=\"png\">PNG</mat-option>\n        <mat-option value=\"jpeg\">JPG</mat-option>\n        <mat-option value=\"webp\">WEBP</mat-option>\n        <mat-option value=\"bmp\">BMP</mat-option>\n        <mat-option value=\"ico\">ICO</mat-option>\n      </mat-select>\n    </mat-form-field>\n    <button\n      mat-stroked-button\n      color=\"primary\"\n      (click)=\"downloadCroppedImage()\"\n      matTooltip=\"select images to compress\">\n      <mat-icon>file_download</mat-icon>Download Image\n    </button>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ImageCropperRoutingModule } from './image-cropper-routing.module';\nimport { ImageCropperComponent } from './image-cropper.component';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { ImageCropperModule as CropperModule } from 'ngx-image-cropper';\nimport { MatSelectModule } from '@angular/material/select';\n\n@NgModule({\n  declarations: [ImageCropperComponent],\n  imports: [\n    CommonModule,\n    ImageCropperRoutingModule,\n    MatIconModule,\n    MatButtonModule,\n    MatSelectModule,\n    CropperModule,\n  ],\n})\nexport class ImageCropperModule {}\n","import { ApplicationConfig } from 'src/app/@types/config';\nimport { DescriptionBlock } from 'src/app/@types/description';\nimport { environment } from 'src/environments/environment';\nimport {\n  ApplicationIds,\n  applicationConfig,\n} from 'src/environments/tools-directory-config';\n\nconst navigationUrl = '/tools/crop-image';\nconst pageTitle = 'Free Online Image Cropper: Crop Your Photos Online for Free';\nconst pageDescription =\n  'Crop your images online for free with our easy-to-use image cropper. No download required, no sign-up required. Crop JPG, PNG, WEBP, BMP For Free.';\nconst imageUrl = `${environment.screenshotsBaseUrl}/image-cropper.png`;\n\nconst keywords =\n  'free image cropper,online image cropper,crop images online,crop JPEG images,crop PNG images,crop GIF images,crop BMP images,image cropping,image composition,image aspect ratio,social media image cropping,website image cropping,remove unwanted parts of an image,resize an image,create a square image';\n\nconst relatedTools: ApplicationIds[] = [ApplicationIds.IMAGE_COMPRESSOR];\n\nexport const componentConfig: ApplicationConfig = {\n  mainHeading: 'Free Online Image Cropper: Crop JPG, PNG, WEBP, BMP Images',\n  navigationUrl,\n  pageTitle,\n  metaTags: [\n    {\n      name: 'description',\n      content: pageDescription,\n    },\n    {\n      name: 'author',\n      content: 'Gaurav Kumar Yadav',\n    },\n    { name: 'robots', content: 'index, follow' },\n    {\n      property: 'og:title',\n      content: pageTitle,\n    },\n    { property: 'og:type', content: 'website' },\n    { property: 'og:url', content: `${environment.hostname}${navigationUrl}` },\n    { property: 'og:image', content: imageUrl },\n    { property: 'og:image:secure_url', content: imageUrl },\n    { property: 'og:description', content: pageDescription },\n    { property: 'og:site_name', content: 'WebToolsEasy' },\n    { property: 'twitter:card', content: 'summary_large_image' },\n    { property: 'twitter:site', content: '@webtoolseasy' },\n    { property: 'twitter:title', content: pageTitle },\n    { property: 'twitter:description', content: pageDescription },\n    { property: 'twitter:image', content: imageUrl },\n  ],\n  tags: keywords.split(',').map(word => word.trim()),\n  icons: [],\n  relatedTools: relatedTools.map(tool => applicationConfig.get(tool)!),\n};\n\nexport const descriptionData: DescriptionBlock[] = [\n  {\n    heading: 'Why Use an Image Cropper?',\n    listData: [\n      'To remove unwanted parts of an image. This can be useful for improving the composition of an image or for removing distracting elements.',\n      'To resize an image to a specific size. This can be useful for sharing images on social media or for using images on a website.',\n      'To create a square image. Square images are often preferred for social media platforms and for sharing on mobile devices.',\n    ],\n  },\n  {\n    heading: 'Features of Our Free Online Image Cropper',\n    listData: [\n      'Free to use. No need to pay or sign up for an account.',\n      'No download required. Crop your images directly from your web browser.',\n      'Supports multiple image formats. Crop JPEG, PNG, GIF, and BMP images.',\n      'Easy to use. Simply upload your image and drag the crop box to the desired size and location.',\n      'Save your cropped images in the desired format.',\n    ],\n  },\n  {\n    heading: 'How to Use Our Free Online Image Cropper',\n    listData: [\n      'Go to our website and click the \"Upload Image\" button.',\n      'Select the image you want to crop.',\n      'Drag the crop box to the desired size and location.',\n      'Click the \"Crop Image\" button.',\n      'Save your cropped image.',\n    ],\n  },\n  {\n    heading: 'Tips for Using an Image Cropper',\n    listData: [\n      'Consider the composition of your image. When cropping an image, it is important to consider the composition. Try to crop your image in a way that highlights the most important elements and creates a balanced and visually appealing image.',\n      'Use the crop ratio tool. Many image croppers have a crop ratio tool that allows you to crop your image to a specific aspect ratio. This can be useful for cropping images for social media or for using images on a website.',\n      'Save a copy of the original image. Before cropping your image, it is a good idea to save a copy of the original image. This way, you can always go back to the original image if you are not happy with the cropped image.',\n    ],\n  },\n  {\n    blockData: [\n      'Our free online image cropper is a great way to crop your images online for free. It is easy to use and supports multiple image formats. With our image cropper, you can remove unwanted parts of an image, resize an image to a specific size, or create a square image.',\n    ],\n  },\n];\n","import * as i0 from '@angular/core';\nimport { Injectable, EventEmitter, isDevMode, Component, ChangeDetectionStrategy, Optional, Inject, ViewChild, Input, HostBinding, Output, HostListener, NgModule } from '@angular/core';\nimport * as i4 from '@angular/platform-browser';\nimport { HAMMER_LOADER } from '@angular/platform-browser';\nimport * as i5 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n\nclass CropperSettings {\n    constructor() {\n        // From options\n        this.format = 'png';\n        this.output = 'blob';\n        this.maintainAspectRatio = true;\n        this.transform = {};\n        this.aspectRatio = 1;\n        this.resetCropOnAspectRatioChange = true;\n        this.resizeToWidth = 0;\n        this.resizeToHeight = 0;\n        this.cropperMinWidth = 0;\n        this.cropperMinHeight = 0;\n        this.cropperMaxHeight = 0;\n        this.cropperMaxWidth = 0;\n        this.cropperStaticWidth = 0;\n        this.cropperStaticHeight = 0;\n        this.canvasRotation = 0;\n        this.initialStepSize = 3;\n        this.roundCropper = false;\n        this.onlyScaleDown = false;\n        this.imageQuality = 92;\n        this.autoCrop = true;\n        this.backgroundColor = null;\n        this.containWithinAspectRatio = false;\n        this.hideResizeSquares = false;\n        this.alignImage = 'center';\n        // Internal\n        this.cropperScaledMinWidth = 20;\n        this.cropperScaledMinHeight = 20;\n        this.cropperScaledMaxWidth = 20;\n        this.cropperScaledMaxHeight = 20;\n        this.stepSize = this.initialStepSize;\n    }\n    setOptions(options) {\n        Object.keys(options)\n            .filter((k) => k in this)\n            .forEach((k) => this[k] = options[k]);\n        this.validateOptions();\n    }\n    setOptionsFromChanges(changes) {\n        Object.keys(changes)\n            .filter((k) => k in this)\n            .forEach((k) => this[k] = changes[k].currentValue);\n        this.validateOptions();\n    }\n    validateOptions() {\n        if (this.maintainAspectRatio && !this.aspectRatio) {\n            throw new Error('`aspectRatio` should > 0 when `maintainAspectRatio` is enabled');\n        }\n    }\n}\n\nvar MoveTypes;\n(function (MoveTypes) {\n    MoveTypes[\"Drag\"] = \"drag\";\n    MoveTypes[\"Move\"] = \"move\";\n    MoveTypes[\"Resize\"] = \"resize\";\n    MoveTypes[\"Pinch\"] = \"pinch\";\n})(MoveTypes || (MoveTypes = {}));\n\nfunction getPositionForKey(key) {\n    switch (key) {\n        case 'ArrowUp':\n            return 'top';\n        case 'ArrowRight':\n            return 'right';\n        case 'ArrowDown':\n            return 'bottom';\n        case 'ArrowLeft':\n        default:\n            return 'left';\n    }\n}\nfunction getInvertedPositionForKey(key) {\n    switch (key) {\n        case 'ArrowUp':\n            return 'bottom';\n        case 'ArrowRight':\n            return 'left';\n        case 'ArrowDown':\n            return 'top';\n        case 'ArrowLeft':\n        default:\n            return 'right';\n    }\n}\nfunction getEventForKey(key, stepSize) {\n    switch (key) {\n        case 'ArrowUp':\n            return { clientX: 0, clientY: stepSize * -1 };\n        case 'ArrowRight':\n            return { clientX: stepSize, clientY: 0 };\n        case 'ArrowDown':\n            return { clientX: 0, clientY: stepSize };\n        case 'ArrowLeft':\n        default:\n            return { clientX: stepSize * -1, clientY: 0 };\n    }\n}\n\n/*\n * Hermite resize - fast image resize/resample using Hermite filter.\n * https://github.com/viliusle/Hermite-resize\n */\nfunction resizeCanvas(canvas, width, height) {\n    const width_source = canvas.width;\n    const height_source = canvas.height;\n    width = Math.round(width);\n    height = Math.round(height);\n    const ratio_w = width_source / width;\n    const ratio_h = height_source / height;\n    const ratio_w_half = Math.ceil(ratio_w / 2);\n    const ratio_h_half = Math.ceil(ratio_h / 2);\n    const ctx = canvas.getContext('2d');\n    if (ctx) {\n        const img = ctx.getImageData(0, 0, width_source, height_source);\n        const img2 = ctx.createImageData(width, height);\n        const data = img.data;\n        const data2 = img2.data;\n        for (let j = 0; j < height; j++) {\n            for (let i = 0; i < width; i++) {\n                const x2 = (i + j * width) * 4;\n                const center_y = j * ratio_h;\n                let weight = 0;\n                let weights = 0;\n                let weights_alpha = 0;\n                let gx_r = 0;\n                let gx_g = 0;\n                let gx_b = 0;\n                let gx_a = 0;\n                const xx_start = Math.floor(i * ratio_w);\n                const yy_start = Math.floor(j * ratio_h);\n                let xx_stop = Math.ceil((i + 1) * ratio_w);\n                let yy_stop = Math.ceil((j + 1) * ratio_h);\n                xx_stop = Math.min(xx_stop, width_source);\n                yy_stop = Math.min(yy_stop, height_source);\n                for (let yy = yy_start; yy < yy_stop; yy++) {\n                    const dy = Math.abs(center_y - yy) / ratio_h_half;\n                    const center_x = i * ratio_w;\n                    const w0 = dy * dy; //pre-calc part of w\n                    for (let xx = xx_start; xx < xx_stop; xx++) {\n                        const dx = Math.abs(center_x - xx) / ratio_w_half;\n                        const w = Math.sqrt(w0 + dx * dx);\n                        if (w >= 1) {\n                            //pixel too far\n                            continue;\n                        }\n                        //hermite filter\n                        weight = 2 * w * w * w - 3 * w * w + 1;\n                        const pos_x = 4 * (xx + yy * width_source);\n                        //alpha\n                        gx_a += weight * data[pos_x + 3];\n                        weights_alpha += weight;\n                        //colors\n                        if (data[pos_x + 3] < 255)\n                            weight = weight * data[pos_x + 3] / 250;\n                        gx_r += weight * data[pos_x];\n                        gx_g += weight * data[pos_x + 1];\n                        gx_b += weight * data[pos_x + 2];\n                        weights += weight;\n                    }\n                }\n                data2[x2] = gx_r / weights;\n                data2[x2 + 1] = gx_g / weights;\n                data2[x2 + 2] = gx_b / weights;\n                data2[x2 + 3] = gx_a / weights_alpha;\n            }\n        }\n        canvas.width = width;\n        canvas.height = height;\n        //draw\n        ctx.putImageData(img2, 0, 0);\n    }\n}\n\nfunction percentage(percent, totalValue) {\n    return (percent / 100) * totalValue;\n}\n\nclass CropService {\n    crop(sourceImage, loadedImage, cropper, settings, output) {\n        const imagePosition = this.getImagePosition(sourceImage, loadedImage, cropper, settings);\n        const width = imagePosition.x2 - imagePosition.x1;\n        const height = imagePosition.y2 - imagePosition.y1;\n        const cropCanvas = document.createElement('canvas');\n        cropCanvas.width = width;\n        cropCanvas.height = height;\n        const ctx = cropCanvas.getContext('2d');\n        if (!ctx) {\n            return null;\n        }\n        if (settings.backgroundColor != null) {\n            ctx.fillStyle = settings.backgroundColor;\n            ctx.fillRect(0, 0, width, height);\n        }\n        const scaleX = (settings.transform.scale || 1) * (settings.transform.flipH ? -1 : 1);\n        const scaleY = (settings.transform.scale || 1) * (settings.transform.flipV ? -1 : 1);\n        const { translateH, translateV } = this.getCanvasTranslate(sourceImage, loadedImage, settings);\n        const transformedImage = loadedImage.transformed;\n        ctx.setTransform(scaleX, 0, 0, scaleY, transformedImage.size.width / 2 + translateH, transformedImage.size.height / 2 + translateV);\n        ctx.translate(-imagePosition.x1 / scaleX, -imagePosition.y1 / scaleY);\n        ctx.rotate((settings.transform.rotate || 0) * Math.PI / 180);\n        ctx.drawImage(transformedImage.image, -transformedImage.size.width / 2, -transformedImage.size.height / 2);\n        const result = {\n            width, height,\n            imagePosition,\n            cropperPosition: { ...cropper }\n        };\n        if (settings.containWithinAspectRatio) {\n            result.offsetImagePosition = this.getOffsetImagePosition(sourceImage, loadedImage, cropper, settings);\n        }\n        const resizeRatio = this.getResizeRatio(width, height, settings);\n        if (resizeRatio !== 1) {\n            result.width = Math.round(width * resizeRatio);\n            result.height = settings.maintainAspectRatio\n                ? Math.round(result.width / settings.aspectRatio)\n                : Math.round(height * resizeRatio);\n            resizeCanvas(cropCanvas, result.width, result.height);\n        }\n        if (output === 'blob') {\n            return this.cropToBlob(result, cropCanvas, settings);\n        }\n        else {\n            result.base64 = cropCanvas.toDataURL('image/' + settings.format, this.getQuality(settings));\n            return result;\n        }\n    }\n    async cropToBlob(output, cropCanvas, settings) {\n        output.blob = await new Promise(resolve => cropCanvas.toBlob(resolve, 'image/' + settings.format, this.getQuality(settings)));\n        if (output.blob) {\n            output.objectUrl = URL.createObjectURL(output.blob);\n        }\n        return output;\n    }\n    getCanvasTranslate(sourceImage, loadedImage, settings) {\n        if (settings.transform.translateUnit === 'px') {\n            const ratio = this.getRatio(sourceImage, loadedImage);\n            return {\n                translateH: (settings.transform.translateH || 0) * ratio,\n                translateV: (settings.transform.translateV || 0) * ratio\n            };\n        }\n        else {\n            return {\n                translateH: settings.transform.translateH ? percentage(settings.transform.translateH, loadedImage.transformed.size.width) : 0,\n                translateV: settings.transform.translateV ? percentage(settings.transform.translateV, loadedImage.transformed.size.height) : 0\n            };\n        }\n    }\n    getRatio(sourceImage, loadedImage) {\n        const sourceImageElement = sourceImage.nativeElement;\n        return loadedImage.transformed.size.width / sourceImageElement.offsetWidth;\n    }\n    getImagePosition(sourceImage, loadedImage, cropper, settings) {\n        const ratio = this.getRatio(sourceImage, loadedImage);\n        const out = {\n            x1: Math.round(cropper.x1 * ratio),\n            y1: Math.round(cropper.y1 * ratio),\n            x2: Math.round(cropper.x2 * ratio),\n            y2: Math.round(cropper.y2 * ratio)\n        };\n        if (!settings.containWithinAspectRatio) {\n            out.x1 = Math.max(out.x1, 0);\n            out.y1 = Math.max(out.y1, 0);\n            out.x2 = Math.min(out.x2, loadedImage.transformed.size.width);\n            out.y2 = Math.min(out.y2, loadedImage.transformed.size.height);\n        }\n        return out;\n    }\n    getOffsetImagePosition(sourceImage, loadedImage, cropper, settings) {\n        const canvasRotation = settings.canvasRotation + loadedImage.exifTransform.rotate;\n        const sourceImageElement = sourceImage.nativeElement;\n        const ratio = loadedImage.transformed.size.width / sourceImageElement.offsetWidth;\n        let offsetX;\n        let offsetY;\n        if (canvasRotation % 2) {\n            offsetX = (loadedImage.transformed.size.width - loadedImage.original.size.height) / 2;\n            offsetY = (loadedImage.transformed.size.height - loadedImage.original.size.width) / 2;\n        }\n        else {\n            offsetX = (loadedImage.transformed.size.width - loadedImage.original.size.width) / 2;\n            offsetY = (loadedImage.transformed.size.height - loadedImage.original.size.height) / 2;\n        }\n        const out = {\n            x1: Math.round(cropper.x1 * ratio) - offsetX,\n            y1: Math.round(cropper.y1 * ratio) - offsetY,\n            x2: Math.round(cropper.x2 * ratio) - offsetX,\n            y2: Math.round(cropper.y2 * ratio) - offsetY\n        };\n        if (!settings.containWithinAspectRatio) {\n            out.x1 = Math.max(out.x1, 0);\n            out.y1 = Math.max(out.y1, 0);\n            out.x2 = Math.min(out.x2, loadedImage.transformed.size.width);\n            out.y2 = Math.min(out.y2, loadedImage.transformed.size.height);\n        }\n        return out;\n    }\n    getResizeRatio(width, height, settings) {\n        const ratioWidth = settings.resizeToWidth / width;\n        const ratioHeight = settings.resizeToHeight / height;\n        const ratios = new Array();\n        if (settings.resizeToWidth > 0) {\n            ratios.push(ratioWidth);\n        }\n        if (settings.resizeToHeight > 0) {\n            ratios.push(ratioHeight);\n        }\n        const result = ratios.length === 0 ? 1 : Math.min(...ratios);\n        if (result > 1 && !settings.onlyScaleDown) {\n            return result;\n        }\n        return Math.min(result, 1);\n    }\n    getQuality(settings) {\n        return Math.min(1, Math.max(0, settings.imageQuality / 100));\n    }\n}\nCropService.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: CropService, deps: [], target: i0.FactoryTarget.Injectable });\nCropService.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: CropService, providedIn: 'root' });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: CropService, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }] });\n\nclass CropperPositionService {\n    resetCropperPosition(sourceImage, cropperPosition, settings) {\n        if (!sourceImage?.nativeElement) {\n            return;\n        }\n        const sourceImageElement = sourceImage.nativeElement;\n        if (settings.cropperStaticHeight && settings.cropperStaticWidth) {\n            cropperPosition.x1 = 0;\n            cropperPosition.x2 = sourceImageElement.offsetWidth > settings.cropperStaticWidth ?\n                settings.cropperStaticWidth : sourceImageElement.offsetWidth;\n            cropperPosition.y1 = 0;\n            cropperPosition.y2 = sourceImageElement.offsetHeight > settings.cropperStaticHeight ?\n                settings.cropperStaticHeight : sourceImageElement.offsetHeight;\n        }\n        else {\n            const cropperWidth = Math.min(settings.cropperScaledMaxWidth, sourceImageElement.offsetWidth);\n            const cropperHeight = Math.min(settings.cropperScaledMaxHeight, sourceImageElement.offsetHeight);\n            if (!settings.maintainAspectRatio) {\n                cropperPosition.x1 = 0;\n                cropperPosition.x2 = cropperWidth;\n                cropperPosition.y1 = 0;\n                cropperPosition.y2 = cropperHeight;\n            }\n            else if (sourceImageElement.offsetWidth / settings.aspectRatio < sourceImageElement.offsetHeight) {\n                cropperPosition.x1 = 0;\n                cropperPosition.x2 = cropperWidth;\n                const cropperHeightWithAspectRatio = cropperWidth / settings.aspectRatio;\n                cropperPosition.y1 = (sourceImageElement.offsetHeight - cropperHeightWithAspectRatio) / 2;\n                cropperPosition.y2 = cropperPosition.y1 + cropperHeightWithAspectRatio;\n            }\n            else {\n                cropperPosition.y1 = 0;\n                cropperPosition.y2 = cropperHeight;\n                const cropperWidthWithAspectRatio = cropperHeight * settings.aspectRatio;\n                cropperPosition.x1 = (sourceImageElement.offsetWidth - cropperWidthWithAspectRatio) / 2;\n                cropperPosition.x2 = cropperPosition.x1 + cropperWidthWithAspectRatio;\n            }\n        }\n    }\n    move(event, moveStart, cropperPosition) {\n        const diffX = this.getClientX(event) - moveStart.clientX;\n        const diffY = this.getClientY(event) - moveStart.clientY;\n        cropperPosition.x1 = moveStart.x1 + diffX;\n        cropperPosition.y1 = moveStart.y1 + diffY;\n        cropperPosition.x2 = moveStart.x2 + diffX;\n        cropperPosition.y2 = moveStart.y2 + diffY;\n    }\n    resize(event, moveStart, cropperPosition, maxSize, settings) {\n        const moveX = this.getClientX(event) - moveStart.clientX;\n        const moveY = this.getClientY(event) - moveStart.clientY;\n        switch (moveStart.position) {\n            case 'left':\n                cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth), cropperPosition.x2 - settings.cropperScaledMinWidth);\n                break;\n            case 'topleft':\n                cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth), cropperPosition.x2 - settings.cropperScaledMinWidth);\n                cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight), cropperPosition.y2 - settings.cropperScaledMinHeight);\n                break;\n            case 'top':\n                cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight), cropperPosition.y2 - settings.cropperScaledMinHeight);\n                break;\n            case 'topright':\n                cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth), cropperPosition.x1 + settings.cropperScaledMinWidth);\n                cropperPosition.y1 = Math.min(Math.max(moveStart.y1 + moveY, cropperPosition.y2 - settings.cropperScaledMaxHeight), cropperPosition.y2 - settings.cropperScaledMinHeight);\n                break;\n            case 'right':\n                cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth), cropperPosition.x1 + settings.cropperScaledMinWidth);\n                break;\n            case 'bottomright':\n                cropperPosition.x2 = Math.max(Math.min(moveStart.x2 + moveX, cropperPosition.x1 + settings.cropperScaledMaxWidth), cropperPosition.x1 + settings.cropperScaledMinWidth);\n                cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight), cropperPosition.y1 + settings.cropperScaledMinHeight);\n                break;\n            case 'bottom':\n                cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight), cropperPosition.y1 + settings.cropperScaledMinHeight);\n                break;\n            case 'bottomleft':\n                cropperPosition.x1 = Math.min(Math.max(moveStart.x1 + moveX, cropperPosition.x2 - settings.cropperScaledMaxWidth), cropperPosition.x2 - settings.cropperScaledMinWidth);\n                cropperPosition.y2 = Math.max(Math.min(moveStart.y2 + moveY, cropperPosition.y1 + settings.cropperScaledMaxHeight), cropperPosition.y1 + settings.cropperScaledMinHeight);\n                break;\n            case 'center':\n                const scale = event.scale;\n                const newWidth = Math.min(Math.max(settings.cropperScaledMinWidth, (Math.abs(moveStart.x2 - moveStart.x1)) * scale), settings.cropperScaledMaxWidth);\n                const newHeight = Math.min(Math.max(settings.cropperScaledMinHeight, (Math.abs(moveStart.y2 - moveStart.y1)) * scale), settings.cropperScaledMaxHeight);\n                cropperPosition.x1 = moveStart.clientX - newWidth / 2;\n                cropperPosition.x2 = moveStart.clientX + newWidth / 2;\n                cropperPosition.y1 = moveStart.clientY - newHeight / 2;\n                cropperPosition.y2 = moveStart.clientY + newHeight / 2;\n                if (cropperPosition.x1 < 0) {\n                    cropperPosition.x2 -= cropperPosition.x1;\n                    cropperPosition.x1 = 0;\n                }\n                else if (cropperPosition.x2 > maxSize.width) {\n                    cropperPosition.x1 -= (cropperPosition.x2 - maxSize.width);\n                    cropperPosition.x2 = maxSize.width;\n                }\n                if (cropperPosition.y1 < 0) {\n                    cropperPosition.y2 -= cropperPosition.y1;\n                    cropperPosition.y1 = 0;\n                }\n                else if (cropperPosition.y2 > maxSize.height) {\n                    cropperPosition.y1 -= (cropperPosition.y2 - maxSize.height);\n                    cropperPosition.y2 = maxSize.height;\n                }\n                break;\n        }\n        if (settings.maintainAspectRatio) {\n            this.checkAspectRatio(moveStart.position, cropperPosition, maxSize, settings);\n        }\n    }\n    checkAspectRatio(position, cropperPosition, maxSize, settings) {\n        let overflowX = 0;\n        let overflowY = 0;\n        switch (position) {\n            case 'top':\n                cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\n                overflowY = Math.max(0 - cropperPosition.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\n                }\n                break;\n            case 'bottom':\n                cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\n                overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : (overflowX / settings.aspectRatio);\n                }\n                break;\n            case 'topleft':\n                cropperPosition.y1 = cropperPosition.y2 - (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\n                overflowX = Math.max(0 - cropperPosition.x1, 0);\n                overflowY = Math.max(0 - cropperPosition.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x1 += (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\n                }\n                break;\n            case 'topright':\n                cropperPosition.y1 = cropperPosition.y2 - (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\n                overflowY = Math.max(0 - cropperPosition.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y1 += (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\n                }\n                break;\n            case 'right':\n            case 'bottomright':\n                cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\n                overflowX = Math.max(cropperPosition.x2 - maxSize.width, 0);\n                overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x2 -= (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\n                }\n                break;\n            case 'left':\n            case 'bottomleft':\n                cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\n                overflowX = Math.max(0 - cropperPosition.x1, 0);\n                overflowY = Math.max(cropperPosition.y2 - maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    cropperPosition.x1 += (overflowY * settings.aspectRatio) > overflowX ? (overflowY * settings.aspectRatio) : overflowX;\n                    cropperPosition.y2 -= (overflowY * settings.aspectRatio) > overflowX ? overflowY : overflowX / settings.aspectRatio;\n                }\n                break;\n            case 'center':\n                cropperPosition.x2 = cropperPosition.x1 + (cropperPosition.y2 - cropperPosition.y1) * settings.aspectRatio;\n                cropperPosition.y2 = cropperPosition.y1 + (cropperPosition.x2 - cropperPosition.x1) / settings.aspectRatio;\n                const overflowX1 = Math.max(0 - cropperPosition.x1, 0);\n                const overflowX2 = Math.max(cropperPosition.x2 - maxSize.width, 0);\n                const overflowY1 = Math.max(cropperPosition.y2 - maxSize.height, 0);\n                const overflowY2 = Math.max(0 - cropperPosition.y1, 0);\n                if (overflowX1 > 0 || overflowX2 > 0 || overflowY1 > 0 || overflowY2 > 0) {\n                    cropperPosition.x1 += (overflowY1 * settings.aspectRatio) > overflowX1 ? (overflowY1 * settings.aspectRatio) : overflowX1;\n                    cropperPosition.x2 -= (overflowY2 * settings.aspectRatio) > overflowX2 ? (overflowY2 * settings.aspectRatio) : overflowX2;\n                    cropperPosition.y1 += (overflowY2 * settings.aspectRatio) > overflowX2 ? overflowY2 : overflowX2 / settings.aspectRatio;\n                    cropperPosition.y2 -= (overflowY1 * settings.aspectRatio) > overflowX1 ? overflowY1 : overflowX1 / settings.aspectRatio;\n                }\n                break;\n        }\n    }\n    getClientX(event) {\n        return event.touches?.[0].clientX || event.clientX || 0;\n    }\n    getClientY(event) {\n        return event.touches?.[0].clientY || event.clientY || 0;\n    }\n}\nCropperPositionService.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: CropperPositionService, deps: [], target: i0.FactoryTarget.Injectable });\nCropperPositionService.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: CropperPositionService, providedIn: 'root' });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: CropperPositionService, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }] });\n\n// Black 2x1 JPEG, with the following meta information set:\n// - EXIF Orientation: 6 (Rotated 90 CCW)\n// Source: https://github.com/blueimp/JavaScript-Load-Image\nconst testAutoOrientationImageURL = 'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' +\n    'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' +\n    'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' +\n    'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/x' +\n    'ABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAA' +\n    'AAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==';\nfunction supportsAutomaticRotation() {\n    return new Promise((resolve) => {\n        const img = new Image();\n        img.onload = () => {\n            // Check if browser supports automatic image orientation:\n            const supported = img.width === 1 && img.height === 2;\n            resolve(supported);\n        };\n        img.src = testAutoOrientationImageURL;\n    });\n}\nfunction getTransformationsFromExifData(exifRotationOrArrayBuffer) {\n    if (typeof exifRotationOrArrayBuffer === 'object') {\n        exifRotationOrArrayBuffer = getExifRotation(exifRotationOrArrayBuffer);\n    }\n    switch (exifRotationOrArrayBuffer) {\n        case 2:\n            return { rotate: 0, flip: true };\n        case 3:\n            return { rotate: 2, flip: false };\n        case 4:\n            return { rotate: 2, flip: true };\n        case 5:\n            return { rotate: 1, flip: true };\n        case 6:\n            return { rotate: 1, flip: false };\n        case 7:\n            return { rotate: 3, flip: true };\n        case 8:\n            return { rotate: 3, flip: false };\n        default:\n            return { rotate: 0, flip: false };\n    }\n}\nfunction getExifRotation(arrayBuffer) {\n    const view = new DataView(arrayBuffer);\n    if (view.getUint16(0, false) !== 0xFFD8) {\n        return -2;\n    }\n    const length = view.byteLength;\n    let offset = 2;\n    while (offset < length) {\n        if (view.getUint16(offset + 2, false) <= 8)\n            return -1;\n        const marker = view.getUint16(offset, false);\n        offset += 2;\n        if (marker == 0xFFE1) {\n            if (view.getUint32(offset += 2, false) !== 0x45786966) {\n                return -1;\n            }\n            const little = view.getUint16(offset += 6, false) == 0x4949;\n            offset += view.getUint32(offset + 4, little);\n            const tags = view.getUint16(offset, little);\n            offset += 2;\n            for (let i = 0; i < tags; i++) {\n                if (view.getUint16(offset + (i * 12), little) == 0x0112) {\n                    return view.getUint16(offset + (i * 12) + 8, little);\n                }\n            }\n        }\n        else if ((marker & 0xFF00) !== 0xFF00) {\n            break;\n        }\n        else {\n            offset += view.getUint16(offset, false);\n        }\n    }\n    return -1;\n}\n\nclass LoadImageService {\n    constructor() {\n        this.autoRotateSupported = supportsAutomaticRotation();\n    }\n    loadImageFile(file, cropperSettings) {\n        return file.arrayBuffer()\n            .then(arrayBuffer => this.checkImageTypeAndLoadImageFromArrayBuffer(arrayBuffer, file.type, cropperSettings));\n    }\n    checkImageTypeAndLoadImageFromArrayBuffer(arrayBuffer, imageType, cropperSettings) {\n        if (!this.isValidImageType(imageType)) {\n            return Promise.reject(new Error('Invalid image type'));\n        }\n        return this.loadImageFromArrayBuffer(arrayBuffer, cropperSettings);\n    }\n    isValidImageType(type) {\n        return /image\\/(png|jpg|jpeg|bmp|gif|tiff|webp|x-icon|vnd.microsoft.icon)/.test(type);\n    }\n    loadImageFromURL(url, cropperSettings) {\n        return fetch(url)\n            .then(res => res.arrayBuffer())\n            .then(buffer => this.loadImageFromArrayBuffer(buffer, cropperSettings));\n    }\n    loadBase64Image(imageBase64, cropperSettings) {\n        const arrayBuffer = this.base64ToArrayBuffer(imageBase64);\n        return this.loadImageFromArrayBuffer(arrayBuffer, cropperSettings);\n    }\n    base64ToArrayBuffer(imageBase64) {\n        imageBase64 = imageBase64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\n        const binaryString = atob(imageBase64);\n        const len = binaryString.length;\n        const bytes = new Uint8Array(len);\n        for (let i = 0; i < len; i++) {\n            bytes[i] = binaryString.charCodeAt(i);\n        }\n        return bytes.buffer;\n    }\n    loadImageFromArrayBuffer(arrayBuffer, cropperSettings) {\n        return new Promise((resolve, reject) => {\n            const blob = new Blob([arrayBuffer]);\n            const objectUrl = URL.createObjectURL(blob);\n            const originalImage = new Image();\n            originalImage.onload = () => resolve({\n                originalImage,\n                originalObjectUrl: objectUrl,\n                originalArrayBuffer: arrayBuffer\n            });\n            originalImage.onerror = reject;\n            originalImage.src = objectUrl;\n        }).then((res) => this.transformImageFromArrayBuffer(res, cropperSettings));\n    }\n    async transformImageFromArrayBuffer(res, cropperSettings) {\n        const autoRotate = await this.autoRotateSupported;\n        const exifTransform = await getTransformationsFromExifData(autoRotate ? -1 : res.originalArrayBuffer);\n        if (!res.originalImage || !res.originalImage.complete) {\n            return Promise.reject(new Error('No image loaded'));\n        }\n        const loadedImage = {\n            original: {\n                objectUrl: res.originalObjectUrl,\n                image: res.originalImage,\n                size: {\n                    width: res.originalImage.naturalWidth,\n                    height: res.originalImage.naturalHeight\n                }\n            },\n            exifTransform\n        };\n        return this.transformLoadedImage(loadedImage, cropperSettings);\n    }\n    async transformLoadedImage(loadedImage, cropperSettings) {\n        const canvasRotation = cropperSettings.canvasRotation + loadedImage.exifTransform.rotate;\n        const originalSize = {\n            width: loadedImage.original.image.naturalWidth,\n            height: loadedImage.original.image.naturalHeight\n        };\n        if (canvasRotation === 0 && !loadedImage.exifTransform.flip && !cropperSettings.containWithinAspectRatio) {\n            return {\n                original: {\n                    objectUrl: loadedImage.original.objectUrl,\n                    image: loadedImage.original.image,\n                    size: { ...originalSize }\n                },\n                transformed: {\n                    objectUrl: loadedImage.original.objectUrl,\n                    image: loadedImage.original.image,\n                    size: { ...originalSize }\n                },\n                exifTransform: loadedImage.exifTransform\n            };\n        }\n        const transformedSize = this.getTransformedSize(originalSize, loadedImage.exifTransform, cropperSettings);\n        const canvas = document.createElement('canvas');\n        canvas.width = transformedSize.width;\n        canvas.height = transformedSize.height;\n        const ctx = canvas.getContext('2d');\n        ctx?.setTransform(loadedImage.exifTransform.flip ? -1 : 1, 0, 0, 1, canvas.width / 2, canvas.height / 2);\n        ctx?.rotate(Math.PI * (canvasRotation / 2));\n        ctx?.drawImage(loadedImage.original.image, -originalSize.width / 2, -originalSize.height / 2);\n        const blob = await new Promise(resolve => canvas.toBlob(resolve, cropperSettings.format));\n        if (!blob) {\n            throw new Error('Failed to get Blob for transformed image.');\n        }\n        const objectUrl = URL.createObjectURL(blob);\n        const transformedImage = await this.loadImageFromObjectUrl(objectUrl);\n        return {\n            original: {\n                objectUrl: loadedImage.original.objectUrl,\n                image: loadedImage.original.image,\n                size: { ...originalSize }\n            },\n            transformed: {\n                objectUrl: objectUrl,\n                image: transformedImage,\n                size: {\n                    width: transformedImage.width,\n                    height: transformedImage.height\n                }\n            },\n            exifTransform: loadedImage.exifTransform\n        };\n    }\n    loadImageFromObjectUrl(objectUrl) {\n        return new Promise(((resolve, reject) => {\n            const image = new Image();\n            image.onload = () => resolve(image);\n            image.onerror = reject;\n            image.src = objectUrl;\n        }));\n    }\n    getTransformedSize(originalSize, exifTransform, cropperSettings) {\n        const canvasRotation = cropperSettings.canvasRotation + exifTransform.rotate;\n        if (cropperSettings.containWithinAspectRatio) {\n            if (canvasRotation % 2) {\n                const minWidthToContain = originalSize.width * cropperSettings.aspectRatio;\n                const minHeightToContain = originalSize.height / cropperSettings.aspectRatio;\n                return {\n                    width: Math.max(originalSize.height, minWidthToContain),\n                    height: Math.max(originalSize.width, minHeightToContain)\n                };\n            }\n            else {\n                const minWidthToContain = originalSize.height * cropperSettings.aspectRatio;\n                const minHeightToContain = originalSize.width / cropperSettings.aspectRatio;\n                return {\n                    width: Math.max(originalSize.width, minWidthToContain),\n                    height: Math.max(originalSize.height, minHeightToContain)\n                };\n            }\n        }\n        if (canvasRotation % 2) {\n            return {\n                height: originalSize.width,\n                width: originalSize.height\n            };\n        }\n        return {\n            width: originalSize.width,\n            height: originalSize.height\n        };\n    }\n}\nLoadImageService.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: LoadImageService, deps: [], target: i0.FactoryTarget.Injectable });\nLoadImageService.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: LoadImageService, providedIn: 'root' });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: LoadImageService, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }] });\n\nclass ImageCropperComponent {\n    constructor(cropService, cropperPositionService, loadImageService, sanitizer, cd, hammerLoader) {\n        this.cropService = cropService;\n        this.cropperPositionService = cropperPositionService;\n        this.loadImageService = loadImageService;\n        this.sanitizer = sanitizer;\n        this.cd = cd;\n        this.hammerLoader = hammerLoader;\n        this.settings = new CropperSettings();\n        this.setImageMaxSizeRetries = 0;\n        this.resizedWhileHidden = false;\n        this.marginLeft = '0px';\n        this.maxSize = {\n            width: 0,\n            height: 0\n        };\n        this.moveTypes = MoveTypes;\n        this.imageVisible = false;\n        this.output = this.settings.output;\n        this.format = this.settings.format;\n        this.transform = {};\n        this.maintainAspectRatio = this.settings.maintainAspectRatio;\n        this.aspectRatio = this.settings.aspectRatio;\n        this.resetCropOnAspectRatioChange = this.settings.resetCropOnAspectRatioChange;\n        this.resizeToWidth = this.settings.resizeToWidth;\n        this.resizeToHeight = this.settings.resizeToHeight;\n        this.cropperMinWidth = this.settings.cropperMinWidth;\n        this.cropperMinHeight = this.settings.cropperMinHeight;\n        this.cropperMaxHeight = this.settings.cropperMaxHeight;\n        this.cropperMaxWidth = this.settings.cropperMaxWidth;\n        this.cropperStaticWidth = this.settings.cropperStaticWidth;\n        this.cropperStaticHeight = this.settings.cropperStaticHeight;\n        this.canvasRotation = this.settings.canvasRotation;\n        this.initialStepSize = this.settings.initialStepSize;\n        this.roundCropper = this.settings.roundCropper;\n        this.onlyScaleDown = this.settings.onlyScaleDown;\n        this.imageQuality = this.settings.imageQuality;\n        this.autoCrop = this.settings.autoCrop;\n        this.backgroundColor = this.settings.backgroundColor;\n        this.containWithinAspectRatio = this.settings.containWithinAspectRatio;\n        this.hideResizeSquares = this.settings.hideResizeSquares;\n        this.allowMoveImage = false;\n        this.cropper = {\n            x1: -100,\n            y1: -100,\n            x2: 10000,\n            y2: 10000\n        };\n        this.alignImage = this.settings.alignImage;\n        this.disabled = false;\n        this.hidden = false;\n        this.imageCropped = new EventEmitter();\n        this.startCropImage = new EventEmitter();\n        this.imageLoaded = new EventEmitter();\n        this.cropperReady = new EventEmitter();\n        this.loadImageFailed = new EventEmitter();\n        this.transformChange = new EventEmitter();\n        this.reset();\n    }\n    ngOnChanges(changes) {\n        this.onChangesUpdateSettings(changes);\n        this.onChangesInputImage(changes);\n        if (this.loadedImage?.original.image.complete && (changes['containWithinAspectRatio'] || changes['canvasRotation'])) {\n            this.loadImageService\n                .transformLoadedImage(this.loadedImage, this.settings)\n                .then((res) => this.setLoadedImage(res))\n                .catch((err) => this.loadImageError(err));\n        }\n        if (changes['cropper'] || changes['maintainAspectRatio'] || changes['aspectRatio']) {\n            this.setMaxSize();\n            this.setCropperScaledMinSize();\n            this.setCropperScaledMaxSize();\n            if (this.maintainAspectRatio &&\n                (this.resetCropOnAspectRatioChange || !this.aspectRatioIsCorrect()) &&\n                (changes['maintainAspectRatio'] || changes['aspectRatio'])) {\n                this.resetCropperPosition();\n            }\n            else if (changes['cropper']) {\n                this.checkCropperPosition(false);\n                this.doAutoCrop();\n            }\n            this.cd.markForCheck();\n        }\n        if (changes['transform']) {\n            this.transform = this.transform || {};\n            this.setCssTransform();\n            this.doAutoCrop();\n            this.cd.markForCheck();\n        }\n        if (changes['hidden'] && this.resizedWhileHidden && !this.hidden) {\n            setTimeout(() => {\n                this.onResize();\n                this.resizedWhileHidden = false;\n            });\n        }\n    }\n    onChangesUpdateSettings(changes) {\n        this.settings.setOptionsFromChanges(changes);\n        if (this.settings.cropperStaticHeight && this.settings.cropperStaticWidth) {\n            this.settings.setOptions({\n                hideResizeSquares: true,\n                cropperMinWidth: this.settings.cropperStaticWidth,\n                cropperMinHeight: this.settings.cropperStaticHeight,\n                cropperMaxHeight: this.settings.cropperStaticHeight,\n                cropperMaxWidth: this.settings.cropperStaticWidth,\n                maintainAspectRatio: false\n            });\n        }\n    }\n    onChangesInputImage(changes) {\n        if (changes['imageChangedEvent'] || changes['imageURL'] || changes['imageBase64'] || changes['imageFile']) {\n            this.reset();\n        }\n        if (changes['imageChangedEvent'] && this.isValidImageChangedEvent()) {\n            this.loadImageFile(this.imageChangedEvent.target.files[0]);\n        }\n        if (changes['imageURL'] && this.imageURL) {\n            this.loadImageFromURL(this.imageURL);\n        }\n        if (changes['imageBase64'] && this.imageBase64) {\n            this.loadBase64Image(this.imageBase64);\n        }\n        if (changes['imageFile'] && this.imageFile) {\n            this.loadImageFile(this.imageFile);\n        }\n    }\n    isValidImageChangedEvent() {\n        return this.imageChangedEvent?.target?.files?.length > 0;\n    }\n    setCssTransform() {\n        const translateUnit = this.transform?.translateUnit || '%';\n        this.safeTransformStyle = this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH || 0}${translateUnit}, ${this.transform.translateV || 0}${translateUnit})` +\n            ' scaleX(' + (this.transform.scale || 1) * (this.transform.flipH ? -1 : 1) + ')' +\n            ' scaleY(' + (this.transform.scale || 1) * (this.transform.flipV ? -1 : 1) + ')' +\n            ' rotate(' + (this.transform.rotate || 0) + 'deg)');\n    }\n    ngOnInit() {\n        this.settings.stepSize = this.initialStepSize;\n        this.activatePinchGesture();\n    }\n    reset() {\n        this.imageVisible = false;\n        this.loadedImage = undefined;\n        this.safeImgDataUrl = 'data:image/png;base64,iVBORw0KGg'\n            + 'oAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAU'\n            + 'AAarVyFEAAAAASUVORK5CYII=';\n        this.moveStart = {\n            active: false,\n            type: null,\n            position: null,\n            x1: 0,\n            y1: 0,\n            x2: 0,\n            y2: 0,\n            clientX: 0,\n            clientY: 0\n        };\n        this.maxSize = {\n            width: 0,\n            height: 0\n        };\n        this.cropper.x1 = -100;\n        this.cropper.y1 = -100;\n        this.cropper.x2 = 10000;\n        this.cropper.y2 = 10000;\n    }\n    loadImageFile(file) {\n        this.loadImageService\n            .loadImageFile(file, this.settings)\n            .then((res) => this.setLoadedImage(res))\n            .catch((err) => this.loadImageError(err));\n    }\n    loadBase64Image(imageBase64) {\n        this.loadImageService\n            .loadBase64Image(imageBase64, this.settings)\n            .then((res) => this.setLoadedImage(res))\n            .catch((err) => this.loadImageError(err));\n    }\n    loadImageFromURL(url) {\n        this.loadImageService\n            .loadImageFromURL(url, this.settings)\n            .then((res) => this.setLoadedImage(res))\n            .catch((err) => this.loadImageError(err));\n    }\n    setLoadedImage(loadedImage) {\n        this.loadedImage = loadedImage;\n        this.safeImgDataUrl = this.sanitizer.bypassSecurityTrustResourceUrl(loadedImage.transformed.objectUrl);\n        this.cd.markForCheck();\n    }\n    loadImageError(error) {\n        console.error(error);\n        this.loadImageFailed.emit();\n    }\n    imageLoadedInView() {\n        if (this.loadedImage != null) {\n            this.imageLoaded.emit(this.loadedImage);\n            this.setImageMaxSizeRetries = 0;\n            setTimeout(() => this.checkImageMaxSizeRecursively());\n        }\n    }\n    checkImageMaxSizeRecursively() {\n        if (this.setImageMaxSizeRetries > 40) {\n            this.loadImageFailed.emit();\n        }\n        else if (this.sourceImageLoaded()) {\n            this.setMaxSize();\n            this.setCropperScaledMinSize();\n            this.setCropperScaledMaxSize();\n            this.resetCropperPosition();\n            this.cropperReady.emit({ ...this.maxSize });\n            this.cd.markForCheck();\n        }\n        else {\n            this.setImageMaxSizeRetries++;\n            setTimeout(() => this.checkImageMaxSizeRecursively(), 50);\n        }\n    }\n    sourceImageLoaded() {\n        return this.sourceImage?.nativeElement?.offsetWidth > 0;\n    }\n    onResize() {\n        if (!this.loadedImage) {\n            return;\n        }\n        if (this.hidden) {\n            this.resizedWhileHidden = true;\n        }\n        else {\n            this.resizeCropperPosition();\n            this.setMaxSize();\n            this.setCropperScaledMinSize();\n            this.setCropperScaledMaxSize();\n        }\n    }\n    async activatePinchGesture() {\n        // Loads HammerJS via angular APIs if configured\n        await this.hammerLoader?.();\n        const Hammer = window?.['Hammer'] || null;\n        if (Hammer) {\n            const hammer = new Hammer(this.wrapper.nativeElement);\n            hammer.get('pinch').set({ enable: true });\n            hammer.on('pinchmove', this.onPinch.bind(this));\n            hammer.on('pinchend', this.pinchStop.bind(this));\n            hammer.on('pinchstart', this.startPinch.bind(this));\n        }\n        else if (isDevMode()) {\n            console.warn('[NgxImageCropper] Could not find HammerJS - Pinch Gesture won\\'t work');\n        }\n    }\n    resizeCropperPosition() {\n        const sourceImageElement = this.sourceImage.nativeElement;\n        if (this.maxSize.width !== sourceImageElement.offsetWidth || this.maxSize.height !== sourceImageElement.offsetHeight) {\n            this.cropper.x1 = this.cropper.x1 * sourceImageElement.offsetWidth / this.maxSize.width;\n            this.cropper.x2 = this.cropper.x2 * sourceImageElement.offsetWidth / this.maxSize.width;\n            this.cropper.y1 = this.cropper.y1 * sourceImageElement.offsetHeight / this.maxSize.height;\n            this.cropper.y2 = this.cropper.y2 * sourceImageElement.offsetHeight / this.maxSize.height;\n        }\n    }\n    resetCropperPosition() {\n        this.cropperPositionService.resetCropperPosition(this.sourceImage, this.cropper, this.settings);\n        this.doAutoCrop();\n        this.imageVisible = true;\n    }\n    keyboardAccess(event) {\n        this.changeKeyboardStepSize(event);\n        this.keyboardMoveCropper(event);\n    }\n    changeKeyboardStepSize(event) {\n        const key = +event.key;\n        if (key >= 1 && key <= 9) {\n            this.settings.stepSize = key;\n        }\n    }\n    keyboardMoveCropper(event) {\n        const keyboardWhiteList = ['ArrowUp', 'ArrowDown', 'ArrowRight', 'ArrowLeft'];\n        if (!(keyboardWhiteList.includes(event.key))) {\n            return;\n        }\n        const moveType = event.shiftKey ? MoveTypes.Resize : MoveTypes.Move;\n        const position = event.altKey ? getInvertedPositionForKey(event.key) : getPositionForKey(event.key);\n        const moveEvent = getEventForKey(event.key, this.settings.stepSize);\n        event.preventDefault();\n        event.stopPropagation();\n        this.startMove({ clientX: 0, clientY: 0 }, moveType, position);\n        this.moveImg(moveEvent);\n        this.moveStop();\n    }\n    startMove(event, moveType, position = null) {\n        if (this.disabled\n            || this.moveStart?.active && this.moveStart?.type === MoveTypes.Pinch\n            || moveType === MoveTypes.Drag && !this.allowMoveImage) {\n            return;\n        }\n        if (event.preventDefault) {\n            event.preventDefault();\n        }\n        this.moveStart = {\n            active: true,\n            type: moveType,\n            position,\n            transform: { ...this.transform },\n            clientX: this.cropperPositionService.getClientX(event),\n            clientY: this.cropperPositionService.getClientY(event),\n            ...this.cropper\n        };\n    }\n    startPinch(event) {\n        if (!this.safeImgDataUrl) {\n            return;\n        }\n        if (event.preventDefault) {\n            event.preventDefault();\n        }\n        this.moveStart = {\n            active: true,\n            type: MoveTypes.Pinch,\n            position: 'center',\n            clientX: this.cropper.x1 + (this.cropper.x2 - this.cropper.x1) / 2,\n            clientY: this.cropper.y1 + (this.cropper.y2 - this.cropper.y1) / 2,\n            ...this.cropper\n        };\n    }\n    moveImg(event) {\n        if (this.moveStart.active) {\n            if (event.stopPropagation) {\n                event.stopPropagation();\n            }\n            if (event.preventDefault) {\n                event.preventDefault();\n            }\n            if (this.moveStart.type === MoveTypes.Move) {\n                this.cropperPositionService.move(event, this.moveStart, this.cropper);\n                this.checkCropperPosition(true);\n            }\n            else if (this.moveStart.type === MoveTypes.Resize) {\n                if (!this.cropperStaticWidth && !this.cropperStaticHeight) {\n                    this.cropperPositionService.resize(event, this.moveStart, this.cropper, this.maxSize, this.settings);\n                }\n                this.checkCropperPosition(false);\n            }\n            else if (this.moveStart.type === MoveTypes.Drag) {\n                const diffX = this.cropperPositionService.getClientX(event) - this.moveStart.clientX;\n                const diffY = this.cropperPositionService.getClientY(event) - this.moveStart.clientY;\n                this.transform = {\n                    ...this.transform,\n                    translateH: (this.moveStart.transform?.translateH || 0) + diffX,\n                    translateV: (this.moveStart.transform?.translateV || 0) + diffY\n                };\n                this.setCssTransform();\n            }\n            this.cd.detectChanges();\n        }\n    }\n    onPinch(event) {\n        if (this.moveStart.active) {\n            if (event.stopPropagation) {\n                event.stopPropagation();\n            }\n            if (event.preventDefault) {\n                event.preventDefault();\n            }\n            if (this.moveStart.type === MoveTypes.Pinch) {\n                this.cropperPositionService.resize(event, this.moveStart, this.cropper, this.maxSize, this.settings);\n                this.checkCropperPosition(false);\n            }\n            this.cd.detectChanges();\n        }\n    }\n    setMaxSize() {\n        if (this.sourceImage) {\n            const sourceImageElement = this.sourceImage.nativeElement;\n            this.maxSize.width = sourceImageElement.offsetWidth;\n            this.maxSize.height = sourceImageElement.offsetHeight;\n            this.marginLeft = this.sanitizer.bypassSecurityTrustStyle('calc(50% - ' + this.maxSize.width / 2 + 'px)');\n        }\n    }\n    setCropperScaledMinSize() {\n        if (this.loadedImage?.transformed?.image) {\n            this.setCropperScaledMinWidth();\n            this.setCropperScaledMinHeight();\n        }\n        else {\n            this.settings.cropperScaledMinWidth = 20;\n            this.settings.cropperScaledMinHeight = 20;\n        }\n    }\n    setCropperScaledMinWidth() {\n        this.settings.cropperScaledMinWidth = this.cropperMinWidth > 0\n            ? Math.max(20, this.cropperMinWidth / this.loadedImage.transformed.image.width * this.maxSize.width)\n            : 20;\n    }\n    setCropperScaledMinHeight() {\n        if (this.maintainAspectRatio) {\n            this.settings.cropperScaledMinHeight = Math.max(20, this.settings.cropperScaledMinWidth / this.aspectRatio);\n        }\n        else if (this.cropperMinHeight > 0) {\n            this.settings.cropperScaledMinHeight = Math.max(20, this.cropperMinHeight / this.loadedImage.transformed.image.height * this.maxSize.height);\n        }\n        else {\n            this.settings.cropperScaledMinHeight = 20;\n        }\n    }\n    setCropperScaledMaxSize() {\n        if (this.loadedImage?.transformed?.image) {\n            const ratio = this.loadedImage.transformed.size.width / this.maxSize.width;\n            this.settings.cropperScaledMaxWidth = this.cropperMaxWidth > 20 ? this.cropperMaxWidth / ratio : this.maxSize.width;\n            this.settings.cropperScaledMaxHeight = this.cropperMaxHeight > 20 ? this.cropperMaxHeight / ratio : this.maxSize.height;\n            if (this.maintainAspectRatio) {\n                if (this.settings.cropperScaledMaxWidth > this.settings.cropperScaledMaxHeight * this.aspectRatio) {\n                    this.settings.cropperScaledMaxWidth = this.settings.cropperScaledMaxHeight * this.aspectRatio;\n                }\n                else if (this.settings.cropperScaledMaxWidth < this.settings.cropperScaledMaxHeight * this.aspectRatio) {\n                    this.settings.cropperScaledMaxHeight = this.settings.cropperScaledMaxWidth / this.aspectRatio;\n                }\n            }\n        }\n        else {\n            this.settings.cropperScaledMaxWidth = this.maxSize.width;\n            this.settings.cropperScaledMaxHeight = this.maxSize.height;\n        }\n    }\n    checkCropperPosition(maintainSize = false) {\n        if (this.cropper.x1 < 0) {\n            this.cropper.x2 -= maintainSize ? this.cropper.x1 : 0;\n            this.cropper.x1 = 0;\n        }\n        if (this.cropper.y1 < 0) {\n            this.cropper.y2 -= maintainSize ? this.cropper.y1 : 0;\n            this.cropper.y1 = 0;\n        }\n        if (this.cropper.x2 > this.maxSize.width) {\n            this.cropper.x1 -= maintainSize ? (this.cropper.x2 - this.maxSize.width) : 0;\n            this.cropper.x2 = this.maxSize.width;\n        }\n        if (this.cropper.y2 > this.maxSize.height) {\n            this.cropper.y1 -= maintainSize ? (this.cropper.y2 - this.maxSize.height) : 0;\n            this.cropper.y2 = this.maxSize.height;\n        }\n    }\n    moveStop() {\n        if (this.moveStart.active) {\n            this.moveStart.active = false;\n            if (this.moveStart?.type === MoveTypes.Drag) {\n                this.transformChange.emit(this.transform);\n            }\n            else {\n                this.doAutoCrop();\n            }\n        }\n    }\n    pinchStop() {\n        if (this.moveStart.active) {\n            this.moveStart.active = false;\n            this.doAutoCrop();\n        }\n    }\n    doAutoCrop() {\n        if (this.autoCrop) {\n            void this.crop();\n        }\n    }\n    crop(output = this.settings.output) {\n        if (this.loadedImage?.transformed?.image != null) {\n            this.startCropImage.emit();\n            if (output === 'blob') {\n                return this.cropToBlob();\n            }\n            else if (output === 'base64') {\n                return this.cropToBase64();\n            }\n        }\n        return null;\n    }\n    cropToBlob() {\n        const result = this.cropService.crop(this.sourceImage, this.loadedImage, this.cropper, this.settings, 'blob');\n        if (result) {\n            return Promise.resolve(result)\n                .then((output) => {\n                this.imageCropped.emit(output);\n                return result;\n            });\n        }\n        return null;\n    }\n    cropToBase64() {\n        const result = this.cropService.crop(this.sourceImage, this.loadedImage, this.cropper, this.settings, 'base64');\n        if (result) {\n            this.imageCropped.emit(result);\n            return result;\n        }\n        return null;\n    }\n    aspectRatioIsCorrect() {\n        const currentCropAspectRatio = (this.cropper.x2 - this.cropper.x1) / (this.cropper.y2 - this.cropper.y1);\n        return currentCropAspectRatio === this.aspectRatio;\n    }\n}\nImageCropperComponent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: ImageCropperComponent, deps: [{ token: CropService }, { token: CropperPositionService }, { token: LoadImageService }, { token: i4.DomSanitizer }, { token: i0.ChangeDetectorRef }, { token: HAMMER_LOADER, optional: true }], target: i0.FactoryTarget.Component });\nImageCropperComponent.cmp = i0.ngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.11\", type: ImageCropperComponent, selector: \"image-cropper\", inputs: { imageChangedEvent: \"imageChangedEvent\", imageURL: \"imageURL\", imageBase64: \"imageBase64\", imageFile: \"imageFile\", imageAltText: \"imageAltText\", output: \"output\", format: \"format\", transform: \"transform\", maintainAspectRatio: \"maintainAspectRatio\", aspectRatio: \"aspectRatio\", resetCropOnAspectRatioChange: \"resetCropOnAspectRatioChange\", resizeToWidth: \"resizeToWidth\", resizeToHeight: \"resizeToHeight\", cropperMinWidth: \"cropperMinWidth\", cropperMinHeight: \"cropperMinHeight\", cropperMaxHeight: \"cropperMaxHeight\", cropperMaxWidth: \"cropperMaxWidth\", cropperStaticWidth: \"cropperStaticWidth\", cropperStaticHeight: \"cropperStaticHeight\", canvasRotation: \"canvasRotation\", initialStepSize: \"initialStepSize\", roundCropper: \"roundCropper\", onlyScaleDown: \"onlyScaleDown\", imageQuality: \"imageQuality\", autoCrop: \"autoCrop\", backgroundColor: \"backgroundColor\", containWithinAspectRatio: \"containWithinAspectRatio\", hideResizeSquares: \"hideResizeSquares\", allowMoveImage: \"allowMoveImage\", cropper: \"cropper\", alignImage: \"alignImage\", disabled: \"disabled\", hidden: \"hidden\" }, outputs: { imageCropped: \"imageCropped\", startCropImage: \"startCropImage\", imageLoaded: \"imageLoaded\", cropperReady: \"cropperReady\", loadImageFailed: \"loadImageFailed\", transformChange: \"transformChange\" }, host: { listeners: { \"window:resize\": \"onResize()\", \"document:mousemove\": \"moveImg($event)\", \"document:touchmove\": \"moveImg($event)\", \"document:mouseup\": \"moveStop()\", \"document:touchend\": \"moveStop()\" }, properties: { \"style.text-align\": \"this.alignImage\", \"class.disabled\": \"this.disabled\", \"class.ngx-ix-hidden\": \"this.hidden\" } }, viewQueries: [{ propertyName: \"wrapper\", first: true, predicate: [\"wrapper\"], descendants: true, static: true }, { propertyName: \"sourceImage\", first: true, predicate: [\"sourceImage\"], descendants: true }], usesOnChanges: true, ngImport: i0, template: \"<div\\n  [style.background]=\\\"imageVisible && backgroundColor\\\"\\n  #wrapper\\n>\\n  <img\\n    #sourceImage\\n    class=\\\"ngx-ic-source-image\\\"\\n    *ngIf=\\\"safeImgDataUrl\\\"\\n    [src]=\\\"safeImgDataUrl\\\"\\n    [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n    [style.transform]=\\\"safeTransformStyle\\\"\\n    [class.ngx-ic-draggable]=\\\"!disabled && allowMoveImage\\\"\\n    [attr.alt]=\\\"imageAltText\\\"\\n    (load)=\\\"imageLoadedInView()\\\"\\n    (mousedown)=\\\"startMove($event, moveTypes.Drag)\\\"\\n    (touchstart)=\\\"startMove($event, moveTypes.Drag)\\\"\\n    (error)=\\\"loadImageError($event)\\\"\\n  >\\n  <div\\n    class=\\\"ngx-ic-overlay\\\"\\n    [style.width.px]=\\\"maxSize.width\\\"\\n    [style.height.px]=\\\"maxSize.height\\\"\\n    [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\n  ></div>\\n  <div class=\\\"ngx-ic-cropper\\\"\\n       *ngIf=\\\"imageVisible\\\"\\n       [class.ngx-ic-round]=\\\"roundCropper\\\"\\n       [style.top.px]=\\\"cropper.y1\\\"\\n       [style.left.px]=\\\"cropper.x1\\\"\\n       [style.width.px]=\\\"cropper.x2 - cropper.x1\\\"\\n       [style.height.px]=\\\"cropper.y2 - cropper.y1\\\"\\n       [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\n       [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n       (keydown)=\\\"keyboardAccess($event)\\\"\\n       tabindex=\\\"0\\\"\\n  >\\n    <div\\n      (mousedown)=\\\"startMove($event, moveTypes.Move)\\\"\\n      (touchstart)=\\\"startMove($event, moveTypes.Move)\\\"\\n      class=\\\"ngx-ic-move\\\">\\n    </div>\\n    <ng-container *ngIf=\\\"!hideResizeSquares\\\">\\n            <span class=\\\"ngx-ic-resize ngx-ic-topleft\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-top\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-topright\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-right\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-bottomright\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-bottom\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-bottomleft\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-left\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize-bar ngx-ic-top\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'top')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'top')\\\">\\n            </span>\\n      <span class=\\\"ngx-ic-resize-bar ngx-ic-right\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'right')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'right')\\\">\\n            </span>\\n      <span class=\\\"ngx-ic-resize-bar ngx-ic-bottom\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\">\\n            </span>\\n      <span class=\\\"ngx-ic-resize-bar ngx-ic-left\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'left')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'left')\\\">\\n            </span>\\n    </ng-container>\\n  </div>\\n</div>\\n\", styles: [\":host{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}:host>div{width:100%;position:relative}:host>div img.ngx-ic-source-image{max-width:100%;max-height:100%;transform-origin:center}:host>div img.ngx-ic-source-image.ngx-ic-draggable{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}:host .ngx-ic-overlay{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}:host .ngx-ic-cropper{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){:host .ngx-ic-cropper{outline-width:100vh}}:host .ngx-ic-cropper:after{position:absolute;content:\\\"\\\";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}:host .ngx-ic-cropper .ngx-ic-move{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}:host .ngx-ic-cropper:focus .ngx-ic-move{border-color:#1e90ff;border-width:2px}:host .ngx-ic-cropper .ngx-ic-resize{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}:host .ngx-ic-cropper .ngx-ic-resize .ngx-ic-square{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-topleft{top:-12px;left:-12px;cursor:nwse-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-top{top:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-topright{top:-12px;right:-12px;cursor:nesw-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-right{top:calc(50% - 12px);right:-12px;cursor:ew-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottomright{bottom:-12px;right:-12px;cursor:nwse-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottom{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottomleft{bottom:-12px;left:-12px;cursor:nesw-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-left{top:calc(50% - 12px);left:-12px;cursor:ew-resize}:host .ngx-ic-cropper .ngx-ic-resize-bar{position:absolute;z-index:1}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-top{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-right{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-bottom{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-left{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .ngx-ic-cropper.ngx-ic-round{outline-color:transparent}:host .ngx-ic-cropper.ngx-ic-round:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){:host .ngx-ic-cropper.ngx-ic-round:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}:host .ngx-ic-cropper.ngx-ic-round .ngx-ic-move{border-radius:100%}:host.disabled .ngx-ic-cropper .ngx-ic-resize,:host.disabled .ngx-ic-cropper .ngx-ic-resize-bar,:host.disabled .ngx-ic-cropper .ngx-ic-move{display:none}:host.ngx-ix-hidden{display:none}\\n\"], directives: [{ type: i5.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: ImageCropperComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'image-cropper', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div\\n  [style.background]=\\\"imageVisible && backgroundColor\\\"\\n  #wrapper\\n>\\n  <img\\n    #sourceImage\\n    class=\\\"ngx-ic-source-image\\\"\\n    *ngIf=\\\"safeImgDataUrl\\\"\\n    [src]=\\\"safeImgDataUrl\\\"\\n    [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n    [style.transform]=\\\"safeTransformStyle\\\"\\n    [class.ngx-ic-draggable]=\\\"!disabled && allowMoveImage\\\"\\n    [attr.alt]=\\\"imageAltText\\\"\\n    (load)=\\\"imageLoadedInView()\\\"\\n    (mousedown)=\\\"startMove($event, moveTypes.Drag)\\\"\\n    (touchstart)=\\\"startMove($event, moveTypes.Drag)\\\"\\n    (error)=\\\"loadImageError($event)\\\"\\n  >\\n  <div\\n    class=\\\"ngx-ic-overlay\\\"\\n    [style.width.px]=\\\"maxSize.width\\\"\\n    [style.height.px]=\\\"maxSize.height\\\"\\n    [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\n  ></div>\\n  <div class=\\\"ngx-ic-cropper\\\"\\n       *ngIf=\\\"imageVisible\\\"\\n       [class.ngx-ic-round]=\\\"roundCropper\\\"\\n       [style.top.px]=\\\"cropper.y1\\\"\\n       [style.left.px]=\\\"cropper.x1\\\"\\n       [style.width.px]=\\\"cropper.x2 - cropper.x1\\\"\\n       [style.height.px]=\\\"cropper.y2 - cropper.y1\\\"\\n       [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\n       [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n       (keydown)=\\\"keyboardAccess($event)\\\"\\n       tabindex=\\\"0\\\"\\n  >\\n    <div\\n      (mousedown)=\\\"startMove($event, moveTypes.Move)\\\"\\n      (touchstart)=\\\"startMove($event, moveTypes.Move)\\\"\\n      class=\\\"ngx-ic-move\\\">\\n    </div>\\n    <ng-container *ngIf=\\\"!hideResizeSquares\\\">\\n            <span class=\\\"ngx-ic-resize ngx-ic-topleft\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-top\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-topright\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-right\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-bottomright\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-bottom\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-bottomleft\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize ngx-ic-left\\\">\\n                <span class=\\\"ngx-ic-square\\\"></span>\\n            </span>\\n      <span class=\\\"ngx-ic-resize-bar ngx-ic-top\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'top')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'top')\\\">\\n            </span>\\n      <span class=\\\"ngx-ic-resize-bar ngx-ic-right\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'right')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'right')\\\">\\n            </span>\\n      <span class=\\\"ngx-ic-resize-bar ngx-ic-bottom\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\">\\n            </span>\\n      <span class=\\\"ngx-ic-resize-bar ngx-ic-left\\\"\\n            (mousedown)=\\\"startMove($event, moveTypes.Resize, 'left')\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Resize, 'left')\\\">\\n            </span>\\n    </ng-container>\\n  </div>\\n</div>\\n\", styles: [\":host{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}:host>div{width:100%;position:relative}:host>div img.ngx-ic-source-image{max-width:100%;max-height:100%;transform-origin:center}:host>div img.ngx-ic-source-image.ngx-ic-draggable{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}:host .ngx-ic-overlay{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}:host .ngx-ic-cropper{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){:host .ngx-ic-cropper{outline-width:100vh}}:host .ngx-ic-cropper:after{position:absolute;content:\\\"\\\";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}:host .ngx-ic-cropper .ngx-ic-move{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}:host .ngx-ic-cropper:focus .ngx-ic-move{border-color:#1e90ff;border-width:2px}:host .ngx-ic-cropper .ngx-ic-resize{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}:host .ngx-ic-cropper .ngx-ic-resize .ngx-ic-square{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-topleft{top:-12px;left:-12px;cursor:nwse-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-top{top:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-topright{top:-12px;right:-12px;cursor:nesw-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-right{top:calc(50% - 12px);right:-12px;cursor:ew-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottomright{bottom:-12px;right:-12px;cursor:nwse-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottom{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottomleft{bottom:-12px;left:-12px;cursor:nesw-resize}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-left{top:calc(50% - 12px);left:-12px;cursor:ew-resize}:host .ngx-ic-cropper .ngx-ic-resize-bar{position:absolute;z-index:1}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-top{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-right{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-bottom{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-left{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .ngx-ic-cropper.ngx-ic-round{outline-color:transparent}:host .ngx-ic-cropper.ngx-ic-round:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){:host .ngx-ic-cropper.ngx-ic-round:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}:host .ngx-ic-cropper.ngx-ic-round .ngx-ic-move{border-radius:100%}:host.disabled .ngx-ic-cropper .ngx-ic-resize,:host.disabled .ngx-ic-cropper .ngx-ic-resize-bar,:host.disabled .ngx-ic-cropper .ngx-ic-move{display:none}:host.ngx-ix-hidden{display:none}\\n\"] }]\n        }], ctorParameters: function () { return [{ type: CropService }, { type: CropperPositionService }, { type: LoadImageService }, { type: i4.DomSanitizer }, { type: i0.ChangeDetectorRef }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [HAMMER_LOADER]\n                }] }]; }, propDecorators: { wrapper: [{\n                type: ViewChild,\n                args: ['wrapper', { static: true }]\n            }], sourceImage: [{\n                type: ViewChild,\n                args: ['sourceImage', { static: false }]\n            }], imageChangedEvent: [{\n                type: Input\n            }], imageURL: [{\n                type: Input\n            }], imageBase64: [{\n                type: Input\n            }], imageFile: [{\n                type: Input\n            }], imageAltText: [{\n                type: Input\n            }], output: [{\n                type: Input\n            }], format: [{\n                type: Input\n            }], transform: [{\n                type: Input\n            }], maintainAspectRatio: [{\n                type: Input\n            }], aspectRatio: [{\n                type: Input\n            }], resetCropOnAspectRatioChange: [{\n                type: Input\n            }], resizeToWidth: [{\n                type: Input\n            }], resizeToHeight: [{\n                type: Input\n            }], cropperMinWidth: [{\n                type: Input\n            }], cropperMinHeight: [{\n                type: Input\n            }], cropperMaxHeight: [{\n                type: Input\n            }], cropperMaxWidth: [{\n                type: Input\n            }], cropperStaticWidth: [{\n                type: Input\n            }], cropperStaticHeight: [{\n                type: Input\n            }], canvasRotation: [{\n                type: Input\n            }], initialStepSize: [{\n                type: Input\n            }], roundCropper: [{\n                type: Input\n            }], onlyScaleDown: [{\n                type: Input\n            }], imageQuality: [{\n                type: Input\n            }], autoCrop: [{\n                type: Input\n            }], backgroundColor: [{\n                type: Input\n            }], containWithinAspectRatio: [{\n                type: Input\n            }], hideResizeSquares: [{\n                type: Input\n            }], allowMoveImage: [{\n                type: Input\n            }], cropper: [{\n                type: Input\n            }], alignImage: [{\n                type: HostBinding,\n                args: ['style.text-align']\n            }, {\n                type: Input\n            }], disabled: [{\n                type: HostBinding,\n                args: ['class.disabled']\n            }, {\n                type: Input\n            }], hidden: [{\n                type: HostBinding,\n                args: ['class.ngx-ix-hidden']\n            }, {\n                type: Input\n            }], imageCropped: [{\n                type: Output\n            }], startCropImage: [{\n                type: Output\n            }], imageLoaded: [{\n                type: Output\n            }], cropperReady: [{\n                type: Output\n            }], loadImageFailed: [{\n                type: Output\n            }], transformChange: [{\n                type: Output\n            }], onResize: [{\n                type: HostListener,\n                args: ['window:resize']\n            }], moveImg: [{\n                type: HostListener,\n                args: ['document:mousemove', ['$event']]\n            }, {\n                type: HostListener,\n                args: ['document:touchmove', ['$event']]\n            }], moveStop: [{\n                type: HostListener,\n                args: ['document:mouseup']\n            }, {\n                type: HostListener,\n                args: ['document:touchend']\n            }] } });\n\nclass ImageCropperModule {\n}\nImageCropperModule.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: ImageCropperModule, deps: [], target: i0.FactoryTarget.NgModule });\nImageCropperModule.mod = i0.ngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: ImageCropperModule, declarations: [ImageCropperComponent], imports: [CommonModule], exports: [ImageCropperComponent] });\nImageCropperModule.inj = i0.ngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: ImageCropperModule, imports: [[\n            CommonModule\n        ]] });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.11\", ngImport: i0, type: ImageCropperModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule\n                    ],\n                    declarations: [\n                        ImageCropperComponent,\n                    ],\n                    exports: [\n                        ImageCropperComponent\n                    ]\n                }]\n        }] });\n\nfunction base64ToFile(base64Image) {\n    const split = base64Image.split(',');\n    const type = split[0].replace('data:', '').replace(';base64', '');\n    const byteString = atob(split[1]);\n    const ab = new ArrayBuffer(byteString.length);\n    const ia = new Uint8Array(ab);\n    for (let i = 0; i < byteString.length; i += 1) {\n        ia[i] = byteString.charCodeAt(i);\n    }\n    return new Blob([ab], { type });\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CropService, CropperSettings, ImageCropperComponent, ImageCropperModule, LoadImageService, base64ToFile, resizeCanvas };\n"],"names":["FileDataType","RouterModule","ImageCropperComponent","routes","path","component","ImageCropperRoutingModule","forChild","imports","i1","exports","importScript","LogUtils","componentConfig","descriptionData","environment","i0","elementStart","listener","ImageCropperComponent_div_3_Template_div_drop_0_listener","$event","restoreView","_r9","ctx_r8","nextContext","resetView","dropHandler","ImageCropperComponent_div_3_Template_div_dragover_0_listener","ctx_r10","dragOverHandler","text","elementEnd","ImageCropperComponent_div_3_Template_button_click_7_listener","ctx_r11","openFileDialog","ImageCropperComponent_div_4_Template_button_click_1_listener","_r13","ctx_r12","ImageCropperComponent_div_6_div_1_Template_div_click_0_listener","restoredCtx","_r17","imageFile_r15","$implicit","ctx_r16","selectCurrentFile","id","element","advance","propertyInterpolate","dataURI","sanitizeUrl","textInterpolate","name","template","ImageCropperComponent_div_6_div_1_Template","property","ctx_r4","fileList","ImageCropperComponent_div_8_Template_image_cropper_imageCropped_3_listener","_r23","ctx_r22","imageCropped","ImageCropperComponent_div_8_Template_image_cropper_loadImageFailed_3_listener","ctx_r24","loadImageFailed","ImageCropperComponent_div_8_Template_image_cropper_cropperReady_3_listener","ctx_r25","cropperReady","ctx_r6","currentFile","file","outputFormat","croppedImage","ImageCropperComponent_div_9_Template_mat_select_valueChange_4_listener","_r27","ctx_r26","onOutputFormatChange","ImageCropperComponent_div_9_Template_button_click_15_listener","ctx_r28","downloadCroppedImage","constructor","renderer","fileService","platformMetaDataService","applicationConfig","validImageFormats","undefined","isPlatformBrowser","hammerJSPathUrl","selectFiles","event","target","files","addFileToCrop","selectRootElement","inputFiles","nativeElement","click","preventDefault","dataTransfer","items","filter","item","kind","map","getAsFile","forEach","fileData","crypto","randomUUID","type","IMAGE","push","readFileAsURL","readImageDataURI","bind","find","setStyle","croppedImageContainer","imageCropperContainer","offsetWidth","offsetHeight","croppedImageTag","imageCropper","maxSize","width","height","imageDataURI","URL","createObjectURL","blob","error","_this","_asyncToGenerator","formattedFileName","getFormattedFileName","plainFileName","getPlainFileName","downloadAnchor","createElement","setProperty","directiveInject","Renderer2","FileService","i2","PlatformMetadataService","selectors","viewQuery","ImageCropperComponent_Query","rf","ctx","ImageCropperComponent_Template_input_change_1_listener","ImageCropperComponent_div_3_Template","ImageCropperComponent_div_4_Template","ImageCropperComponent_span_5_Template","ImageCropperComponent_div_6_Template","ImageCropperComponent_span_7_Template","ImageCropperComponent_div_8_Template","ImageCropperComponent_div_9_Template","length","CommonModule","MatButtonModule","MatIconModule","ImageCropperModule","CropperModule","MatSelectModule","declarations","ApplicationIds","navigationUrl","pageTitle","pageDescription","imageUrl","screenshotsBaseUrl","keywords","relatedTools","IMAGE_COMPRESSOR","mainHeading","metaTags","content","property","hostname","tags","split","word","trim","icons","tool","get","heading","listData","blockData","Injectable","EventEmitter","isDevMode","Component","ChangeDetectionStrategy","Optional","Inject","ViewChild","Input","HostBinding","Output","HostListener","NgModule","i4","HAMMER_LOADER","i5","_c0","_c1","ImageCropperComponent_img_2_Template","_r5","getCurrentView","ImageCropperComponent_img_2_Template_img_load_0_listener","imageLoadedInView","ImageCropperComponent_img_2_Template_img_mousedown_0_listener","startMove","moveTypes","Drag","ImageCropperComponent_img_2_Template_img_touchstart_0_listener","ctx_r7","ImageCropperComponent_img_2_Template_img_error_0_listener","loadImageError","ctx_r1","styleProp","imageVisible","safeTransformStyle","classProp","disabled","allowMoveImage","safeImgDataUrl","attribute","imageAltText","ImageCropperComponent_div_4_ng_container_2_Template","_r11","elementContainerStart","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_1_listener","Resize","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_1_listener","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_5_listener","ctx_r13","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_5_listener","ctx_r14","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_9_listener","ctx_r15","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_9_listener","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_13_listener","ctx_r17","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_13_listener","ctx_r18","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_17_listener","ctx_r19","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_17_listener","ctx_r20","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_18_listener","ctx_r21","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_18_listener","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_19_listener","ctx_r23","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_19_listener","ImageCropperComponent_div_4_ng_container_2_Template_span_mousedown_20_listener","ImageCropperComponent_div_4_ng_container_2_Template_span_touchstart_20_listener","elementContainerEnd","_r28","ImageCropperComponent_div_4_Template_div_keydown_0_listener","ctx_r27","keyboardAccess","ImageCropperComponent_div_4_Template_div_mousedown_1_listener","ctx_r29","Move","ImageCropperComponent_div_4_Template_div_touchstart_1_listener","ctx_r30","ctx_r2","cropper","y1","x1","x2","y2","alignImage","marginLeft","roundCropper","hideResizeSquares","CropperSettings","format","output","maintainAspectRatio","transform","aspectRatio","resetCropOnAspectRatioChange","resizeToWidth","resizeToHeight","cropperMinWidth","cropperMinHeight","cropperMaxHeight","cropperMaxWidth","cropperStaticWidth","cropperStaticHeight","canvasRotation","initialStepSize","onlyScaleDown","imageQuality","autoCrop","backgroundColor","containWithinAspectRatio","cropperScaledMinWidth","cropperScaledMinHeight","cropperScaledMaxWidth","cropperScaledMaxHeight","stepSize","setOptions","options","Object","keys","k","validateOptions","setOptionsFromChanges","changes","currentValue","Error","MoveTypes","getPositionForKey","key","getInvertedPositionForKey","getEventForKey","clientX","clientY","resizeCanvas","canvas","width_source","height_source","Math","round","ratio_w","ratio_h","ratio_w_half","ceil","ratio_h_half","getContext","img","getImageData","img2","createImageData","data","data2","j","i","center_y","weight","weights","weights_alpha","gx_r","gx_g","gx_b","gx_a","xx_start","floor","yy_start","xx_stop","yy_stop","min","yy","dy","abs","center_x","w0","xx","dx","w","sqrt","pos_x","putImageData","percentage","percent","totalValue","CropService","crop","sourceImage","loadedImage","settings","imagePosition","getImagePosition","cropCanvas","document","fillStyle","fillRect","scaleX","scale","flipH","scaleY","flipV","translateH","translateV","getCanvasTranslate","transformedImage","transformed","setTransform","size","translate","rotate","PI","drawImage","image","result","cropperPosition","offsetImagePosition","getOffsetImagePosition","resizeRatio","getResizeRatio","cropToBlob","base64","toDataURL","getQuality","Promise","resolve","toBlob","objectUrl","translateUnit","ratio","getRatio","sourceImageElement","out","max","exifTransform","offsetX","offsetY","original","ratioWidth","ratioHeight","ratios","Array","fac","CropService_Factory","t","prov","defineInjectable","token","factory","providedIn","ngDevMode","setClassMetadata","args","CropperPositionService","resetCropperPosition","cropperWidth","cropperHeight","cropperHeightWithAspectRatio","cropperWidthWithAspectRatio","move","moveStart","diffX","getClientX","diffY","getClientY","resize","moveX","moveY","position","newWidth","newHeight","checkAspectRatio","overflowX","overflowY","overflowX1","overflowX2","overflowY1","overflowY2","touches","CropperPositionService_Factory","testAutoOrientationImageURL","supportsAutomaticRotation","Image","onload","supported","src","getTransformationsFromExifData","exifRotationOrArrayBuffer","getExifRotation","flip","arrayBuffer","view","DataView","getUint16","byteLength","offset","marker","getUint32","little","LoadImageService","autoRotateSupported","loadImageFile","cropperSettings","then","checkImageTypeAndLoadImageFromArrayBuffer","imageType","isValidImageType","reject","loadImageFromArrayBuffer","test","loadImageFromURL","url","fetch","res","buffer","loadBase64Image","imageBase64","base64ToArrayBuffer","replace","binaryString","atob","len","bytes","Uint8Array","charCodeAt","Blob","originalImage","originalObjectUrl","originalArrayBuffer","onerror","transformImageFromArrayBuffer","_this2","autoRotate","complete","naturalWidth","naturalHeight","transformLoadedImage","_this3","originalSize","transformedSize","getTransformedSize","loadImageFromObjectUrl","minWidthToContain","minHeightToContain","LoadImageService_Factory","cropService","cropperPositionService","loadImageService","sanitizer","cd","hammerLoader","setImageMaxSizeRetries","resizedWhileHidden","hidden","startCropImage","imageLoaded","transformChange","reset","ngOnChanges","onChangesUpdateSettings","onChangesInputImage","setLoadedImage","catch","err","setMaxSize","setCropperScaledMinSize","setCropperScaledMaxSize","aspectRatioIsCorrect","checkCropperPosition","doAutoCrop","markForCheck","setCssTransform","setTimeout","onResize","isValidImageChangedEvent","imageChangedEvent","imageURL","imageFile","bypassSecurityTrustStyle","ngOnInit","activatePinchGesture","active","bypassSecurityTrustResourceUrl","console","emit","checkImageMaxSizeRecursively","sourceImageLoaded","resizeCropperPosition","_this4","Hammer","window","hammer","wrapper","set","enable","on","onPinch","pinchStop","startPinch","warn","changeKeyboardStepSize","keyboardMoveCropper","keyboardWhiteList","includes","moveType","shiftKey","altKey","moveEvent","stopPropagation","moveImg","moveStop","Pinch","detectChanges","setCropperScaledMinWidth","setCropperScaledMinHeight","maintainSize","cropToBase64","currentCropAspectRatio","ImageCropperComponent_Factory","DomSanitizer","ChangeDetectorRef","cmp","defineComponent","viewQuery","_t","queryRefresh","loadQuery","first","hostVars","hostBindings","ImageCropperComponent_HostBindings","ImageCropperComponent_resize_HostBindingHandler","resolveWindow","ImageCropperComponent_mousemove_HostBindingHandler","resolveDocument","ImageCropperComponent_touchmove_HostBindingHandler","ImageCropperComponent_mouseup_HostBindingHandler","ImageCropperComponent_touchend_HostBindingHandler","inputs","outputs","features","NgOnChangesFeature","decls","vars","consts","template","ImageCropperComponent_Template","dependencies","NgIf","styles","changeDetection","selector","OnPush","decorators","static","ImageCropperModule_Factory","mod","defineNgModule","inj","defineInjector","base64ToFile","base64Image","byteString","ab","ArrayBuffer","ia"],"sourceRoot":"webpack:///","x_google_ignoreList":[6]}