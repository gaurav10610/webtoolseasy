"use strict";(self.webpackChunkwebtoolseasy=self.webpackChunkwebtoolseasy||[]).push([[709],{6709:(Be,U,c)=>{c.r(U),c.d(U,{VideoConverterModule:()=>Je});var y=c(6814),k=c(3403),d=c(5861),b=c(1088),z=c(8645),H=c(9773),K=c(7421),h=c(4930),E=c(553),X=c(6636);const $="/tools/video-converter",Z="Free Online Video to Audio Converter: Extract Audio from Videos Easily",P="Convert your videos to audio files for free with our online video to audio converter tool. No download required, no sign-up required. Supports wide range of video formats i.e MP4, MKV, WEBM, AVI, OGM.",S=`${E.N.screenshotsBaseUrl}/video-converter.png`,te={mainHeading:"Free Online Video to Audio Converter: Extract Audio from Videos Easily",subHeading:"Convert Videos to Audio For Free",navigationUrl:$,pageTitle:Z,metaTags:[{name:"description",content:P},{name:"author",content:"Gaurav Kumar Yadav"},{name:"robots",content:"index, follow"},{property:"og:title",content:Z},{property:"og:type",content:"website"},{property:"og:url",content:`${E.N.hostname}${$}`},{property:"og:image",content:S},{property:"og:image:secure_url",content:S},{property:"og:description",content:P},{property:"og:site_name",content:"WebToolsEasy"},{property:"twitter:card",content:"summary_large_image"},{property:"twitter:site",content:"@webtoolseasy"},{property:"twitter:title",content:Z},{property:"twitter:description",content:P},{property:"twitter:image",content:S}],tags:"online video to audio converter,extract audio from videos,convert video to audio,convert video to MP3,reduce video file size,free video to audio converter,no download required,supports multiple video formats,high-quality MP3 files,easy to use,choose video format,check audio quality,choose audio format for needs,create podcasts,create audiobooks,listen to audio from videos".split(",").map(o=>o.trim()),icons:[{iconName:"video-convert-icon",iconRelativeUrl:"video-convert.svg"},{iconName:"settings-icon",iconRelativeUrl:"settings.svg"},{iconName:"download-icon",iconRelativeUrl:"download.svg"},{iconName:"play-icon",iconRelativeUrl:"play-icon.svg"},{iconName:"screen-icon",iconRelativeUrl:"screen.svg"}],relatedTools:[{applicationId:"screen-recorder",displayText:X.x.SCREEN_RECORDER,iconName:"screen-icon",navigateUrl:"/tools/screen-recorder"}]},oe=[{heading:"Why Use an Online Video to Audio Converter?",listData:["To extract the audio from a video. This can be useful for creating podcasts, audiobooks, or simply for listening to the audio from a video without having to watch the video.","To convert a video to a different audio format. For example, you might want to convert a video to MP3 format so that you can listen to it on your MP3 player.","To reduce the file size of a video. Audio files are typically smaller than video files, so converting a video to audio can help to reduce the file size and make it easier to share or store."]},{heading:"Features of Our Online Video to Audio Converter Tool",listData:["Free to use. No need to pay or sign up for an account.","No download required. Convert your videos to audio directly from your web browser.","Supports multiple video formats. Convert MP4, AVI, MOV, WEBM, and other popular video formats to audio.","Converts videos to high-quality MP3 files. Our converter uses advanced algorithms to extract the audio from your videos in high quality.",'Easy to use. Simply upload your video and click the "Convert" button.']},{heading:"How to Use Our Online Video to Audio Converter Tool",listData:['Go to our website and click the "Upload Video" button.',"Select the video you want to convert to audio.",'Click the "Convert" button.',"Download your converted audio file."]},{heading:"Tips for Using an Online Video to Audio Converter",listData:["Choose a video that is in a supported format. Our converter supports a wide range of video formats, but it is always best to check to make sure that your video is in a supported format before uploading it.","Make sure that your video has a good audio quality. The quality of the converted audio file will depend on the quality of the audio in the original video. If the original video has poor audio quality, the converted audio file will also have poor audio quality.","Choose the right audio format for your needs. If you are converting a video to audio to listen to it on your MP3 player, you will want to choose the MP3 audio format. If you are converting a video to audio to create a podcast, you might want to choose the AAC audio format."]},{blockData:["Our free online video to audio converter tool is a great way to extract the audio from your videos easily. It is easy to use and supports multiple video formats. With our converter, you can create podcasts, audiobooks, or simply listen to the audio from your videos without having to watch the video."]}];var I=function(o){return o[o.START=1]="START",o[o.END=2]="END",o[o.FAILED=3]="FAILED",o}(I||{}),J=function(o){return o.VIDEO_CONVERT_SETTINGS="video-convert-sttings",o}(J||{}),B=function(o){return o.DROPDOWN="dropdown",o.BUTTON="button",o}(B||{}),M=c(7700),e=c(5879),R=c(9157),N=c(8525),G=c(3680),A=c(2296);function ie(o,n){if(1&o&&(e.TgZ(0,"mat-option",12),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r.value),e.xp6(1),e.Oqu(r.displayName)}}function re(o,n){if(1&o){const r=e.EpF();e.TgZ(0,"mat-form-field",9)(1,"mat-label"),e._uU(2,"Select format"),e.qZA(),e.TgZ(3,"mat-select",10),e.NdJ("valueChange",function(i){e.CHM(r);const a=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.changeDropdownValue(a.propertyName,i))}),e.YNc(4,ie,2,2,"mat-option",11),e.qZA()()}if(2&o){const r=e.oxw().$implicit;e.xp6(3),e.Q6J("value",r.data.targetFormat),e.xp6(1),e.Q6J("ngForOf",r.data.options)}}function ne(o,n){if(1&o&&(e.TgZ(0,"div",7),e.YNc(1,re,5,2,"mat-form-field",8),e.qZA()),2&o){const r=n.$implicit;e.xp6(1),e.Q6J("ngIf","dropdown"===r.type)}}function ae(o,n){if(1&o&&(e.TgZ(0,"div",5),e.YNc(1,ne,2,1,"div",6),e.qZA()),2&o){const r=n.$implicit;e.xp6(1),e.Q6J("ngForOf",r.elements)}}let se=(()=>{var o;class n{constructor(t,i){this.dialogRef=t,this.formContext=i,this.result={data:{},type:this.formContext.type,referenceId:this.formContext.referenceId}}applySettings(){this.dialogRef.close(this.result)}cancelDialog(){this.dialogRef.close()}changeDropdownValue(t,i){this.result.data[t]=i}}return(o=n).\u0275fac=function(t){return new(t||o)(e.Y36(M.so),e.Y36(M.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-popup-form"]],decls:7,vars:1,consts:[[1,"flex-display","flex-column-flow",2,"margin","15px"],["class","popup-row flex-display flex-row-flow full-width flex-center flex-align-center",4,"ngFor","ngForOf"],[1,"flex-display","flex-row-flow","full-width","flex-center",2,"margin-top","15px"],["mat-raised-button","","color","primary",2,"margin-right","10px",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"popup-row","flex-display","flex-row-flow","full-width","flex-center","flex-align-center"],["class","popup-element",4,"ngFor","ngForOf"],[1,"popup-element"],["appearance","outline","color","primary","style","margin-right: 10px; margin-bottom: -1.25em",4,"ngIf"],["appearance","outline","color","primary",2,"margin-right","10px","margin-bottom","-1.25em"],["disableRipple","",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,ae,2,1,"div",1),e.TgZ(2,"div",2)(3,"button",3),e.NdJ("click",function(){return i.applySettings()}),e._uU(4," Apply Settings "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return i.cancelDialog()}),e._uU(6," Cancel "),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.formContext.rows))},dependencies:[y.sg,y.O5,R.KE,R.hX,N.gD,G.ey,A.lW],styles:[".popup-row[_ngcontent-%COMP%]{margin:5px 10px}.popup-element[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}"]}),n})();const F=new Map([[1,{targetFormat:"mp3",displayName:"MP3 (Audio)"}],[2,{targetFormat:"ogg",displayName:"OGG (Audio)"}],[3,{targetFormat:"opus",displayName:"OPUS (Audio)"}],[4,{targetFormat:"aac",displayName:"AAC (Audio)"}],[5,{targetFormat:"mp4",displayName:"MP4 x264(Video)"}],[6,{targetFormat:"mp4",displayName:"MP4 x265(Video)"}],[7,{targetFormat:"webm",displayName:"WEBM (Video)"}],[8,{targetFormat:"ogv",displayName:"OGV (Video)"}],[9,{targetFormat:"mkv",displayName:"MKV (Video)"}],[10,{targetFormat:"avi",displayName:"AVI (Video)"}],[11,{targetFormat:"ogm",displayName:"OGM (Video)"}]]),le=new Map(Object.entries({mp4:[1,4],webm:[1,3,4],ogm:[1,4],mkv:[1,4,5,6],avi:[1,3,4],ogv:[1,2,3,4,5,6,7]})),V=new Map([[1,new Map([[0,"-i {0} {1}"]])],[2,new Map([[0,"-i {0} {1}"]])],[3,new Map([[0,"-i {0} {1}"]])],[4,new Map([[0,"-i {0} {1}"]])],[5,new Map([[0,"-i {0} -c:v libx264 {1}"],[9,"-i {0} -codec copy {1}"]])],[6,new Map([[0,"-i {0} -c:v libx265 {1}"],[9,"-i {0} -codec copy {1}"]])],[7,new Map([[0,"-i {0} {1}"]])],[8,new Map([[0,"-i {0} {1}"]])],[9,new Map([[0,"-i {0} {1}"],[5,"-i {0} -codec copy {1}"],[6,"-i {0} -codec copy {1}"]])],[10,new Map([[0,"-i {0} {1}"]])],[11,new Map([[0,"-i {0} {1}"]])]]);var ce=c(6179);class de{constructor(){this.items=[]}enqueue(n){this.items.push(n)}dequeue(){if(this.isEmpty())throw Error("no elements in queue");return this.items.shift()}front(){if(this.isEmpty())throw Error("no elements in queue");return this.items[0]}isEmpty(){return 0===this.items.length}}function x(o,n,r){(function fe(o,n){if(n.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(o,n),n.set(o,r)}function Q(o,n,r){if(!n.has(o))throw new TypeError("attempted to "+r+" private field on non-instance");return n.get(o)}function l(o,n){return function pe(o,n){return n.get?n.get.call(o):n.value}(o,Q(o,n,"get"))}function u(o,n,r){return function me(o,n,r){if(n.set)n.set.call(o,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}}(o,Q(o,n,"set"),r),r}var f=function(o){return o.LOAD="LOAD",o.EXEC="EXEC",o.WRITE_FILE="WRITE_FILE",o.READ_FILE="READ_FILE",o.DELETE_FILE="DELETE_FILE",o.RENAME="RENAME",o.CREATE_DIR="CREATE_DIR",o.LIST_DIR="LIST_DIR",o.DELETE_DIR="DELETE_DIR",o.ERROR="ERROR",o.DOWNLOAD="DOWNLOAD",o.PROGRESS="PROGRESS",o.LOG="LOG",o}(f||{});const ue=(()=>{let o=0;return()=>o++})(),ge=(new Error("unknown message type"),new Error("ffmpeg is not loaded, call `await ffmpeg.load()` first")),ve=new Error("called FFmpeg.terminate()");new Error("failed to import ffmpeg-core.js");var m=new WeakMap,w=new WeakMap,_=new WeakMap,C=new WeakMap,T=new WeakMap,D=new WeakMap,g=new WeakMap;class he{constructor(){x(this,m,{writable:!0,value:void 0}),x(this,w,{writable:!0,value:void 0}),x(this,_,{writable:!0,value:void 0}),x(this,C,{writable:!0,value:void 0}),x(this,T,{writable:!0,value:void 0}),x(this,D,{writable:!0,value:void 0}),x(this,g,{writable:!0,value:void 0}),u(this,m,null),u(this,w,{}),u(this,_,{}),u(this,C,[]),u(this,T,[]),this.loaded=!1,u(this,D,()=>{l(this,m)&&(l(this,m).onmessage=({data:{id:n,type:r,data:t}})=>{switch(r){case f.LOAD:this.loaded=!0,l(this,w)[n](t);break;case f.EXEC:case f.WRITE_FILE:case f.READ_FILE:case f.DELETE_FILE:case f.RENAME:case f.CREATE_DIR:case f.LIST_DIR:case f.DELETE_DIR:l(this,w)[n](t);break;case f.LOG:l(this,C).forEach(i=>i(t));break;case f.PROGRESS:l(this,T).forEach(i=>i(t));break;case f.ERROR:l(this,_)[n](t)}delete l(this,w)[n],delete l(this,_)[n]})}),u(this,g,({type:n,data:r},t=[])=>l(this,m)?new Promise((i,a)=>{const s=ue();l(this,m)&&l(this,m).postMessage({id:s,type:n,data:r},t),l(this,w)[s]=i,l(this,_)[s]=a}):Promise.reject(ge)),this.load=(n={})=>(l(this,m)||(u(this,m,new Worker(`${E.N.hostname}/assets/@ffmpeg/worker.js`,{type:"module"})),l(this,D).call(this)),l(this,g).call(this,{type:f.LOAD,data:n})),this.exec=(n,r=-1)=>l(this,g).call(this,{type:f.EXEC,data:{args:n,timeout:r}}),this.terminate=()=>{const n=Object.keys(l(this,_));for(const r of n)l(this,_)[r](ve),delete l(this,_)[r],delete l(this,w)[r];l(this,m)&&(l(this,m).terminate(),u(this,m,null),this.loaded=!1)},this.writeFile=(n,r)=>{const t=[];return r instanceof Uint8Array&&t.push(r.buffer),l(this,g).call(this,{type:f.WRITE_FILE,data:{path:n,data:r}},t)},this.readFile=(n,r="binary")=>l(this,g).call(this,{type:f.READ_FILE,data:{path:n,encoding:r}}),this.deleteFile=n=>l(this,g).call(this,{type:f.DELETE_FILE,data:{path:n}}),this.rename=(n,r)=>l(this,g).call(this,{type:f.RENAME,data:{oldPath:n,newPath:r}}),this.createDir=n=>l(this,g).call(this,{type:f.CREATE_DIR,data:{path:n}}),this.listDir=n=>l(this,g).call(this,{type:f.LIST_DIR,data:{path:n}}),this.deleteDir=n=>l(this,g).call(this,{type:f.DELETE_DIR,data:{path:n}})}on(n,r){"log"===n?l(this,C).push(r):"progress"===n&&l(this,T).push(r)}off(n,r){"log"===n?u(this,C,l(this,C).filter(t=>t!==r)):"progress"===n&&u(this,T,l(this,T).filter(t=>t!==r))}}var O=c(6785);let _e=(()=>{var o;class n{constructor(){this.isConverting=!1,this.currentFile=void 0,this.init()}init(){this.fileQueue=new de,this.fileMap=new Map,this.progressEvent=new e.vpe,this.convertEvent=new e.vpe,this.fileLoadedEvent=new e.vpe,this.convertLogEvent=new e.vpe,this.ffmpegStateEvent=new e.vpe}initializeFFMpeg(){var t=this;return(0,d.Z)(function*(){t.ffmpeg=new he,t.ffmpeg.on("log",t.handleLogs.bind(t)),t.ffmpeg.on("progress",t.handleFFMpegProgress.bind(t)),yield t.ffmpeg.load({coreURL:yield(0,O.Wn)(`${E.N.ffmpegBaseUrl}/ffmpeg-core.js`,"text/javascript"),wasmURL:yield(0,O.Wn)(`${E.N.ffmpegBaseUrl}/ffmpeg-core.wasm`,"application/wasm"),workerURL:yield(0,O.Wn)(`${E.N.ffmpegBaseUrl}/ffmpeg-core.worker.js`,"text/javascript")})})()}flushBuffer(){var t=this;return(0,d.Z)(function*(){t.ffmpeg&&t.ffmpeg.loaded&&t.ffmpeg.terminate()})()}handleLogs(t){var i=this;return(0,d.Z)(function*(){i.convertLogEvent.emit({...t})})()}handleConversionFailure(){var t=this;return(0,d.Z)(function*(){if(t.convertEvent.emit({fileId:t.currentFile.id,type:I.FAILED,targetFormat:t.currentFile.targetFormat}),yield t.ffmpeg.deleteFile(t.currentFile.name),t.currentFile=void 0,t.isConverting=!1,!t.fileQueue.isEmpty()&&!t.isConverting){t.isConverting=!0;const i=t.fileQueue.dequeue();t.currentFile=i,t.convertVideoFile(i)}})()}handleFFMpegProgress(t){var i=this;return(0,d.Z)(function*(){const a=Number((100*t.progress).toFixed(2));if(i.progressEvent.emit({fileId:i.currentFile.id,progress:a}),100===a&&(i.convertEvent.emit({fileId:i.currentFile.id,type:I.END,fileData:yield i.ffmpeg.readFile(i.currentFile.targetFileName),targetFormat:i.currentFile.targetFormat}),yield i.ffmpeg.deleteFile(i.currentFile.targetFileName),yield i.ffmpeg.deleteFile(i.currentFile.name),i.ffmpeg.terminate(),i.currentFile=void 0,i.isConverting=!1,!i.fileQueue.isEmpty()&&!i.isConverting)){i.isConverting=!0;const s=i.fileQueue.dequeue();i.currentFile=s,i.convertVideoFile(s)}})()}getPlainFileName(t){return t.substring(0,t.lastIndexOf("."))||t}buildFFMpegCommand(t,i,a){let s;s=V.get(i).has(t)?V.get(i).get(t):V.get(i).get(0);for(let p=0;p<a.length;p++)s=s.split(`{${p}}`).join(a[p]);return s.split(" ")}submitFileToConvert(t,i=!1){var a=this;return(0,d.Z)(function*(){if(i||!a.fileMap.has(t.id)||a.fileMap.get(t.id)!==t.targetFormat){if(a.fileQueue.enqueue(t),a.fileMap.set(t.id,t.targetFormat),!a.isConverting){a.isConverting=!0;const s=a.fileQueue.dequeue();a.currentFile=s,a.convertVideoFile(s)}}else h.j.info("file has already been submitted")})()}convertVideoFile(t){var i=this;return(0,d.Z)(function*(){i.ffmpegStateEvent.emit({fileId:t.id,status:"initializing"}),yield i.initializeFFMpeg(),i.ffmpegStateEvent.emit({fileId:t.id,status:"ready"}),yield i.writeFileInFFMpegBuffer(t),t.targetFileName=`${i.getPlainFileName(t.name)}_converted.${F.get(t.targetFormat).targetFormat}`;const a=i.buildFFMpegCommand(t.fileFormat,t.targetFormat,[t.name,t.targetFileName]);h.j.info(`[FFMPEG Command]: ${a.join(" ")}`),0!==(yield i.ffmpeg.exec(a))&&i.handleConversionFailure()})()}writeFileInFFMpegBuffer(t){var i=this;return(0,d.Z)(function*(){yield i.ffmpeg.writeFile(t.name,yield(0,O.dc)(t.file)),i.fileLoadedEvent.emit({fileId:t.id,loaded:!0})})()}readFileInFFMpegBuffer(t){var i=this;return(0,d.Z)(function*(){return yield i.ffmpeg.readFile(t)})()}}return(o=n).\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),n})();var ye=c(3242),L=c(617),q=c(5195),Y=c(2596),j=c(5940);const Fe=["inputFiles"];function xe(o,n){if(1&o){const r=e.EpF();e.TgZ(0,"div",6),e.NdJ("drop",function(i){e.CHM(r);const a=e.oxw();return e.KtG(a.dropHandler(i))})("dragover",function(i){e.CHM(r);const a=e.oxw();return e.KtG(a.dragOverHandler(i))}),e.TgZ(1,"mat-icon",7),e._uU(2,"collections"),e.qZA(),e.TgZ(3,"span",8),e._uU(4,"Drag & drop files here"),e.qZA(),e.TgZ(5,"span",8),e._uU(6,"or"),e.qZA(),e.TgZ(7,"button",9),e.NdJ("click",function(){e.CHM(r);const i=e.oxw();return e.KtG(i.openFileDialog())}),e.TgZ(8,"mat-icon"),e._uU(9,"file_upload"),e.qZA(),e._uU(10," Browse for files "),e.qZA()()}}const we=function(o){return{padding:"10px","justify-content":o}};function Ee(o,n){if(1&o){const r=e.EpF();e.TgZ(0,"div",10)(1,"button",11),e.NdJ("click",function(){e.CHM(r);const i=e.oxw();return e.KtG(i.openFileDialog())}),e.TgZ(2,"mat-icon"),e._uU(3,"file_upload"),e.qZA(),e._uU(4," Select Files "),e.qZA(),e.TgZ(5,"button",12),e.NdJ("click",function(){e.CHM(r);const i=e.oxw();return e.KtG(i.convertAllVideos())}),e.TgZ(6,"mat-icon"),e._uU(7,"play_arrow"),e.qZA(),e._uU(8," Convert All "),e.qZA()()}if(2&o){const r=e.oxw();e.Q6J("ngStyle",e.VKq(1,we,r.fileDisplayList.length>0?"end":"center"))}}function Ce(o,n){1&o&&e._UZ(0,"mat-icon",32)}function Te(o,n){if(1&o&&(e.TgZ(0,"span",33),e._uU(1),e.qZA()),2&o){const r=e.oxw().$implicit;e.xp6(1),e.Oqu(r.error)}}function Ie(o,n){if(1&o&&(e.TgZ(0,"span",33),e._uU(1),e.qZA()),2&o){const r=e.oxw().$implicit;e.xp6(1),e.Oqu(r.conversionErrors.get(r.targetFormat))}}function Me(o,n){if(1&o&&(e.TgZ(0,"span",19),e._uU(1),e.qZA()),2&o){const r=e.oxw().$implicit;e.xp6(1),e.hij("Progress: ",r.convertProgress,"%")}}function be(o,n){1&o&&e._UZ(0,"mat-spinner",34)}function Re(o,n){if(1&o&&(e.TgZ(0,"span",19),e._uU(1),e.qZA()),2&o){const r=e.oxw().$implicit;e.xp6(1),e.hij("Progress: ",r.convertProgress,"%")}}function Ne(o,n){if(1&o&&e._UZ(0,"mat-spinner",35),2&o){const r=e.oxw().$implicit;e.s9C("value",r.convertProgress)}}function Ae(o,n){if(1&o&&(e.TgZ(0,"mat-option",39),e._uU(1),e.qZA()),2&o){const r=n.$implicit;e.Q6J("value",r.formatId),e.xp6(1),e.Oqu(r.displayName)}}function Oe(o,n){if(1&o){const r=e.EpF();e.TgZ(0,"mat-form-field",36)(1,"mat-label"),e._uU(2,"Select format"),e.qZA(),e.TgZ(3,"mat-select",37),e.NdJ("valueChange",function(i){e.CHM(r);const a=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.changeTargetFormat(a.id,i))}),e.YNc(4,Ae,2,2,"mat-option",38),e.qZA()()}if(2&o){const r=e.oxw().$implicit;e.xp6(3),e.Q6J("value",r.targetFormat),e.xp6(1),e.Q6J("ngForOf",r.supportedFormats)}}function Ze(o,n){if(1&o){const r=e.EpF();e.TgZ(0,"mat-icon",40),e.NdJ("click",function(){e.CHM(r);const i=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.openSettings(i))}),e.qZA()}}function Pe(o,n){if(1&o){const r=e.EpF();e.TgZ(0,"mat-icon",41),e.NdJ("click",function(){e.CHM(r);const i=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.convertVideoFile(i))}),e.qZA()}}function Se(o,n){if(1&o){const r=e.EpF();e.TgZ(0,"mat-icon",42),e.NdJ("click",function(){e.CHM(r);const i=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.downloadVideo(i))}),e.qZA()}}function Ve(o,n){1&o&&(e.TgZ(0,"mat-icon",43),e._uU(1,"error"),e.qZA())}function De(o,n){if(1&o&&(e.TgZ(0,"mat-card",15)(1,"div",16),e.YNc(2,Ce,1,0,"mat-icon",17),e.TgZ(3,"div",18)(4,"span",19),e._uU(5),e.qZA(),e.TgZ(6,"span",20),e._uU(7),e.qZA(),e.YNc(8,Te,2,1,"span",21),e.YNc(9,Ie,2,1,"span",21),e.YNc(10,Me,2,1,"span",22),e.qZA(),e._UZ(11,"span",23),e.TgZ(12,"div",24),e.YNc(13,be,1,0,"mat-spinner",25),e.YNc(14,Re,2,1,"span",22),e.YNc(15,Ne,1,1,"mat-spinner",26),e.YNc(16,Oe,5,2,"mat-form-field",27),e.YNc(17,Ze,1,0,"mat-icon",28),e.YNc(18,Pe,1,0,"mat-icon",29),e.YNc(19,Se,1,0,"mat-icon",30),e.YNc(20,Ve,2,0,"mat-icon",31),e.qZA()()()),2&o){const r=n.$implicit,t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.platformMetaDataService.isPlatformBrowser),e.xp6(3),e.Oqu(r.file.name),e.xp6(2),e.Oqu(t.formatBytes(r.file.size)),e.xp6(1),e.Q6J("ngIf",void 0!==r.error),e.xp6(1),e.Q6J("ngIf",r.conversionErrors.get(r.targetFormat)),e.xp6(1),e.Q6J("ngIf",t.isMobile&&r.inProgress&&r.convertProgress>0),e.xp6(3),e.Q6J("ngIf",r.inProgress&&0===r.convertProgress),e.xp6(1),e.Q6J("ngIf",!t.isMobile&&r.inProgress&&r.convertProgress>0),e.xp6(1),e.Q6J("ngIf",r.inProgress&&r.convertProgress>0),e.xp6(1),e.Q6J("ngIf",!r.inProgress&&!t.isMobile),e.xp6(1),e.Q6J("ngIf",t.platformMetaDataService.isPlatformBrowser&&t.isMobile&&!r.inProgress),e.xp6(1),e.Q6J("ngIf",t.platformMetaDataService.isPlatformBrowser&&!r.inProgress&&!r.convertedFileData.has(r.targetFormat)),e.xp6(1),e.Q6J("ngIf",t.platformMetaDataService.isPlatformBrowser&&r.convertedFileData.has(r.targetFormat)),e.xp6(1),e.Q6J("ngIf",r.error)}}function Le(o,n){if(1&o&&(e.TgZ(0,"div",13),e.YNc(1,De,21,14,"mat-card",14),e.qZA()),2&o){const r=e.oxw();e.xp6(1),e.Q6J("ngForOf",r.fileDisplayList)}}const Ue=[{path:"",component:(()=>{var o;class n{constructor(t,i,a,s,p,v){this.dialog=t,this.renderer=i,this.zoneRef=a,this.breakpointObserver=s,this.ffmpegService=p,this.platformMetaDataService=v,this.fileStore=new Map,this.fileDisplayList=[],this.ERROR_MESSAGE="* error: invalid file type",this.destroyed=new z.x,this.subscriptions=[],this.conversionLogs=[],this.validVideoFormats=".mp4,.webm,.ogv,.mkv,.ogm,.avi",this.applicationConfig=te,this.descriptionData=oe}ngAfterViewInit(){this.breakpointObserver.observe([b.u3.Handset,b.u3.Web]).pipe((0,H.R)(this.destroyed)).subscribe(t=>{this.isMobile=this.breakpointObserver.isMatched(`(max-width: ${ce.U})`)}),this.subscriptions.push(this.ffmpegService.fileLoadedEvent.subscribe(this.handleBufferFileLoad.bind(this))),this.subscriptions.push(this.ffmpegService.progressEvent.subscribe(this.handleConverionProgress.bind(this))),this.subscriptions.push(this.ffmpegService.convertLogEvent.subscribe(this.handleFFMpegLog.bind(this))),this.subscriptions.push(this.ffmpegService.convertEvent.subscribe(this.handleConvertEvent.bind(this))),this.subscriptions.push(this.ffmpegService.ffmpegStateEvent.subscribe(this.handleFFMpegStatus.bind(this)))}ngOnDestroy(){var t=this;return(0,d.Z)(function*(){t.destroyed.next(),t.destroyed.complete(),t.subscriptions.forEach(i=>i.unsubscribe()),yield t.ffmpegService.flushBuffer()})()}handleFFMpegStatus(t){var i=this;return(0,d.Z)(function*(){i.zoneRef.run(()=>{i.fileStore.get(t.fileId).converterStatus=t.status})})()}handleBufferFileLoad(t){return(0,d.Z)(function*(){h.j.info(t.loaded?`file with id: ${t.fileId} loaded in ffmpeg buffer`:`fail to load file with id: ${t.fileId} in buffer`)})()}handleConverionProgress(t){var i=this;return(0,d.Z)(function*(){i.zoneRef.run(()=>{h.j.info(`[conversion progress] ( progress: ${t.progress}, file id: ${t.fileId})`);const a=i.fileStore.get(t.fileId);a.convertProgress=t.progress,a.inProgress=!0,100===t.progress&&(a.inProgress=!1)})})()}handleConvertEvent(t){var i=this;return(0,d.Z)(function*(){if(t.type===I.END)i.fileStore.get(t.fileId).convertedFileData.set(t.targetFormat,t.fileData);else if(t.type===I.FAILED){h.j.info(`conversion failed for file with id: ${t.fileId}`);const a=i.fileStore.get(t.fileId);i.zoneRef.run(()=>{a.conversionErrors.set(t.targetFormat,"conversion failed! try converting in some other format"),a.inProgress=!1})}})()}handleFFMpegLog(t){h.j.info(`[FMPEG LOGS]: ${t.message}`),this.isMobile&&this.conversionLogs.push(t.message)}downloadLogs(){this.downloadFile("log-files.txt",new Blob([this.conversionLogs.join("\n\n")],{type:"text/plain"}))}addFileToConvert(t){var i=this;return(0,d.Z)(function*(){i.zoneRef.run(()=>{const a=i.formatFileName(t.name),s=a.split(".").pop(),p=crypto.randomUUID(),v={id:p,file:t,inProgress:!1,type:K.S.VIDEO,name:`${i.ffmpegService.getPlainFileName(a)}_${p}.${s}`,convertProgress:0,targetFormat:1,convertedFileData:new Map,conversionErrors:new Map,supportedFormats:i.getSupportedTargetFormats(s),fileFormat:i.resolveFileFormatId(s)};i.fileStore.set(v.id,v),i.fileDisplayList.push(v)})})()}resolveFileFormatId(t){for(const[i,a]of F.entries())if(a.targetFormat===t)return i;return 6}getSupportedTargetFormats(t){return le.get(t).map(a=>({formatId:a,targetFormat:F.get(a).targetFormat,displayName:F.get(a).displayName}))}convertAllVideos(){var t=this;return(0,d.Z)(function*(){for(let i of t.fileStore.values())!i.inProgress&&!i.convertedFileData.has(i.targetFormat)&&t.convertVideoFile(i)})()}convertVideoFile(t){var i=this;return(0,d.Z)(function*(){i.zoneRef.run(()=>{t.inProgress=!0,t.convertProgress=0}),i.ffmpegService.submitFileToConvert(t)})()}formatFileName(t){return t.replace(/ /g,"_")}downloadVideo(t){var i=this;return(0,d.Z)(function*(){const a=i.ffmpegService.getPlainFileName(t.name);yield i.downloadFile(`${a}_converted.${F.get(t.targetFormat).targetFormat}`,new Blob([t.convertedFileData.get(t.targetFormat)],{type:i.getMimeType(t.targetFormat)}))})()}getMimeType(t){const i=F.get(t).targetFormat;return"mp4"===i||"webm"===i?`video/${i}`:`audio/${i}`}downloadFile(t,i){var a=this;return(0,d.Z)(function*(){const s=a.renderer.createElement("a");a.renderer.setProperty(s,"href",URL.createObjectURL(i)),a.renderer.setProperty(s,"download",t),s.click()})()}changeTargetFormat(t,i){this.fileStore.get(t).targetFormat!==i&&(h.j.info(`changing target format of file with id: ${t} to ${F.get(i)}`),this.fileStore.get(t).targetFormat=i)}formatBytes(t,i=2){if(0===t)return"0 Bytes";const s=i<0?0:i,v=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,v)).toFixed(s))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][v]}openSettings(t){this.closeDialog();const a=this.formatFileName(t.file.name).split(".").pop(),s=this.getSupportedTargetFormats(a),p={referenceId:t.id,type:J.VIDEO_CONVERT_SETTINGS,rows:[{elements:[{type:B.DROPDOWN,propertyName:"targetFormat",data:{options:s.map(v=>({displayName:v.displayName,value:v.formatId})),targetFormat:t.targetFormat}}]}]};this.activeDialog=this.dialog.open(se,{data:p}),this.activeDialog.afterClosed().subscribe(this.handleSettingsChange.bind(this))}handleSettingsChange(t={}){var i=this;return(0,d.Z)(function*(){if(h.j.info(`settings dialog closed with data: ${JSON.stringify(t)}`),Object.keys(t).length>0){const a=t,s=i.fileStore.get(a.referenceId);i.zoneRef.run(()=>{s.targetFormat=a.data.targetFormat})}})()}closeDialog(t={}){var i=this;return(0,d.Z)(function*(){i.activeDialog&&i.activeDialog.close(t)})()}selectFiles(t){var i=this;return(0,d.Z)(function*(){for(const a of t.target.files)yield i.addFileToConvert(a)})()}openFileDialog(){this.renderer.selectRootElement(this.inputFiles.nativeElement,!0).click()}dragOverHandler(t){return(0,d.Z)(function*(){t.preventDefault()})()}dropHandler(t){var i=this;return(0,d.Z)(function*(){t.preventDefault(),t.dataTransfer.items?[...t.dataTransfer.items].filter(a=>"file"===a.kind).map(a=>a.getAsFile()).forEach(function(){var a=(0,d.Z)(function*(s){return yield i.addFileToConvert(s)});return function(s){return a.apply(this,arguments)}}()):[...t.dataTransfer.files].forEach(function(){var a=(0,d.Z)(function*(s){return yield i.addFileToConvert(s)});return function(s){return a.apply(this,arguments)}}())})()}}return(o=n).\u0275fac=function(t){return new(t||o)(e.Y36(M.uw),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(b.Yg),e.Y36(_e),e.Y36(ye.H))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-video-converter"]],viewQuery:function(t,i){if(1&t&&e.Gf(Fe,5),2&t){let a;e.iGM(a=e.CRH())&&(i.inputFiles=a.first)}},decls:6,vars:4,consts:[[1,"flex-display","flex-column-flow","flex-align-center","flex-gap-medium"],["type","file","multiple","",2,"display","none",3,"accept","change"],["inputFiles",""],["class","flex-display flex-column-flow flex-center flex-align-center file-drop-area file-area-width flex-gap-medium full-width",3,"drop","dragover",4,"ngIf"],["class","flex-display flex-row-flow flex-center full-width flex-gap-medium",3,"ngStyle",4,"ngIf"],["class","flex-display flex-column-flow y-scroll file-drop-area file-area-width file-list-div flex-gap-medium full-width",4,"ngIf"],[1,"flex-display","flex-column-flow","flex-center","flex-align-center","file-drop-area","file-area-width","flex-gap-medium","full-width",3,"drop","dragover"],[2,"transform","scale(2)"],[1,"header-font",2,"font-size","large"],["mat-stroked-button","","color","primary","matTooltip","select video to convert",3,"click"],[1,"flex-display","flex-row-flow","flex-center","full-width","flex-gap-medium",3,"ngStyle"],["mat-stroked-button","","color","accent","matTooltip","select videos to convert",3,"click"],["mat-stroked-button","","color","accent","matTooltip","convert all videos",3,"click"],[1,"flex-display","flex-column-flow","y-scroll","file-drop-area","file-area-width","file-list-div","flex-gap-medium","full-width"],["style","\n        border: 1px solid lightgrey;\n        margin-left: 10px;\n        margin-right: 10px;\n      ",4,"ngFor","ngForOf"],[2,"border","1px solid lightgrey","margin-left","10px","margin-right","10px"],[1,"flex-display","flex-row-flow","flex-align-center","flex-gap-large",2,"margin","10px"],["svgIcon","video-convert-icon","class","app-icon pointer-cursor","style","margin-left: 10px",4,"ngIf"],[1,"flex-display","flex-column-flow","header-font","file-name-div"],[1,"bold-text"],[1,"bold-text","header-font",2,"color","#3f51b5"],["class","bold-text","style","color: red",4,"ngIf"],["class","bold-text",4,"ngIf"],[1,"flex-full-height"],[1,"flex-display","flex-row-flow","flex-align-center","flex-center","flex-gap-medium"],["diameter","32",4,"ngIf"],["diameter","32","mode","determinate",3,"value",4,"ngIf"],["appearance","outline","color","primary","style","margin-bottom: -1.25em",4,"ngIf"],["svgIcon","settings-icon","class","pointer-cursor","matTooltip","change conversion settings",3,"click",4,"ngIf"],["svgIcon","play-icon","class","pointer-cursor","matTooltip","convert video file",3,"click",4,"ngIf"],["svgIcon","download-icon","class","pointer-cursor","matTooltip","download converted video",3,"click",4,"ngIf"],["class","pointer-cursor","color","warn","matTooltip","only limited video formats can be converted",4,"ngIf"],["svgIcon","video-convert-icon",1,"app-icon","pointer-cursor",2,"margin-left","10px"],[1,"bold-text",2,"color","red"],["diameter","32"],["diameter","32","mode","determinate",3,"value"],["appearance","outline","color","primary",2,"margin-bottom","-1.25em"],["disableRipple","",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["svgIcon","settings-icon","matTooltip","change conversion settings",1,"pointer-cursor",3,"click"],["svgIcon","play-icon","matTooltip","convert video file",1,"pointer-cursor",3,"click"],["svgIcon","download-icon","matTooltip","download converted video",1,"pointer-cursor",3,"click"],["color","warn","matTooltip","only limited video formats can be converted",1,"pointer-cursor"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"input",1,2),e.NdJ("change",function(s){return i.selectFiles(s)}),e.qZA(),e.YNc(3,xe,11,0,"div",3),e.YNc(4,Ee,9,3,"div",4),e.YNc(5,Le,2,1,"div",5),e.qZA()),2&t&&(e.xp6(1),e.Q6J("accept",i.validVideoFormats),e.xp6(2),e.Q6J("ngIf",0===i.fileDisplayList.length),e.xp6(1),e.Q6J("ngIf",i.fileDisplayList.length>0),e.xp6(1),e.Q6J("ngIf",i.fileDisplayList.length>0))},dependencies:[y.sg,y.O5,y.PC,L.Hw,A.lW,q.a8,R.KE,R.hX,N.gD,G.ey,Y.gM,j.Ou],styles:[".file-drop-area[_ngcontent-%COMP%]{border:1px solid lightgrey;border-radius:10px}.file-area-width[_ngcontent-%COMP%]{padding-top:30px;padding-bottom:30px}.file-list-div[_ngcontent-%COMP%]{max-height:400px}@media screen and (max-width: 735px){.file-list-div[_ngcontent-%COMP%]{max-height:300px}.file-name-div[_ngcontent-%COMP%]{width:60%;overflow-x:hidden}}"]}),n})()}];let ke=(()=>{var o;class n{}return(o=n).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[k.Bz.forChild(Ue),k.Bz]}),n})();var W=c(2202);let $e=(()=>{var o;class n{}return(o=n).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[y.ez,N.LD,A.ot,L.Ps,W.KP,M.Is]}),n})(),Je=(()=>{var o;class n{}return(o=n).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[y.ez,ke,L.Ps,A.ot,q.QW,N.LD,Y.AV,b.xu,W.KP,M.Is,j.Cq,$e]}),n})()}}]);