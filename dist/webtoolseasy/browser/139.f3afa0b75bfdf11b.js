"use strict";(self.webpackChunkwebtoolseasy=self.webpackChunkwebtoolseasy||[]).push([[139],{3139:(vn,et,G)=>{G.r(et),G.d(et,{ImageCompressionModule:()=>hn});var Be=G(6814),tt=G(3403),ae=G(5861),Ct=G(7421),Ze=G(3242);function nt(C,T){return new Promise(function(S,o){let e;return Et(C).then(function(t){try{return e=t,S(new Blob([T.slice(0,2),e,T.slice(2)],{type:"image/jpeg"}))}catch(s){return o(s)}},o)})}const Et=C=>new Promise((T,S)=>{const o=new FileReader;o.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let s=0;if(65496!==t.getUint16(s))return S("not a valid JPEG");for(s+=2;;){const l=t.getUint16(s);if(65498===l)break;const g=t.getUint16(s+2);if(65505===l&&1165519206===t.getUint32(s+4)){const b=s+10;let r;switch(t.getUint16(b)){case 18761:r=!0;break;case 19789:r=!1;break;default:return S("TIFF header contains invalid endian")}if(42!==t.getUint16(b+2,r))return S("TIFF header contains invalid version");const i=t.getUint32(b+4,r),n=b+i+2+12*t.getUint16(b+i,r);for(let f=b+i+2;f<n;f+=12)if(274==t.getUint16(f,r)){if(3!==t.getUint16(f+2,r))return S("Orientation data type is invalid");if(1!==t.getUint32(f+4,r))return S("Orientation data count is invalid");t.setUint16(f+8,1,r);break}return T(e.slice(s,s+2+g))}s+=2+g}return T(new Blob)}),o.readAsArrayBuffer(C)});var T,S,o,Qe={};({get exports(){return Qe},set exports(C){Qe=C}}).exports=o={},o.parse=function(e,t){for(var s=o.bin.readUshort,l=o.bin.readUint,g=0,b={},r=new Uint8Array(e),i=r.length-4;101010256!=l(r,i);)i--;g=i,g+=4;var n=s(r,g+=4);s(r,g+=2);var f=l(r,g+=2),m=l(r,g+=4);g+=4,g=m;for(var E=0;E<n;E++){l(r,g),g+=4,g+=4,g+=4,l(r,g+=4),f=l(r,g+=4);var B=l(r,g+=4),y=s(r,g+=4),z=s(r,g+2),P=s(r,g+4);g+=6;var F=l(r,g+=8);g+=4,g+=y+z+P,o._readLocal(r,F,b,f,B,t)}return b},o._readLocal=function(e,t,s,l,g,b){var r=o.bin.readUshort,i=o.bin.readUint;i(e,t),r(e,t+=4),r(e,t+=2);var n=r(e,t+=2);i(e,t+=2),i(e,t+=4),t+=4;var f=r(e,t+=8),m=r(e,t+=2),E=o.bin.readUTF8(e,t+=2,f);if(t+=f,t+=m,b)s[E]={size:g,csize:l};else{var B=new Uint8Array(e.buffer,t);if(0==n)s[E]=new Uint8Array(B.buffer.slice(t,t+l));else{if(8!=n)throw"unknown compression method: "+n;var y=new Uint8Array(g);o.inflateRaw(B,y),s[E]=y}}},o.inflateRaw=function(e,t){return o.F.inflate(e,t)},o.inflate=function(e,t){return o.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},o.deflate=function(e,t){null==t&&(t={level:6});var s=0,l=new Uint8Array(50+Math.floor(1.1*e.length));l[s]=120,l[s+1]=156,s=o.F.deflateRaw(e,l,s+=2,t.level);var g=o.adler(e,0,e.length);return l[s+0]=g>>>24&255,l[s+1]=g>>>16&255,l[s+2]=g>>>8&255,l[s+3]=g>>>0&255,new Uint8Array(l.buffer,0,s+4)},o.deflateRaw=function(e,t){null==t&&(t={level:6});var s=new Uint8Array(50+Math.floor(1.1*e.length)),l=o.F.deflateRaw(e,s,l,t.level);return new Uint8Array(s.buffer,0,l)},o.encode=function(e,t){null==t&&(t=!1);var s=0,l=o.bin.writeUint,g=o.bin.writeUshort,b={};for(var r in e){var i=!o._noNeed(r)&&!t,n=e[r],f=o.crc.crc(n,0,n.length);b[r]={cpr:i,usize:n.length,crc:f,file:i?o.deflateRaw(n):n}}for(var r in b)s+=b[r].file.length+30+46+2*o.bin.sizeUTF8(r);s+=22;var m=new Uint8Array(s),E=0,B=[];for(var r in b){var y=b[r];B.push(E),E=o._writeHeader(m,E,r,y,0)}var z=0,P=E;for(var r in b)y=b[r],B.push(E),E=o._writeHeader(m,E,r,y,1,B[z++]);var F=E-P;return l(m,E,101010256),E+=4,g(m,E+=4,z),g(m,E+=2,z),l(m,E+=2,F),l(m,E+=4,P),E+=4,E+=2,m.buffer},o._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(t)},o._writeHeader=function(e,t,s,l,g,b){var r=o.bin.writeUint,i=o.bin.writeUshort,n=l.file;return r(e,t,0==g?67324752:33639248),t+=4,1==g&&(t+=2),i(e,t,20),i(e,t+=2,0),i(e,t+=2,l.cpr?8:0),r(e,t+=2,0),r(e,t+=4,l.crc),r(e,t+=4,n.length),r(e,t+=4,l.usize),i(e,t+=4,o.bin.sizeUTF8(s)),i(e,t+=2,0),t+=2,1==g&&(t+=2,t+=2,r(e,t+=6,b),t+=4),t+=o.bin.writeUTF8(e,t,s),0==g&&(e.set(n,t),t+=n.length),t},o.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var s=t,l=0;l<8;l++)1&s?s=3988292384^s>>>1:s>>>=1;e[t]=s}return e}(),update:function(e,t,s,l){for(var g=0;g<l;g++)e=o.crc.table[255&(e^t[s+g])]^e>>>8;return e},crc:function(e,t,s){return 4294967295^o.crc.update(4294967295,e,t,s)}},o.adler=function(e,t,s){for(var l=1,g=0,b=t,r=t+s;b<r;){for(var i=Math.min(b+5552,r);b<i;)g+=l+=e[b++];l%=65521,g%=65521}return g<<16|l},o.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,s){e[t]=255&s,e[t+1]=s>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,s){e[t]=255&s,e[t+1]=s>>8&255,e[t+2]=s>>16&255,e[t+3]=s>>24&255},readASCII:function(e,t,s){for(var l="",g=0;g<s;g++)l+=String.fromCharCode(e[t+g]);return l},writeASCII:function(e,t,s){for(var l=0;l<s.length;l++)e[t+l]=s.charCodeAt(l)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,s){for(var l,g="",b=0;b<s;b++)g+="%"+o.bin.pad(e[t+b].toString(16));try{l=decodeURIComponent(g)}catch{return o.bin.readASCII(e,t,s)}return l},writeUTF8:function(e,t,s){for(var l=s.length,g=0,b=0;b<l;b++){var r=s.charCodeAt(b);if(4294967168&r)if(4294965248&r)if(4294901760&r){if(4292870144&r)throw"e";e[t+g]=240|r>>18,e[t+g+1]=128|r>>12&63,e[t+g+2]=128|r>>6&63,e[t+g+3]=128|r>>0&63,g+=4}else e[t+g]=224|r>>12,e[t+g+1]=128|r>>6&63,e[t+g+2]=128|r>>0&63,g+=3;else e[t+g]=192|r>>6,e[t+g+1]=128|r>>0&63,g+=2;else e[t+g]=r,g++}return g},sizeUTF8:function(e){for(var t=e.length,s=0,l=0;l<t;l++){var g=e.charCodeAt(l);if(4294967168&g)if(4294965248&g)if(4294901760&g){if(4292870144&g)throw"e";s+=4}else s+=3;else s+=2;else s++}return s}},o.F={},o.F.deflateRaw=function(e,t,s,l){var g=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],b=o.F.U,r=o.F._goodIndex,i=o.F._putsE,n=0,f=s<<3,m=0,E=e.length;if(0==l){for(;n<E;)i(t,f,n+(x=Math.min(65535,E-n))==E?1:0),f=o.F._copyExact(e,n,x,t,f+8),n+=x;return f>>>3}var B=b.lits,y=b.strt,z=b.prev,P=0,F=0,O=0,h=0,R=0,u=0;for(E>2&&(y[u=o.F._hash(e,0)]=0),n=0;n<E;n++){if(R=u,n+1<E-2){u=o.F._hash(e,n+1);var c=n+1&32767;z[c]=y[u],y[u]=c}if(m<=n){(P>14e3||F>26697)&&E-n>100&&(m<n&&(B[P]=n-m,P+=2,m=n),f=o.F._writeBlock(n==E-1||m==E?1:0,B,P,h,e,O,n-O,t,f),P=F=h=0,O=n);var v=0;n<E-2&&(v=o.F._bestMatch(e,n,z,R,Math.min(g[2],E-n),g[3]));var x=v>>>16,w=65535&v;if(0!=v){w=65535&v;var _=r(x=v>>>16,b.of0);b.lhst[257+_]++;var A=r(w,b.df0);b.dhst[A]++,h+=b.exb[_]+b.dxb[A],B[P]=x<<23|n-m,B[P+1]=w<<16|_<<8|A,P+=2,m=n+x}else b.lhst[e[n]]++;F++}}for(O==n&&0!=e.length||(m<n&&(B[P]=n-m,P+=2,m=n),f=o.F._writeBlock(1,B,P,h,e,O,n-O,t,f),P=0,F=0,P=F=h=0,O=n);7&f;)f++;return f>>>3},o.F._bestMatch=function(e,t,s,l,g,b){var r=32767&t,i=s[r],n=r-i+32768&32767;if(i==r||l!=o.F._hash(e,t-n))return 0;for(var f=0,m=0,E=Math.min(32767,t);n<=E&&0!=--b&&i!=r;){if(0==f||e[t+f]==e[t+f-n]){var B=o.F._howLong(e,t,n);if(B>f){if(m=n,(f=B)>=g)break;n+2<B&&(B=n+2);for(var y=0,z=0;z<B-2;z++){var P=t-n+z+32768&32767,F=P-s[P]+32768&32767;F>y&&(y=F,i=P)}}}n+=(r=i)-(i=s[r])+32768&32767}return f<<16|m},o.F._howLong=function(e,t,s){if(e[t]!=e[t-s]||e[t+1]!=e[t+1-s]||e[t+2]!=e[t+2-s])return 0;var l=t,g=Math.min(e.length,t+258);for(t+=3;t<g&&e[t]==e[t-s];)t++;return t-l},o.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},o.saved=0,o.F._writeBlock=function(e,t,s,l,g,b,r,i,n){var f,m,E,B,y,z,P,F,O,h=o.F.U,R=o.F._putsF,u=o.F._putsE;h.lhst[256]++,m=(f=o.F.getTrees())[0],E=f[1],B=f[2],y=f[3],z=f[4],P=f[5],F=f[6],O=f[7];var c=32+(n+3&7?8-(n+3&7):0)+(r<<3),v=l+o.F.contSize(h.fltree,h.lhst)+o.F.contSize(h.fdtree,h.dhst),x=l+o.F.contSize(h.ltree,h.lhst)+o.F.contSize(h.dtree,h.dhst);x+=14+3*P+o.F.contSize(h.itree,h.ihst)+(2*h.ihst[16]+3*h.ihst[17]+7*h.ihst[18]);for(var w=0;w<286;w++)h.lhst[w]=0;for(w=0;w<30;w++)h.dhst[w]=0;for(w=0;w<19;w++)h.ihst[w]=0;var _=c<v&&c<x?0:v<x?1:2;if(R(i,n,e),R(i,n+1,_),n+=3,0==_){for(;7&n;)n++;n=o.F._copyExact(g,b,r,i,n)}else{var A,U;if(1==_&&(A=h.fltree,U=h.fdtree),2==_){o.F.makeCodes(h.ltree,m),o.F.revCodes(h.ltree,m),o.F.makeCodes(h.dtree,E),o.F.revCodes(h.dtree,E),o.F.makeCodes(h.itree,B),o.F.revCodes(h.itree,B),A=h.ltree,U=h.dtree,u(i,n,y-257),u(i,n+=5,z-1),u(i,n+=5,P-4),n+=4;for(var d=0;d<P;d++)u(i,n+3*d,h.itree[1+(h.ordr[d]<<1)]);n=o.F._codeTiny(F,h.itree,i,n+=3*P),n=o.F._codeTiny(O,h.itree,i,n)}for(var a=b,Z=0;Z<s;Z+=2){for(var I=t[Z],Q=I>>>23,D=a+(8388607&I);a<D;)n=o.F._writeLit(g[a++],A,i,n);if(0!=Q){var k=t[Z+1],H=k>>16,N=k>>8&255,M=255&k;u(i,n=o.F._writeLit(257+N,A,i,n),Q-h.of0[N]),R(i,n=o.F._writeLit(M,U,i,n+=h.exb[N]),H-h.df0[M]),n+=h.dxb[M],a+=Q}}n=o.F._writeLit(256,A,i,n)}return n},o.F._copyExact=function(e,t,s,l,g){var b=g>>>3;return l[b]=s,l[b+1]=s>>>8,l[b+2]=255-l[b],l[b+3]=255-l[b+1],b+=4,l.set(new Uint8Array(e.buffer,t,s),b),g+(s+4<<3)},o.F.getTrees=function(){for(var e=o.F.U,t=o.F._hufTree(e.lhst,e.ltree,15),s=o.F._hufTree(e.dhst,e.dtree,15),l=[],g=o.F._lenCodes(e.ltree,l),b=[],r=o.F._lenCodes(e.dtree,b),i=0;i<l.length;i+=2)e.ihst[l[i]]++;for(i=0;i<b.length;i+=2)e.ihst[b[i]]++;for(var n=o.F._hufTree(e.ihst,e.itree,7),f=19;f>4&&0==e.itree[1+(e.ordr[f-1]<<1)];)f--;return[t,s,n,g,r,f,l,b]},o.F.getSecond=function(e){for(var t=[],s=0;s<e.length;s+=2)t.push(e[s+1]);return t},o.F.nonZero=function(e){for(var t="",s=0;s<e.length;s+=2)0!=e[s+1]&&(t+=(s>>1)+",");return t},o.F.contSize=function(e,t){for(var s=0,l=0;l<t.length;l++)s+=t[l]*e[1+(l<<1)];return s},o.F._codeTiny=function(e,t,s,l){for(var g=0;g<e.length;g+=2){var b=e[g],r=e[g+1];l=o.F._writeLit(b,t,s,l);var i=16==b?2:17==b?3:7;b>15&&(o.F._putsE(s,l,r,i),l+=i)}return l},o.F._lenCodes=function(e,t){for(var s=e.length;2!=s&&0==e[s-1];)s-=2;for(var l=0;l<s;l+=2){var g=e[l+1],b=l+3<s?e[l+3]:-1,r=l+5<s?e[l+5]:-1,i=0==l?-1:e[l-1];if(0==g&&b==g&&r==g){for(var n=l+5;n+2<s&&e[n+2]==g;)n+=2;(f=Math.min(n+1-l>>>1,138))<11?t.push(17,f-3):t.push(18,f-11),l+=2*f-2}else if(g==i&&b==g&&r==g){for(n=l+5;n+2<s&&e[n+2]==g;)n+=2;var f=Math.min(n+1-l>>>1,6);t.push(16,f-3),l+=2*f-2}else t.push(g,0)}return s>>>1},o.F._hufTree=function(e,t,s){var l=[],g=e.length,b=t.length,r=0;for(r=0;r<b;r+=2)t[r]=0,t[r+1]=0;for(r=0;r<g;r++)0!=e[r]&&l.push({lit:r,f:e[r]});var i=l.length,n=l.slice(0);if(0==i)return 0;if(1==i){var f=l[0].lit;return n=0==f?1:0,t[1+(f<<1)]=1,t[1+(n<<1)]=1,1}l.sort(function(F,O){return F.f-O.f});var m=l[0],E=l[1],B=0,y=1,z=2;for(l[0]={lit:-1,f:m.f+E.f,l:m,r:E,d:0};y!=i-1;)m=B!=y&&(z==i||l[B].f<l[z].f)?l[B++]:l[z++],E=B!=y&&(z==i||l[B].f<l[z].f)?l[B++]:l[z++],l[y++]={lit:-1,f:m.f+E.f,l:m,r:E};var P=o.F.setDepth(l[y-1],0);for(P>s&&(o.F.restrictDepth(n,s,P),P=s),r=0;r<i;r++)t[1+(n[r].lit<<1)]=n[r].d;return P},o.F.setDepth=function(e,t){return-1!=e.lit?(e.d=t,t):Math.max(o.F.setDepth(e.l,t+1),o.F.setDepth(e.r,t+1))},o.F.restrictDepth=function(e,t,s){var l=0,g=1<<s-t,b=0;for(e.sort(function(i,n){return n.d==i.d?i.f-n.f:n.d-i.d}),l=0;l<e.length&&e[l].d>t;l++){var r=e[l].d;e[l].d=t,b+=g-(1<<s-r)}for(b>>>=s-t;b>0;)(r=e[l].d)<t?(e[l].d++,b-=1<<t-r-1):l++;for(;l>=0;l--)e[l].d==t&&b<0&&(e[l].d--,b++);0!=b&&console.log("debt left")},o.F._goodIndex=function(e,t){var s=0;return t[16|s]<=e&&(s|=16),t[8|s]<=e&&(s|=8),t[4|s]<=e&&(s|=4),t[2|s]<=e&&(s|=2),t[1|s]<=e&&(s|=1),s},o.F._writeLit=function(e,t,s,l){return o.F._putsF(s,l,t[e<<1]),l+t[1+(e<<1)]},o.F.inflate=function(e,t){var s=Uint8Array;if(3==e[0]&&0==e[1])return t||new s(0);var l=o.F,g=l._bitsF,b=l._bitsE,r=l._decodeTiny,i=l.makeCodes,n=l.codes2map,f=l._get17,m=l.U,E=null==t;E&&(t=new s(e.length>>>2<<3));for(var B,y,z=0,P=0,F=0,O=0,h=0,R=0,u=0,c=0,v=0;0==z;)if(z=g(e,v,1),P=g(e,v+1,2),v+=3,0!=P){if(E&&(t=o.F._check(t,c+(1<<17))),1==P&&(B=m.flmap,y=m.fdmap,R=511,u=31),2==P){F=b(e,v,5)+257,O=b(e,v+5,5)+1,h=b(e,v+10,4)+4,v+=14;for(var x=0;x<38;x+=2)m.itree[x]=0,m.itree[x+1]=0;var w=1;for(x=0;x<h;x++){var _=b(e,v+3*x,3);m.itree[1+(m.ordr[x]<<1)]=_,_>w&&(w=_)}v+=3*h,i(m.itree,w),n(m.itree,w,m.imap),B=m.lmap,y=m.dmap,v=r(m.imap,(1<<w)-1,F+O,e,v,m.ttree);var A=l._copyOut(m.ttree,0,F,m.ltree);R=(1<<A)-1;var U=l._copyOut(m.ttree,F,O,m.dtree);u=(1<<U)-1,i(m.ltree,A),n(m.ltree,A,B),i(m.dtree,U),n(m.dtree,U,y)}for(;;){var d=B[f(e,v)&R];v+=15&d;var a=d>>>4;if(a>>>8){if(256==a)break;var Z=c+a-254;if(a>264){var I=m.ldef[a-257];Z=c+(I>>>3)+b(e,v,7&I),v+=7&I}var Q=y[f(e,v)&u],k=m.ddef[Q>>>4],H=(k>>>4)+g(e,v+=15&Q,15&k);for(v+=15&k,E&&(t=o.F._check(t,c+(1<<17)));c<Z;)t[c]=t[c++-H],t[c]=t[c++-H],t[c]=t[c++-H],t[c]=t[c++-H];c=Z}else t[c++]=a}}else{7&v&&(v+=8-(7&v));var N=4+(v>>>3),M=e[N-4]|e[N-3]<<8;E&&(t=o.F._check(t,c+M)),t.set(new s(e.buffer,e.byteOffset+N,M),c),v=N+M<<3,c+=M}return t.length==c?t:t.slice(0,c)},o.F._check=function(e,t){var s=e.length;if(t<=s)return e;var l=new Uint8Array(Math.max(s<<1,t));return l.set(e,0),l},o.F._decodeTiny=function(e,t,s,l,g,b){for(var r=o.F._bitsE,i=o.F._get17,n=0;n<s;){var f=e[i(l,g)&t];g+=15&f;var m=f>>>4;if(m<=15)b[n]=m,n++;else{var E=0,B=0;16==m?(B=3+r(l,g,2),g+=2,E=b[n-1]):17==m?(B=3+r(l,g,3),g+=3):18==m&&(B=11+r(l,g,7),g+=7);for(var y=n+B;n<y;)b[n]=E,n++}}return g},o.F._copyOut=function(e,t,s,l){for(var g=0,b=0,r=l.length>>>1;b<s;){var i=e[b+t];l[b<<1]=0,l[1+(b<<1)]=i,i>g&&(g=i),b++}for(;b<r;)l[b<<1]=0,l[1+(b<<1)]=0,b++;return g},o.F.makeCodes=function(e,t){for(var s,l,g,b,r=o.F.U,i=e.length,n=r.bl_count,f=0;f<=t;f++)n[f]=0;for(f=1;f<i;f+=2)n[e[f]]++;var m=r.next_code;for(s=0,n[0]=0,l=1;l<=t;l++)m[l]=s=s+n[l-1]<<1;for(g=0;g<i;g+=2)0!=(b=e[g+1])&&(e[g]=m[b],m[b]++)},o.F.codes2map=function(e,t,s){for(var l=e.length,g=o.F.U.rev15,b=0;b<l;b+=2)if(0!=e[b+1])for(var i=e[b+1],n=b>>1<<4|i,f=t-i,m=e[b]<<f,E=m+(1<<f);m!=E;)s[g[m]>>>15-t]=n,m++},o.F.revCodes=function(e,t){for(var s=o.F.U.rev15,l=15-t,g=0;g<e.length;g+=2)e[g]=s[e[g]<<t-e[g+1]]>>>l},o.F._putsE=function(e,t,s){var l=t>>>3;e[l]|=s<<=7&t,e[l+1]|=s>>>8},o.F._putsF=function(e,t,s){var l=t>>>3;e[l]|=s<<=7&t,e[l+1]|=s>>>8,e[l+2]|=s>>>16},o.F._bitsE=function(e,t,s){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<s)-1},o.F._bitsF=function(e,t,s){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<s)-1},o.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},o.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},o.F.U=(T=Uint16Array,S=Uint32Array,{next_code:new T(16),bl_count:new T(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new T(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new S(32),flmap:new T(512),fltree:[],fdmap:new T(32),fdtree:[],lmap:new T(32768),ltree:[],ttree:[],dmap:new T(32768),dtree:[],imap:new T(512),itree:[],rev15:new T(32768),lhst:new S(286),dhst:new S(30),ihst:new S(19),lits:new S(15e3),strt:new T(65536),prev:new T(32768)}),function(){for(var e=o.F.U,t=0;t<32768;t++){var s=t;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,e.rev15[t]=(s>>>16|s<<16)>>>17}function l(g,b,r){for(;0!=b--;)g.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];l(e.fltree,144,8),l(e.fltree,112,9),l(e.fltree,24,7),l(e.fltree,8,8),o.F.makeCodes(e.fltree,9),o.F.codes2map(e.fltree,9,e.flmap),o.F.revCodes(e.fltree,9),l(e.fdtree,32,5),o.F.makeCodes(e.fdtree,5),o.F.codes2map(e.fdtree,5,e.fdmap),o.F.revCodes(e.fdtree,5),l(e.itree,19,0),l(e.ltree,286,0),l(e.dtree,30,0),l(e.ttree,320,0)}();var Ut=function _t(C,T){return T.forEach(function(S){S&&"string"!=typeof S&&!Array.isArray(S)&&Object.keys(S).forEach(function(o){if("default"!==o&&!(o in C)){var e=Object.getOwnPropertyDescriptor(S,o);Object.defineProperty(C,o,e.get?e:{enumerable:!0,get:function(){return S[o]}})}})}),Object.freeze(C)}({__proto__:null,default:Qe},[Qe]);const me=function(){var C={nextZero(r,i){for(;0!=r[i];)i++;return i},readUshort:(r,i)=>r[i]<<8|r[i+1],writeUshort(r,i,n){r[i]=n>>8&255,r[i+1]=255&n},readUint:(r,i)=>16777216*r[i]+(r[i+1]<<16|r[i+2]<<8|r[i+3]),writeUint(r,i,n){r[i]=n>>24&255,r[i+1]=n>>16&255,r[i+2]=n>>8&255,r[i+3]=255&n},readASCII(r,i,n){let f="";for(let m=0;m<n;m++)f+=String.fromCharCode(r[i+m]);return f},writeASCII(r,i,n){for(let f=0;f<n.length;f++)r[i+f]=n.charCodeAt(f)},readBytes(r,i,n){const f=[];for(let m=0;m<n;m++)f.push(r[i+m]);return f},pad:r=>r.length<2?`0${r}`:r,readUTF8(r,i,n){let f,m="";for(let E=0;E<n;E++)m+=`%${C.pad(r[i+E].toString(16))}`;try{f=decodeURIComponent(m)}catch{return C.readASCII(r,i,n)}return f}};function T(r,i,n,f){const m=i*n,E=t(f),B=Math.ceil(i*E/8),y=new Uint8Array(4*m),z=new Uint32Array(y.buffer),{ctype:P}=f,{depth:F}=f,O=C.readUshort;if(6==P){const I=m<<2;if(8==F)for(var h=0;h<I;h+=4)y[h]=r[h],y[h+1]=r[h+1],y[h+2]=r[h+2],y[h+3]=r[h+3];if(16==F)for(h=0;h<I;h++)y[h]=r[h<<1]}else if(2==P){const I=f.tabs.tRNS;if(null==I){if(8==F)for(h=0;h<m;h++){var R=3*h;z[h]=255<<24|r[R+2]<<16|r[R+1]<<8|r[R]}if(16==F)for(h=0;h<m;h++)z[h]=255<<24|r[4+(R=6*h)]<<16|r[R+2]<<8|r[R]}else{var u=I[0];const Q=I[1],D=I[2];if(8==F)for(h=0;h<m;h++){var c=h<<2;z[h]=255<<24|r[2+(R=3*h)]<<16|r[R+1]<<8|r[R],r[R]==u&&r[R+1]==Q&&r[R+2]==D&&(y[c+3]=0)}if(16==F)for(h=0;h<m;h++)c=h<<2,z[h]=255<<24|r[4+(R=6*h)]<<16|r[R+2]<<8|r[R],O(r,R)==u&&O(r,R+2)==Q&&O(r,R+4)==D&&(y[c+3]=0)}}else if(3==P){const I=f.tabs.PLTE,Q=f.tabs.tRNS,D=Q?Q.length:0;if(1==F)for(var v=0;v<n;v++){var x=v*B,w=v*i;for(h=0;h<i;h++){var _=3*(A=r[x+(h>>3)]>>7-((7&h)<<0)&1);y[c=w+h<<2]=I[_],y[c+1]=I[_+1],y[c+2]=I[_+2],y[c+3]=A<D?Q[A]:255}}if(2==F)for(v=0;v<n;v++)for(x=v*B,w=v*i,h=0;h<i;h++)_=3*(A=r[x+(h>>2)]>>6-((3&h)<<1)&3),y[c=w+h<<2]=I[_],y[c+1]=I[_+1],y[c+2]=I[_+2],y[c+3]=A<D?Q[A]:255;if(4==F)for(v=0;v<n;v++)for(x=v*B,w=v*i,h=0;h<i;h++)_=3*(A=r[x+(h>>1)]>>4-((1&h)<<2)&15),y[c=w+h<<2]=I[_],y[c+1]=I[_+1],y[c+2]=I[_+2],y[c+3]=A<D?Q[A]:255;if(8==F)for(h=0;h<m;h++){var A;_=3*(A=r[h]),y[c=h<<2]=I[_],y[c+1]=I[_+1],y[c+2]=I[_+2],y[c+3]=A<D?Q[A]:255}}else if(4==P){if(8==F)for(h=0;h<m;h++){var U=r[d=h<<1];y[c=h<<2]=U,y[c+1]=U,y[c+2]=U,y[c+3]=r[d+1]}if(16==F)for(h=0;h<m;h++){var d;U=r[d=h<<2],y[c=h<<2]=U,y[c+1]=U,y[c+2]=U,y[c+3]=r[d+2]}}else if(0==P)for(u=f.tabs.tRNS?f.tabs.tRNS:-1,v=0;v<n;v++){const I=v*B,Q=v*i;if(1==F)for(var a=0;a<i;a++){var Z=(U=255*(r[I+(a>>>3)]>>>7-(7&a)&1))==255*u?0:255;z[Q+a]=Z<<24|U<<16|U<<8|U}else if(2==F)for(a=0;a<i;a++)Z=(U=85*(r[I+(a>>>2)]>>>6-((3&a)<<1)&3))==85*u?0:255,z[Q+a]=Z<<24|U<<16|U<<8|U;else if(4==F)for(a=0;a<i;a++)Z=(U=17*(r[I+(a>>>1)]>>>4-((1&a)<<2)&15))==17*u?0:255,z[Q+a]=Z<<24|U<<16|U<<8|U;else if(8==F)for(a=0;a<i;a++)Z=(U=r[I+a])==u?0:255,z[Q+a]=Z<<24|U<<16|U<<8|U;else if(16==F)for(a=0;a<i;a++)U=r[I+(a<<1)],Z=O(r,I+(a<<1))==u?0:255,z[Q+a]=Z<<24|U<<16|U<<8|U}return y}function S(r,i,n,f){const m=t(r),E=Math.ceil(n*m/8),B=new Uint8Array((E+1+r.interlace)*f);return i=r.tabs.CgBI?e(i,B):o(i,B),0==r.interlace?i=s(i,r,0,n,f):1==r.interlace&&(i=function(z,P){const F=P.width,O=P.height,h=t(P),R=h>>3,u=Math.ceil(F*h/8),c=new Uint8Array(O*u);let v=0;const x=[0,0,4,0,2,0,1],w=[0,4,0,2,0,1,0],_=[8,8,8,4,4,2,2],A=[8,8,4,4,2,2,1];let U=0;for(;U<7;){const a=_[U],Z=A[U];let I=0,Q=0,D=x[U];for(;D<O;)D+=a,Q++;let k=w[U];for(;k<F;)k+=Z,I++;const H=Math.ceil(I*h/8);s(z,P,v,I,Q);let N=0,M=x[U];for(;M<O;){let L=w[U],$=v+N*H<<3;for(;L<F;){var d;if(1==h&&(d=(d=z[$>>3])>>7-(7&$)&1,c[M*u+(L>>3)]|=d<<7-((7&L)<<0)),2==h&&(d=(d=z[$>>3])>>6-(7&$)&3,c[M*u+(L>>2)]|=d<<6-((3&L)<<1)),4==h&&(d=(d=z[$>>3])>>4-(7&$)&15,c[M*u+(L>>1)]|=d<<4-((1&L)<<2)),h>=8){const J=M*u+L*R;for(let W=0;W<R;W++)c[J+W]=z[($>>3)+W]}$+=h,L+=Z}N++,M+=a}I*Q!=0&&(v+=Q*(1+H)),U+=1}return c}(i,r)),i}function o(r,i){return e(new Uint8Array(r.buffer,2,r.length-6),i)}var e=function(){const r={H:{}};return r.H.N=function(i,n){const f=Uint8Array;let m,E,B=0,y=0,z=0,P=0,F=0,O=0,h=0,R=0,u=0;if(3==i[0]&&0==i[1])return n||new f(0);const c=r.H,v=c.b,x=c.e,w=c.R,_=c.n,A=c.A,U=c.Z,d=c.m,a=null==n;for(a&&(n=new f(i.length>>>2<<5));0==B;)if(B=v(i,u,1),y=v(i,u+1,2),u+=3,0!=y){if(a&&(n=r.H.W(n,R+(1<<17))),1==y&&(m=d.J,E=d.h,O=511,h=31),2==y){z=x(i,u,5)+257,P=x(i,u+5,5)+1,F=x(i,u+10,4)+4,u+=14;let I=1;for(var Z=0;Z<38;Z+=2)d.Q[Z]=0,d.Q[Z+1]=0;for(Z=0;Z<F;Z++){const k=x(i,u+3*Z,3);d.Q[1+(d.X[Z]<<1)]=k,k>I&&(I=k)}u+=3*F,_(d.Q,I),A(d.Q,I,d.u),m=d.w,E=d.d,u=w(d.u,(1<<I)-1,z+P,i,u,d.v);const Q=c.V(d.v,0,z,d.C);O=(1<<Q)-1;const D=c.V(d.v,z,P,d.D);h=(1<<D)-1,_(d.C,Q),A(d.C,Q,m),_(d.D,D),A(d.D,D,E)}for(;;){const I=m[U(i,u)&O];u+=15&I;const Q=I>>>4;if(Q>>>8){if(256==Q)break;{let D=R+Q-254;if(Q>264){const L=d.q[Q-257];D=R+(L>>>3)+x(i,u,7&L),u+=7&L}const k=E[U(i,u)&h];u+=15&k;const N=d.c[k>>>4],M=(N>>>4)+v(i,u,15&N);for(u+=15&N;R<D;)n[R]=n[R++-M],n[R]=n[R++-M],n[R]=n[R++-M],n[R]=n[R++-M];R=D}}else n[R++]=Q}}else{7&u&&(u+=8-(7&u));const I=4+(u>>>3),Q=i[I-4]|i[I-3]<<8;a&&(n=r.H.W(n,R+Q)),n.set(new f(i.buffer,i.byteOffset+I,Q),R),u=I+Q<<3,R+=Q}return n.length==R?n:n.slice(0,R)},r.H.W=function(i,n){const f=i.length;if(n<=f)return i;const m=new Uint8Array(f<<1);return m.set(i,0),m},r.H.R=function(i,n,f,m,E,B){const y=r.H.e,z=r.H.Z;let P=0;for(;P<f;){const F=i[z(m,E)&n];E+=15&F;const O=F>>>4;if(O<=15)B[P]=O,P++;else{let h=0,R=0;16==O?(R=3+y(m,E,2),E+=2,h=B[P-1]):17==O?(R=3+y(m,E,3),E+=3):18==O&&(R=11+y(m,E,7),E+=7);const u=P+R;for(;P<u;)B[P]=h,P++}}return E},r.H.V=function(i,n,f,m){let E=0,B=0;const y=m.length>>>1;for(;B<f;){const z=i[B+n];m[B<<1]=0,m[1+(B<<1)]=z,z>E&&(E=z),B++}for(;B<y;)m[B<<1]=0,m[1+(B<<1)]=0,B++;return E},r.H.n=function(i,n){const f=r.H.m,m=i.length;let E,B,y,z;const P=f.j;for(var F=0;F<=n;F++)P[F]=0;for(F=1;F<m;F+=2)P[i[F]]++;const O=f.K;for(E=0,P[0]=0,B=1;B<=n;B++)E=E+P[B-1]<<1,O[B]=E;for(y=0;y<m;y+=2)z=i[y+1],0!=z&&(i[y]=O[z],O[z]++)},r.H.A=function(i,n,f){const m=i.length,E=r.H.m.r;for(let B=0;B<m;B+=2)if(0!=i[B+1]){const z=i[B+1],P=B>>1<<4|z,F=n-z;let O=i[B]<<F;const h=O+(1<<F);for(;O!=h;)f[E[O]>>>15-n]=P,O++}},r.H.l=function(i,n){const f=r.H.m.r,m=15-n;for(let E=0;E<i.length;E+=2)i[E]=f[i[E]<<n-i[E+1]]>>>m},r.H.M=function(i,n,f){const m=n>>>3;i[m]|=f<<=7&n,i[m+1]|=f>>>8},r.H.I=function(i,n,f){const m=n>>>3;i[m]|=f<<=7&n,i[m+1]|=f>>>8,i[m+2]|=f>>>16},r.H.e=function(i,n,f){return(i[n>>>3]|i[1+(n>>>3)]<<8)>>>(7&n)&(1<<f)-1},r.H.b=function(i,n,f){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)&(1<<f)-1},r.H.Z=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)},r.H.i=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16|i[3+(n>>>3)]<<24)>>>(7&n)},r.H.m=function(){const i=Uint16Array,n=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new i(65536),g:new i(32768)}}(),function(){const i=r.H.m;for(var n=0;n<32768;n++){let m=n;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,i.r[n]=(m>>>16|m<<16)>>>17}function f(m,E,B){for(;0!=E--;)m.push(0,B)}for(n=0;n<32;n++)i.q[n]=i.S[n]<<3|i.T[n],i.c[n]=i.p[n]<<4|i.z[n];f(i._,144,8),f(i._,112,9),f(i._,24,7),f(i._,8,8),r.H.n(i._,9),r.H.A(i._,9,i.J),r.H.l(i._,9),f(i.$,32,5),r.H.n(i.$,5),r.H.A(i.$,5,i.h),r.H.l(i.$,5),f(i.Q,19,0),f(i.C,286,0),f(i.D,30,0),f(i.v,320,0)}(),r.H.N}();function t(r){return[1,null,3,1,2,null,4][r.ctype]*r.depth}function s(r,i,n,f,m){let E=t(i);const B=Math.ceil(f*E/8);let y,z;E=Math.ceil(E/8);let P=r[n],F=0;if(P>1&&(r[n]=[0,0,1][P-2]),3==P)for(F=E;F<B;F++)r[F+1]=r[F+1]+(r[F+1-E]>>>1)&255;for(let O=0;O<m;O++)if(y=n+O*B,z=y+O+1,P=r[z-1],F=0,0==P)for(;F<B;F++)r[y+F]=r[z+F];else if(1==P){for(;F<E;F++)r[y+F]=r[z+F];for(;F<B;F++)r[y+F]=r[z+F]+r[y+F-E]}else if(2==P)for(;F<B;F++)r[y+F]=r[z+F]+r[y+F-B];else if(3==P){for(;F<E;F++)r[y+F]=r[z+F]+(r[y+F-B]>>>1);for(;F<B;F++)r[y+F]=r[z+F]+(r[y+F-B]+r[y+F-E]>>>1)}else{for(;F<E;F++)r[y+F]=r[z+F]+l(0,r[y+F-B],0);for(;F<B;F++)r[y+F]=r[z+F]+l(r[y+F-E],r[y+F-B],r[y+F-E-B])}return r}function l(r,i,n){const f=r+i-n,m=f-r,E=f-i,B=f-n;return m*m<=E*E&&m*m<=B*B?r:E*E<=B*B?i:n}function g(r,i,n){n.width=C.readUint(r,i),n.height=C.readUint(r,i+=4),n.depth=r[i+=4],i++,n.ctype=r[i],i++,n.compress=r[i],i++,n.filter=r[i],i++,n.interlace=r[i],i++}function b(r,i,n,f,m,E,B,y,z){const P=Math.min(i,m),F=Math.min(n,E);let O=0,h=0;for(let U=0;U<F;U++)for(let d=0;d<P;d++)if(B>=0&&y>=0?(O=U*i+d<<2,h=(y+U)*m+B+d<<2):(O=(-y+U)*i-B+d<<2,h=U*m+d<<2),0==z)f[h]=r[O],f[h+1]=r[O+1],f[h+2]=r[O+2],f[h+3]=r[O+3];else if(1==z){var R=.00392156862745098*r[O+3],u=r[O]*R,c=r[O+1]*R,v=r[O+2]*R,x=f[h+3]*(1/255),w=f[h]*x,_=f[h+1]*x,A=f[h+2]*x;const a=1-R,Z=R+x*a,I=0==Z?0:1/Z;f[h+3]=255*Z,f[h+0]=(u+w*a)*I,f[h+1]=(c+_*a)*I,f[h+2]=(v+A*a)*I}else if(2==z)u=r[O],c=r[O+1],v=r[O+2],w=f[h],_=f[h+1],A=f[h+2],(R=r[O+3])==(x=f[h+3])&&u==w&&c==_&&v==A?(f[h]=0,f[h+1]=0,f[h+2]=0,f[h+3]=0):(f[h]=u,f[h+1]=c,f[h+2]=v,f[h+3]=R);else if(3==z){if(u=r[O],c=r[O+1],v=r[O+2],w=f[h],_=f[h+1],A=f[h+2],(R=r[O+3])==(x=f[h+3])&&u==w&&c==_&&v==A)continue;if(R<220&&x>20)return!1}return!0}return{decode:function(i){const n=new Uint8Array(i);let f=8;const m=C,E=m.readUshort,B=m.readUint,y={tabs:{},frames:[]},z=new Uint8Array(n.length);let P,F=0,O=0;const h=[137,80,78,71,13,10,26,10];for(var R=0;R<8;R++)if(n[R]!=h[R])throw"The input is not a PNG file!";for(;f<n.length;){const U=m.readUint(n,f);f+=4;const d=m.readASCII(n,f,4);if(f+=4,"IHDR"==d)g(n,f,y);else if("iCCP"==d){for(var u=f;0!=n[u];)u++;m.readASCII(n,f,u-f);const a=n.slice(u+2,f+U);let Z=null;try{Z=o(a)}catch{Z=e(a)}y.tabs[d]=Z}else if("CgBI"==d)y.tabs[d]=n.slice(f,f+4);else if("IDAT"==d){for(R=0;R<U;R++)z[F+R]=n[f+R];F+=U}else if("acTL"==d)y.tabs[d]={num_frames:B(n,f),num_plays:B(n,f+4)},P=new Uint8Array(n.length);else if("fcTL"==d){0!=O&&((A=y.frames[y.frames.length-1]).data=S(y,P.slice(0,O),A.rect.width,A.rect.height),O=0);const a={x:B(n,f+12),y:B(n,f+16),width:B(n,f+4),height:B(n,f+8)};let Z=E(n,f+22);Z=E(n,f+20)/(0==Z?100:Z);const I={rect:a,delay:Math.round(1e3*Z),dispose:n[f+24],blend:n[f+25]};y.frames.push(I)}else if("fdAT"==d){for(R=0;R<U-4;R++)P[O+R]=n[f+R+4];O+=U-4}else if("pHYs"==d)y.tabs[d]=[m.readUint(n,f),m.readUint(n,f+4),n[f+8]];else if("cHRM"==d)for(y.tabs[d]=[],R=0;R<8;R++)y.tabs[d].push(m.readUint(n,f+4*R));else if("tEXt"==d||"zTXt"==d){null==y.tabs[d]&&(y.tabs[d]={});var c=m.nextZero(n,f),v=m.readASCII(n,f,c-f),x=f+U-c-1;if("tEXt"==d)_=m.readASCII(n,c+1,x);else{var w=o(n.slice(c+2,c+2+x));_=m.readUTF8(w,0,w.length)}y.tabs[d][v]=_}else if("iTXt"==d){null==y.tabs[d]&&(y.tabs[d]={}),c=0,c=m.nextZero(n,u=f),v=m.readASCII(n,u,c-u);const a=n[u=c+1];var _;c=m.nextZero(n,u+=2),m.readASCII(n,u,c-u),c=m.nextZero(n,u=c+1),m.readUTF8(n,u,c-u),x=U-((u=c+1)-f),0==a?_=m.readUTF8(n,u,x):(w=o(n.slice(u,u+x)),_=m.readUTF8(w,0,w.length)),y.tabs[d][v]=_}else if("PLTE"==d)y.tabs[d]=m.readBytes(n,f,U);else if("hIST"==d){const a=y.tabs.PLTE.length/3;for(y.tabs[d]=[],R=0;R<a;R++)y.tabs[d].push(E(n,f+2*R))}else if("tRNS"==d)3==y.ctype?y.tabs[d]=m.readBytes(n,f,U):0==y.ctype?y.tabs[d]=E(n,f):2==y.ctype&&(y.tabs[d]=[E(n,f),E(n,f+2),E(n,f+4)]);else if("gAMA"==d)y.tabs[d]=m.readUint(n,f)/1e5;else if("sRGB"==d)y.tabs[d]=n[f];else if("bKGD"==d)0==y.ctype||4==y.ctype?y.tabs[d]=[E(n,f)]:2==y.ctype||6==y.ctype?y.tabs[d]=[E(n,f),E(n,f+2),E(n,f+4)]:3==y.ctype&&(y.tabs[d]=n[f]);else if("IEND"==d)break;f+=U,m.readUint(n,f),f+=4}var A;return 0!=O&&((A=y.frames[y.frames.length-1]).data=S(y,P.slice(0,O),A.rect.width,A.rect.height)),y.data=S(y,z,y.width,y.height),delete y.compress,delete y.interlace,delete y.filter,y},toRGBA8:function(i){const n=i.width,f=i.height;if(null==i.tabs.acTL)return[T(i.data,n,f,i).buffer];const m=[];null==i.frames[0].data&&(i.frames[0].data=i.data);const E=n*f*4,B=new Uint8Array(E),y=new Uint8Array(E),z=new Uint8Array(E);for(let F=0;F<i.frames.length;F++){const O=i.frames[F],h=O.rect.x,R=O.rect.y,u=O.rect.width,c=O.rect.height,v=T(O.data,u,c,i);if(0!=F)for(var P=0;P<E;P++)z[P]=B[P];if(0==O.blend?b(v,u,c,B,n,f,h,R,0):1==O.blend&&b(v,u,c,B,n,f,h,R,1),m.push(B.buffer.slice(0)),0!=O.dispose)if(1==O.dispose)b(y,u,c,B,n,f,h,R,0);else if(2==O.dispose)for(P=0;P<E;P++)B[P]=z[P]}return m},_paeth:l,_copyTile:b,_bin:C}}();!function(){const{_copyTile:C}=me,{_bin:T}=me,S=me._paeth;var o={table:function(){const u=new Uint32Array(256);for(let c=0;c<256;c++){let v=c;for(let x=0;x<8;x++)1&v?v=3988292384^v>>>1:v>>>=1;u[c]=v}return u}(),update(u,c,v,x){for(let w=0;w<x;w++)u=o.table[255&(u^c[v+w])]^u>>>8;return u},crc:(u,c,v)=>4294967295^o.update(4294967295,u,c,v)};function e(u,c,v,x){c[v]+=u[0]*x>>4,c[v+1]+=u[1]*x>>4,c[v+2]+=u[2]*x>>4,c[v+3]+=u[3]*x>>4}function t(u){return Math.max(0,Math.min(255,u))}function s(u,c){const v=u[0]-c[0],x=u[1]-c[1],w=u[2]-c[2],_=u[3]-c[3];return v*v+x*x+w*w+_*_}function l(u,c,v,x,w,_,A){null==A&&(A=1);const U=x.length,d=[];for(var a=0;a<U;a++){const M=x[a];d.push([M>>>0&255,M>>>8&255,M>>>16&255,M>>>24&255])}for(a=0;a<U;a++){let M=4294967295;for(var Z=0,I=0;I<U;I++){var Q=s(d[a],d[I]);I!=a&&Q<M&&(M=Q,Z=I)}}const D=new Uint32Array(w.buffer),k=new Int16Array(c*v*4),H=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(a=0;a<H.length;a++)H[a]=255*((H[a]+.5)/16-.5);for(let M=0;M<v;M++)for(let L=0;L<c;L++){var N;a=4*(M*c+L),N=2!=A?[t(u[a]+k[a]),t(u[a+1]+k[a+1]),t(u[a+2]+k[a+2]),t(u[a+3]+k[a+3])]:[t(u[a]+(Q=H[4*(3&M)+(3&L)])),t(u[a+1]+Q),t(u[a+2]+Q),t(u[a+3]+Q)],Z=0;let $=16777215;for(I=0;I<U;I++){const j=s(N,d[I]);j<$&&($=j,Z=I)}const J=d[Z],W=[N[0]-J[0],N[1]-J[1],N[2]-J[2],N[3]-J[3]];1==A&&(L!=c-1&&e(W,k,a+4,7),M!=v-1&&(0!=L&&e(W,k,a+4*c-4,3),e(W,k,a+4*c,5),L!=c-1&&e(W,k,a+4*c+4,1))),_[a>>2]=Z,D[a>>2]=x[Z]}}function g(u,c,v,x,w){null==w&&(w={});const{crc:_}=o,A=T.writeUint,U=T.writeUshort,d=T.writeASCII;let a=8;const Z=u.frames.length>1;let I,Q=!1,D=33+(Z?20:0);if(null!=w.sRGB&&(D+=13),null!=w.pHYs&&(D+=21),null!=w.iCCP&&(I=pako.deflate(w.iCCP),D+=21+I.length+4),3==u.ctype){for(var k=u.plte.length,H=0;H<k;H++)u.plte[H]>>>24!=255&&(Q=!0);D+=8+3*k+4+(Q?8+1*k+4:0)}for(var N=0;N<u.frames.length;N++)Z&&(D+=38),D+=(J=u.frames[N]).cimg.length+12,0!=N&&(D+=4);D+=12;const M=new Uint8Array(D),L=[137,80,78,71,13,10,26,10];for(H=0;H<8;H++)M[H]=L[H];if(A(M,a,13),a+=4,d(M,a,"IHDR"),a+=4,A(M,a,c),a+=4,A(M,a,v),a+=4,M[a]=u.depth,a++,M[a]=u.ctype,a++,M[a]=0,a++,M[a]=0,a++,M[a]=0,a++,A(M,a,_(M,a-17,17)),a+=4,null!=w.sRGB&&(A(M,a,1),a+=4,d(M,a,"sRGB"),a+=4,M[a]=w.sRGB,a++,A(M,a,_(M,a-5,5)),a+=4),null!=w.iCCP){const W=13+I.length;A(M,a,W),a+=4,d(M,a,"iCCP"),a+=4,d(M,a,"ICC profile"),a+=11,a+=2,M.set(I,a),a+=I.length,A(M,a,_(M,a-(W+4),W+4)),a+=4}if(null!=w.pHYs&&(A(M,a,9),a+=4,d(M,a,"pHYs"),a+=4,A(M,a,w.pHYs[0]),a+=4,A(M,a,w.pHYs[1]),a+=4,M[a]=w.pHYs[2],a++,A(M,a,_(M,a-13,13)),a+=4),Z&&(A(M,a,8),a+=4,d(M,a,"acTL"),a+=4,A(M,a,u.frames.length),a+=4,A(M,a,null!=w.loop?w.loop:0),a+=4,A(M,a,_(M,a-12,12)),a+=4),3==u.ctype){for(A(M,a,3*(k=u.plte.length)),a+=4,d(M,a,"PLTE"),a+=4,H=0;H<k;H++){const W=3*H,j=u.plte[H],ne=j>>>8&255,_e=j>>>16&255;M[a+W+0]=255&j,M[a+W+1]=ne,M[a+W+2]=_e}if(a+=3*k,A(M,a,_(M,a-3*k-4,3*k+4)),a+=4,Q){for(A(M,a,k),a+=4,d(M,a,"tRNS"),a+=4,H=0;H<k;H++)M[a+H]=u.plte[H]>>>24&255;a+=k,A(M,a,_(M,a-k-4,k+4)),a+=4}}let $=0;for(N=0;N<u.frames.length;N++){var J=u.frames[N];Z&&(A(M,a,26),a+=4,d(M,a,"fcTL"),a+=4,A(M,a,$++),a+=4,A(M,a,J.rect.width),a+=4,A(M,a,J.rect.height),a+=4,A(M,a,J.rect.x),a+=4,A(M,a,J.rect.y),a+=4,U(M,a,x[N]),a+=2,U(M,a,1e3),a+=2,M[a]=J.dispose,a++,M[a]=J.blend,a++,A(M,a,_(M,a-30,30)),a+=4);const W=J.cimg;A(M,a,(k=W.length)+(0==N?0:4)),a+=4;const j=a;d(M,a,0==N?"IDAT":"fdAT"),a+=4,0!=N&&(A(M,a,$++),a+=4),M.set(W,a),a+=k,A(M,a,_(M,j,a-j)),a+=4}return A(M,a,0),a+=4,d(M,a,"IEND"),a+=4,A(M,a,_(M,a-4,4)),a+=4,M.buffer}function b(u,c,v){for(let x=0;x<u.frames.length;x++){const w=u.frames[x],_=w.rect.height,A=new Uint8Array(_*w.bpl+_);w.cimg=f(w.img,_,w.bpp,w.bpl,A,c,v)}}function r(u,c,v,x,w){const _=w[0],A=w[1],U=w[2],d=w[3],a=w[4],Z=w[5];let I=6,Q=8,D=255;for(var k=0;k<u.length;k++){const ie=new Uint8Array(u[k]);for(var H=ie.length,N=0;N<H;N+=4)D&=ie[N+3]}const M=255!=D,L=function(q,Y,re,le,ee,ue){const te=[];for(var K=0;K<q.length;K++){const fe=new Uint8Array(q[K]),he=new Uint32Array(fe.buffer);var de;let pe=0,ye=0,ve=Y,Ie=re,Xe=le?1:0;if(0!=K){const gn=ue||le||1==K||0!=te[K-2].dispose?1:2;let Ve=0,bt=1e9;for(let Re=0;Re<gn;Re++){var we=new Uint8Array(q[K-1-Re]);const An=new Uint32Array(q[K-1-Re]);let be=Y,xe=re,Se=-1,Pe=-1;for(let Ue=0;Ue<re;Ue++)for(let Te=0;Te<Y;Te++)he[se=Ue*Y+Te]!=An[se]&&(Te<be&&(be=Te),Te>Se&&(Se=Te),Ue<xe&&(xe=Ue),Ue>Pe&&(Pe=Ue));-1==Se&&(be=xe=Se=Pe=0),ee&&(1==(1&be)&&be--,1==(1&xe)&&xe--);const xt=(Se-be+1)*(Pe-xe+1);xt<bt&&(bt=xt,Ve=Re,pe=be,ye=xe,ve=Se-be+1,Ie=Pe-xe+1)}we=new Uint8Array(q[K-1-Ve]),1==Ve&&(te[K-1].dispose=2),de=new Uint8Array(ve*Ie*4),C(we,Y,re,de,ve,Ie,-pe,-ye,0),Xe=C(fe,Y,re,de,ve,Ie,-pe,-ye,3)?1:0,1==Xe?n(fe,Y,re,de,{x:pe,y:ye,width:ve,height:Ie}):C(fe,Y,re,de,ve,Ie,-pe,-ye,0)}else de=fe.slice(0);te.push({rect:{x:pe,y:ye,width:ve,height:Ie},img:de,blend:Xe,dispose:0})}if(le)for(K=0;K<te.length;K++){if(1==(Ee=te[K]).blend)continue;const fe=Ee.rect,he=te[K-1].rect,pe=Math.min(fe.x,he.x),ye=Math.min(fe.y,he.y),ve={x:pe,y:ye,width:Math.max(fe.x+fe.width,he.x+he.width)-pe,height:Math.max(fe.y+fe.height,he.y+he.height)-ye};te[K-1].dispose=1,K-1!=0&&i(q,Y,re,te,K-1,ve,ee),i(q,Y,re,te,K,ve,ee)}let Ge=0;if(1!=q.length)for(var se=0;se<te.length;se++){var Ee;Ge+=(Ee=te[se]).rect.width*Ee.rect.height}return te}(u,c,v,_,A,U),$={},J=[],W=[];if(0!=x){const ie=[];for(N=0;N<L.length;N++)ie.push(L[N].img.buffer);const Y=E(function(ee){let ue=0;for(var te=0;te<ee.length;te++)ue+=ee[te].byteLength;const K=new Uint8Array(ue);let de=0;for(te=0;te<ee.length;te++){const we=new Uint8Array(ee[te]),Ge=we.length;for(let se=0;se<Ge;se+=4){let Ee=we[se],fe=we[se+1],he=we[se+2];const pe=we[se+3];0==pe&&(Ee=fe=he=0),K[de+se]=Ee,K[de+se+1]=fe,K[de+se+2]=he,K[de+se+3]=pe}de+=Ge}return K.buffer}(ie),x);for(N=0;N<Y.plte.length;N++)J.push(Y.plte[N].est.rgba);let re=0;for(N=0;N<L.length;N++){const le=(V=L[N]).img.length;var j=new Uint8Array(Y.inds.buffer,re>>2,le>>2);W.push(j);const ee=new Uint8Array(Y.abuf,re,le);Z&&l(V.img,V.rect.width,V.rect.height,J,ee,j),V.img.set(ee),re+=le}}else for(k=0;k<L.length;k++){var V=L[k];const ie=new Uint32Array(V.img.buffer);var ne=V.rect.width;for(H=ie.length,j=new Uint8Array(H),W.push(j),N=0;N<H;N++){const q=ie[N];if(0!=N&&q==ie[N-1])j[N]=j[N-1];else if(N>ne&&q==ie[N-ne])j[N]=j[N-ne];else{let Y=$[q];if(null==Y&&($[q]=Y=J.length,J.push(q),J.length>=300))break;j[N]=Y}}}const _e=J.length;for(_e<=256&&0==a&&(Q=_e<=2?1:_e<=4?2:_e<=16?4:8,Q=Math.max(Q,d)),k=0;k<L.length;k++){ne=(V=L[k]).rect.width;const ie=V.rect.height;let q=V.img;new Uint32Array(q.buffer);let Y=4*ne,re=4;if(_e<=256&&0==a){Y=Math.ceil(Q*ne/8);var Ae=new Uint8Array(Y*ie);const le=W[k];for(let ee=0;ee<ie;ee++){N=ee*Y;const ue=ee*ne;if(8==Q)for(var X=0;X<ne;X++)Ae[N+X]=le[ue+X];else if(4==Q)for(X=0;X<ne;X++)Ae[N+(X>>1)]|=le[ue+X]<<4-4*(1&X);else if(2==Q)for(X=0;X<ne;X++)Ae[N+(X>>2)]|=le[ue+X]<<6-2*(3&X);else if(1==Q)for(X=0;X<ne;X++)Ae[N+(X>>3)]|=le[ue+X]<<7-1*(7&X)}q=Ae,I=3,re=1}else if(0==M&&1==L.length){Ae=new Uint8Array(ne*ie*3);const le=ne*ie;for(N=0;N<le;N++){const ee=3*N,ue=4*N;Ae[ee]=q[ue],Ae[ee+1]=q[ue+1],Ae[ee+2]=q[ue+2]}q=Ae,I=2,re=3,Y=3*ne}V.img=q,V.bpl=Y,V.bpp=re}return{ctype:I,depth:Q,plte:J,frames:L}}function i(u,c,v,x,w,_,A){const U=Uint8Array,d=Uint32Array,a=new U(u[w-1]),Z=new d(u[w-1]),I=w+1<u.length?new U(u[w+1]):null,Q=new U(u[w]),D=new d(Q.buffer);let k=c,H=v,N=-1,M=-1;for(let $=0;$<_.height;$++)for(let J=0;J<_.width;J++){const W=_.x+J,j=_.y+$,V=j*c+W,ne=D[V];0==ne||0==x[w-1].dispose&&Z[V]==ne&&(null==I||0!=I[4*V+3])||(W<k&&(k=W),W>N&&(N=W),j<H&&(H=j),j>M&&(M=j))}-1==N&&(k=H=N=M=0),A&&(1==(1&k)&&k--,1==(1&H)&&H--);const L=x[w];L.rect=_={x:k,y:H,width:N-k+1,height:M-H+1},L.blend=1,L.img=new Uint8Array(_.width*_.height*4),0==x[w-1].dispose?(C(a,c,v,L.img,_.width,_.height,-_.x,-_.y,0),n(Q,c,v,L.img,_)):C(Q,c,v,L.img,_.width,_.height,-_.x,-_.y,0)}function n(u,c,v,x,w){C(u,c,v,x,w.width,w.height,-w.x,-w.y,2)}function f(u,c,v,x,w,_,A){const U=[];let d,a=[0,1,2,3,4];-1!=_?a=[_]:(c*x>5e5||1==v)&&(a=[0]),A&&(d={level:0});const Z=Ut;for(var I=0;I<a.length;I++){for(let k=0;k<c;k++)m(w,u,k,x,v,a[I]);U.push(Z.deflate(w,d))}let Q,D=1e9;for(I=0;I<U.length;I++)U[I].length<D&&(Q=I,D=U[I].length);return U[Q]}function m(u,c,v,x,w,_){const A=v*x;let U=A+v;if(u[U]=_,U++,0==_)if(x<500)for(var d=0;d<x;d++)u[U+d]=c[A+d];else u.set(new Uint8Array(c.buffer,A,x),U);else if(1==_){for(d=0;d<w;d++)u[U+d]=c[A+d];for(d=w;d<x;d++)u[U+d]=c[A+d]-c[A+d-w]+256&255}else if(0==v){for(d=0;d<w;d++)u[U+d]=c[A+d];if(2==_)for(d=w;d<x;d++)u[U+d]=c[A+d];if(3==_)for(d=w;d<x;d++)u[U+d]=c[A+d]-(c[A+d-w]>>1)+256&255;if(4==_)for(d=w;d<x;d++)u[U+d]=c[A+d]-S(c[A+d-w],0,0)+256&255}else{if(2==_)for(d=0;d<x;d++)u[U+d]=c[A+d]+256-c[A+d-x]&255;if(3==_){for(d=0;d<w;d++)u[U+d]=c[A+d]+256-(c[A+d-x]>>1)&255;for(d=w;d<x;d++)u[U+d]=c[A+d]+256-(c[A+d-x]+c[A+d-w]>>1)&255}if(4==_){for(d=0;d<w;d++)u[U+d]=c[A+d]+256-S(0,c[A+d-x],0)&255;for(d=w;d<x;d++)u[U+d]=c[A+d]+256-S(c[A+d-w],c[A+d-x],c[A+d-w-x])&255}}}function E(u,c){const v=new Uint8Array(u),x=v.slice(0),w=new Uint32Array(x.buffer),_=B(x,c),A=_[0],U=_[1],d=v.length,a=new Uint8Array(d>>2);let Z;if(v.length<2e7)for(var I=0;I<d;I+=4)Z=y(A,Q=v[I]*(1/255),D=v[I+1]*(1/255),k=v[I+2]*(1/255),H=v[I+3]*(1/255)),a[I>>2]=Z.ind,w[I>>2]=Z.est.rgba;else for(I=0;I<d;I+=4){var Q=.00392156862745098*v[I],D=v[I+1]*(1/255),k=v[I+2]*(1/255),H=v[I+3]*(1/255);for(Z=A;Z.left;)Z=z(Z.est,Q,D,k,H)<=0?Z.left:Z.right;a[I>>2]=Z.ind,w[I>>2]=Z.est.rgba}return{abuf:x.buffer,inds:a,plte:U}}function B(u,c,v){null==v&&(v=1e-4);const x=new Uint32Array(u.buffer),w={i0:0,i1:u.length,bst:null,est:null,tdst:0,left:null,right:null};w.bst=O(u,w.i0,w.i1),w.est=h(w.bst);const _=[w];for(;_.length<c;){let U=0,d=0;for(var A=0;A<_.length;A++)_[A].est.L>U&&(U=_[A].est.L,d=A);if(U<v)break;const a=_[d],Z=P(u,x,a.i0,a.i1,a.est.e,a.est.eMq255);if(a.i0>=Z||a.i1<=Z){a.est.L=0;continue}const I={i0:a.i0,i1:Z,bst:null,est:null,tdst:0,left:null,right:null};I.bst=O(u,I.i0,I.i1),I.est=h(I.bst);const Q={i0:Z,i1:a.i1,bst:null,est:null,tdst:0,left:null,right:null};for(Q.bst={R:[],m:[],N:a.bst.N-I.bst.N},A=0;A<16;A++)Q.bst.R[A]=a.bst.R[A]-I.bst.R[A];for(A=0;A<4;A++)Q.bst.m[A]=a.bst.m[A]-I.bst.m[A];Q.est=h(Q.bst),a.left=I,a.right=Q,_[d]=I,_.push(Q)}for(_.sort((U,d)=>d.bst.N-U.bst.N),A=0;A<_.length;A++)_[A].ind=A;return[w,_]}function y(u,c,v,x,w){if(null==u.left)return u.tdst=function(I,Q,D,k,H){const N=Q-I[0],M=D-I[1],L=k-I[2],$=H-I[3];return N*N+M*M+L*L+$*$}(u.est.q,c,v,x,w),u;const _=z(u.est,c,v,x,w);let A=u.left,U=u.right;_>0&&(A=u.right,U=u.left);const d=y(A,c,v,x,w);if(d.tdst<=_*_)return d;const a=y(U,c,v,x,w);return a.tdst<d.tdst?a:d}function z(u,c,v,x,w){const{e:_}=u;return _[0]*c+_[1]*v+_[2]*x+_[3]*w-u.eMq}function P(u,c,v,x,w,_){for(x-=4;v<x;){for(;F(u,v,w)<=_;)v+=4;for(;F(u,x,w)>_;)x-=4;if(v>=x)break;const A=c[v>>2];c[v>>2]=c[x>>2],c[x>>2]=A,v+=4,x-=4}for(;F(u,v,w)>_;)v-=4;return v+4}function F(u,c,v){return u[c]*v[0]+u[c+1]*v[1]+u[c+2]*v[2]+u[c+3]*v[3]}function O(u,c,v){const x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=[0,0,0,0],_=v-c>>2;for(let A=c;A<v;A+=4){const U=.00392156862745098*u[A],d=u[A+1]*(1/255),a=u[A+2]*(1/255),Z=u[A+3]*(1/255);w[0]+=U,w[1]+=d,w[2]+=a,w[3]+=Z,x[0]+=U*U,x[1]+=U*d,x[2]+=U*a,x[3]+=U*Z,x[5]+=d*d,x[6]+=d*a,x[7]+=d*Z,x[10]+=a*a,x[11]+=a*Z,x[15]+=Z*Z}return x[4]=x[1],x[8]=x[2],x[9]=x[6],x[12]=x[3],x[13]=x[7],x[14]=x[11],{R:x,m:w,N:_}}function h(u){const{R:c}=u,{m:v}=u,{N:x}=u,w=v[0],_=v[1],A=v[2],U=v[3],d=0==x?0:1/x,a=[c[0]-w*w*d,c[1]-w*_*d,c[2]-w*A*d,c[3]-w*U*d,c[4]-_*w*d,c[5]-_*_*d,c[6]-_*A*d,c[7]-_*U*d,c[8]-A*w*d,c[9]-A*_*d,c[10]-A*A*d,c[11]-A*U*d,c[12]-U*w*d,c[13]-U*_*d,c[14]-U*A*d,c[15]-U*U*d],Z=a,I=R;let Q=[Math.random(),Math.random(),Math.random(),Math.random()],D=0,k=0;if(0!=x)for(let N=0;N<16&&(Q=I.multVec(Z,Q),k=Math.sqrt(I.dot(Q,Q)),Q=I.sml(1/k,Q),!(0!=N&&Math.abs(k-D)<1e-9));N++)D=k;const H=[w*d,_*d,A*d,U*d];return{Cov:a,q:H,e:Q,L:D,eMq255:I.dot(I.sml(255,H),Q),eMq:I.dot(Q,H),rgba:(Math.round(255*H[3])<<24|Math.round(255*H[2])<<16|Math.round(255*H[1])<<8|Math.round(255*H[0])<<0)>>>0}}var R={multVec:(u,c)=>[u[0]*c[0]+u[1]*c[1]+u[2]*c[2]+u[3]*c[3],u[4]*c[0]+u[5]*c[1]+u[6]*c[2]+u[7]*c[3],u[8]*c[0]+u[9]*c[1]+u[10]*c[2]+u[11]*c[3],u[12]*c[0]+u[13]*c[1]+u[14]*c[2]+u[15]*c[3]],dot:(u,c)=>u[0]*c[0]+u[1]*c[1]+u[2]*c[2]+u[3]*c[3],sml:(u,c)=>[u*c[0],u*c[1],u*c[2],u*c[3]]};me.encode=function(c,v,x,w,_,A,U){null==w&&(w=0),null==U&&(U=!1);const d=r(c,v,x,w,[!1,!1,!1,0,U,!1]);return b(d,-1),g(d,v,x,_,A)},me.encodeLL=function(c,v,x,w,_,A,U,d){const a={ctype:0+(1==w?0:2)+(0==_?0:4),depth:A,frames:[]},Z=(w+_)*A,I=Z*v;for(let Q=0;Q<c.length;Q++)a.frames.push({rect:{x:0,y:0,width:v,height:x},img:new Uint8Array(c[Q]),blend:0,dispose:1,bpp:Math.ceil(Z/8),bpl:Math.ceil(I/8)});return b(a,0,!0),g(a,v,x,U,d)},me.encode.compress=r,me.encode.dither=l,me.quantize=E,me.quantize.getKDtree=B,me.quantize.getNearest=y}();const rt={toArrayBuffer(C,T){const S=C.width,o=C.height,e=S<<2,t=C.getContext("2d").getImageData(0,0,S,o),s=new Uint32Array(t.data.buffer),l=(32*S+31)/32<<2,g=l*o,b=122+g,r=new ArrayBuffer(b),i=new DataView(r),n=1<<20;let f,m,E,B,y=n,z=0,P=0,F=0;function O(u){i.setUint16(P,u,!0),P+=2}function h(u){i.setUint32(P,u,!0),P+=4}function R(u){P+=u}O(19778),h(b),R(4),h(122),h(108),h(S),h(-o>>>0),O(1),O(32),h(3),h(g),h(2835),h(2835),R(8),h(16711680),h(65280),h(255),h(4278190080),h(1466527264),function u(){for(;z<o&&y>0;){for(B=122+z*l,f=0;f<e;)y--,m=s[F++],E=m>>>24,i.setUint32(B+f,m<<8|E),f+=4;z++}F<s.length?(y=n,setTimeout(u,rt._dly)):T(r)}()},toBlob(C,T){this.toArrayBuffer(C,S=>{T(new Blob([S],{type:"image/bmp"}))})},_dly:9};var ce={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Tt={[ce.CHROME]:16384,[ce.FIREFOX]:11180,[ce.DESKTOP_SAFARI]:16384,[ce.IE]:8192,[ce.IOS]:4096,[ce.ETC]:8192};const We=typeof window<"u",ot=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Oe=We&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Ft=(We||ot)&&(Oe&&Oe.getOriginalSymbol(window,"File")||typeof File<"u"&&File),it=(We||ot)&&(Oe&&Oe.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Je(C,T,S=Date.now()){return new Promise(o=>{const e=C.split(","),t=e[0].match(/:(.*?);/)[1],s=globalThis.atob(e[1]);let l=s.length;const g=new Uint8Array(l);for(;l--;)g[l]=s.charCodeAt(l);const b=new Blob([g],{type:t});b.name=T,b.lastModified=S,o(b)})}function st(C){return new Promise((T,S)=>{const o=new it;o.onload=()=>T(o.result),o.onerror=e=>S(e),o.readAsDataURL(C)})}function at(C){return new Promise((T,S)=>{const o=new Image;o.onload=()=>T(o),o.onerror=e=>S(e),o.src=C})}function Ce(){if(void 0!==Ce.cachedResult)return Ce.cachedResult;let C=ce.ETC;const{userAgent:T}=navigator;return/Chrom(e|ium)/i.test(T)?C=ce.CHROME:/iP(ad|od|hone)/i.test(T)&&/WebKit/i.test(T)?C=ce.IOS:/Safari/i.test(T)?C=ce.DESKTOP_SAFARI:/Firefox/i.test(T)?C=ce.FIREFOX:(/MSIE/i.test(T)||document.documentMode)&&(C=ce.IE),Ce.cachedResult=C}function lt(C,T){const S=Ce(),o=Tt[S];let e=C,t=T,s=e*t;const l=e>t?t/e:e/t;for(;s>o*o;){const g=(o+e)/2,b=(o+t)/2;g<b?(t=b,e=b*l):(t=g*l,e=g),s=e*t}return{width:e,height:t}}function ze(C,T){let S,o;try{if(S=new OffscreenCanvas(C,T),o=S.getContext("2d"),null===o)throw new Error("getContext of OffscreenCanvas returns null")}catch{S=document.createElement("canvas"),o=S.getContext("2d")}return S.width=C,S.height=T,[S,o]}function ft(C,T){const{width:S,height:o}=lt(C.width,C.height),[e,t]=ze(S,o);return T&&/jpe?g/.test(T)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(C,0,0,e.width,e.height),e}function Ne(){return void 0!==Ne.cachedResult||(Ne.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Ne.cachedResult}function ke(C,T={}){return new Promise(function(S,o){let e,t;var s=function(){try{return t=ft(e,T.fileType||C.type),S([e,t])}catch(g){return o(g)}},l=function(g){try{var b=function(r){try{throw r}catch(i){return o(i)}};try{let r;return st(C).then(function(i){try{return r=i,at(r).then(function(n){try{return e=n,function(){try{return s()}catch(f){return o(f)}}()}catch(f){return b(f)}},b)}catch(n){return b(n)}},b)}catch(r){b(r)}}catch(r){return o(r)}};try{if(Ne()||[ce.DESKTOP_SAFARI,ce.MOBILE_SAFARI].includes(Ce()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(C).then(function(g){try{return e=g,s()}catch{return l()}},l)}catch{l()}})}function He(C,T,S,o,e=1){return new Promise(function(t,s){let l;if("image/png"===T){let b,r,i;return b=C.getContext("2d"),({data:r}=b.getImageData(0,0,C.width,C.height)),i=me.encode([r.buffer],C.width,C.height,4096*e),l=new Blob([i],{type:T}),l.name=S,l.lastModified=o,g.call(this)}{let b=function(){return g.call(this)};if("image/bmp"===T)return new Promise(r=>rt.toBlob(C,r)).then(function(r){try{return l=r,l.name=S,l.lastModified=o,b.call(this)}catch(i){return s(i)}}.bind(this),s);{let r=function(){return b.call(this)};if("function"==typeof OffscreenCanvas&&C instanceof OffscreenCanvas)return C.convertToBlob({type:T,quality:e}).then(function(i){try{return l=i,l.name=S,l.lastModified=o,r.call(this)}catch(n){return s(n)}}.bind(this),s);{let i;return i=C.toDataURL(T,e),Je(i,S,o).then(function(n){try{return l=n,r.call(this)}catch(f){return s(f)}}.bind(this),s)}}}function g(){return t(l)}})}function ge(C){C.width=0,C.height=0}function Fe(){return new Promise(function(C,T){let S,o,e,t,s;return void 0!==Fe.cachedResult?C(Fe.cachedResult):(S="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",Je("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return o=l,ke(o).then(function(g){try{return e=g[1],He(e,o.type,o.name,o.lastModified).then(function(b){try{return t=b,ge(e),ke(t).then(function(r){try{return s=r[0],C(Fe.cachedResult=1===s.width&&2===s.height)}catch(i){return T(i)}},T)}catch(r){return T(r)}},T)}catch(b){return T(b)}},T)}catch(g){return T(g)}},T))})}function ct(C){return new Promise((T,S)=>{const o=new it;o.onload=e=>{const t=new DataView(e.target.result);if(65496!=t.getUint16(0,!1))return T(-2);const s=t.byteLength;let l=2;for(;l<s;){if(t.getUint16(l+2,!1)<=8)return T(-1);const g=t.getUint16(l,!1);if(l+=2,65505==g){if(1165519206!=t.getUint32(l+=2,!1))return T(-1);const b=18761==t.getUint16(l+=6,!1);l+=t.getUint32(l+4,b);const r=t.getUint16(l,b);l+=2;for(let i=0;i<r;i++)if(274==t.getUint16(l+12*i,b))return T(t.getUint16(l+12*i+8,b))}else{if(65280!=(65280&g))break;l+=t.getUint16(l,!1)}}return T(-1)},o.onerror=e=>S(e),o.readAsArrayBuffer(C)})}function ut(C,T){const{width:S}=C,{height:o}=C,{maxWidthOrHeight:e}=T;let t,s=C;return isFinite(e)&&(S>e||o>e)&&([s,t]=ze(S,o),S>o?(s.width=e,s.height=o/S*e):(s.width=S/o*e,s.height=e),t.drawImage(C,0,0,s.width,s.height),ge(C)),s}function dt(C,T){const{width:S}=C,{height:o}=C,[e,t]=ze(S,o);switch(T>4&&T<9?(e.width=o,e.height=S):(e.width=S,e.height=o),T){case 2:t.transform(-1,0,0,1,S,0);break;case 3:t.transform(-1,0,0,-1,S,o);break;case 4:t.transform(1,0,0,-1,0,o);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,o,0);break;case 7:t.transform(0,-1,-1,0,o,S);break;case 8:t.transform(0,-1,1,0,0,S)}return t.drawImage(C,0,0,S,o),ge(C),e}function pt(C,T,S=0){return new Promise(function(o,e){let t,s,l,g,b,r,i,n,f,m,E,B,y,z,P,F,O,h,R,u;function c(x=5){if(T.signal&&T.signal.aborted)throw T.signal.reason;t+=x,T.onProgress(Math.min(t,100))}function v(x){if(T.signal&&T.signal.aborted)throw T.signal.reason;t=Math.min(Math.max(x,t),100),T.onProgress(t)}return t=S,s=T.maxIteration||10,l=1024*T.maxSizeMB*1024,c(),ke(C,T).then(function(x){try{return[,g]=x,c(),b=ut(g,T),c(),new Promise(function(w,_){var A;if(!(A=T.exifOrientation))return ct(C).then(function(d){try{return A=d,U.call(this)}catch(a){return _(a)}}.bind(this),_);function U(){return w(A)}return U.call(this)}).then(function(w){try{return r=w,c(),Fe().then(function(_){try{return i=_?b:dt(b,r),c(),n=T.initialQuality||1,f=T.fileType||C.type,He(i,f,C.name,C.lastModified,n).then(function(A){try{{let d=function(){if(s--&&(P>l||P>y)){let Z,I;return Z=u?.95*R.width:R.width,I=u?.95*R.height:R.height,[O,h]=ze(Z,I),h.drawImage(R,0,0,Z,I),n*="image/png"===f?.85:.95,He(O,f,C.name,C.lastModified,n).then(function(Q){try{return F=Q,ge(R),R=O,P=F.size,v(Math.min(99,Math.floor((z-P)/(z-l)*100))),d}catch(D){return e(D)}},e)}return[1]},a=function(){return ge(R),ge(O),ge(b),ge(i),ge(g),v(100),o(F)};return m=A,c(),E=m.size>l,B=m.size>C.size,E||B?(y=C.size,z=m.size,P=z,R=i,u=!T.alwaysKeepResolution&&E,(U=function(Z){for(;Z;){if(Z.then)return void Z.then(U,e);try{if(Z.pop){if(Z.length)return Z.pop()?a.call(this):Z;Z=d}else Z=Z.call(this)}catch(I){return e(I)}}}.bind(this))(d)):(v(100),o(m));var U}}catch(d){return e(d)}}.bind(this),e)}catch(A){return e(A)}}.bind(this),e)}catch(_){return e(_)}}.bind(this),e)}catch(w){return e(w)}}.bind(this),e)})}let je;function oe(C,T){return new Promise(function(S,o){let e,t,s,l,g,b;if(e={...T},s=0,({onProgress:l}=e),e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,g="boolean"!=typeof e.useWebWorker||e.useWebWorker,delete e.useWebWorker,e.onProgress=f=>{s=f,"function"==typeof l&&l(s)},!(C instanceof Blob||C instanceof Ft))return o(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(C.type))return o(new Error("The file given is not an image"));if(b=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!g||"function"!=typeof Worker||b)return pt(C,e).then(function(f){try{return t=f,n.call(this)}catch(m){return o(m)}}.bind(this),o);var r=function(){try{return n.call(this)}catch(f){return o(f)}}.bind(this),i=function(f){try{return pt(C,e).then(function(m){try{return t=m,r()}catch(E){return o(E)}},o)}catch(m){return o(m)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",function Bt(C,T){return new Promise((S,o)=>{je||(je=function(s){const l=[];return l.push(s),URL.createObjectURL(new Blob(l))}("\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n"));const e=new Worker(je);e.addEventListener("message",function(s){if(T.signal&&T.signal.aborted)e.terminate();else if(void 0===s.data.progress){if(s.data.error)return o(new Error(s.data.error)),void e.terminate();S(s.data.file),e.terminate()}else T.onProgress(s.data.progress)}),e.addEventListener("error",o),T.signal&&T.signal.addEventListener("abort",()=>{o(T.signal.reason),e.terminate()}),e.postMessage({file:C,imageCompressionLibUrl:T.libURL,options:{...T,onProgress:void 0,signal:void 0}})})}(C,e).then(function(f){try{return t=f,r()}catch{return i()}},i)}catch{i()}function n(){try{t.name=C.name,t.lastModified=C.lastModified}catch{}try{e.preserveExif&&"image/jpeg"===C.type&&(!e.fileType||e.fileType&&e.fileType===C.type)&&(t=nt(C,t))}catch{}return S(t)}})}oe.getDataUrlFromFile=st,oe.getFilefromDataUrl=Je,oe.loadImage=at,oe.drawImageInCanvas=ft,oe.drawFileInCanvas=ke,oe.canvasToFile=He,oe.getExifOrientation=ct,oe.handleMaxWidthOrHeight=ut,oe.followExifOrientation=dt,oe.cleanupCanvasMemory=ge,oe.isAutoOrientationInBrowser=Fe,oe.approximateBelowMaximumCanvasSizeOfBrowser=lt,oe.copyExifWithoutOrientation=nt,oe.getBrowserName=Ce,oe.version="2.0.2";var Mt=G(8645),Rt=G(9773),De=G(1088),Le=G(7700),p=G(5879),Ye=G(2296),Ke=G(2202);let Pt=(()=>{var C;class T{constructor(o,e){this.dialogRef=o,this.maxFileSize=e.maxFileSize,this.oldFileSize=e.file.size,this.fileId=e.id,this.compressionRate=e.compressionRate}ngOnInit(){Ze.j.info("compression settings component has been rendered")}onCompressionRateChange(o){this.compressionRate=o.target.value,this.maxFileSize=(100-o.target.value)/100*this.oldFileSize}formatBytes(o,e=2){if(0===o)return"0 Bytes";const s=e<0?0:e,g=Math.floor(Math.log(o)/Math.log(1024));return parseFloat((o/Math.pow(1024,g)).toFixed(s))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][g]}applySettings(){this.dialogRef.close({fileId:this.fileId,compressionRate:this.compressionRate,maxFileSize:this.maxFileSize})}cancelDialog(){this.dialogRef.close()}}return(C=T).\u0275fac=function(o){return new(o||C)(p.Y36(Le.so),p.Y36(Le.WI))},C.\u0275cmp=p.Xpm({type:C,selectors:[["app-compress-settings"]],decls:23,vars:4,consts:[[1,"flex-display","flex-column-flow","flex-center","flex-align-center",2,"margin","20px"],[1,"flex-display","flex-row-flow","flex-align-center","full-width"],[1,"bold-text",2,"margin-right","5px"],["min","10","max","80","step","1","color","primary",2,"margin-right","5px",3,"input"],["matSliderThumb","",3,"value"],[1,"bold-text"],[1,"flex-display","flex-row-flow","flex-align-center","full-width",2,"margin-bottom","5px"],[1,"flex-display","flex-row-flow","flex-align-center","full-width",2,"margin-bottom","10px"],[1,"flex-display","flex-row-flow","flex"],["mat-raised-button","","color","primary",2,"margin-right","10px",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(o,e){1&o&&(p.TgZ(0,"div",0)(1,"div",1)(2,"span",2),p._uU(3,"Compress %:"),p.qZA(),p.TgZ(4,"mat-slider",3),p.NdJ("input",function(s){return e.onCompressionRateChange(s)}),p._UZ(5,"input",4),p.qZA(),p.TgZ(6,"span",5),p._uU(7),p.qZA()(),p.TgZ(8,"div",6)(9,"span",2),p._uU(10,"Compress File Size:"),p.qZA(),p.TgZ(11,"span"),p._uU(12),p.qZA()(),p.TgZ(13,"div",7)(14,"span",2),p._uU(15,"Old File Size:"),p.qZA(),p.TgZ(16,"span"),p._uU(17),p.qZA()(),p.TgZ(18,"div",8)(19,"button",9),p.NdJ("click",function(){return e.applySettings()}),p._uU(20," Apply Settings "),p.qZA(),p.TgZ(21,"button",10),p.NdJ("click",function(){return e.cancelDialog()}),p._uU(22," Cancel "),p.qZA()()()),2&o&&(p.xp6(5),p.Q6J("value",e.compressionRate),p.xp6(2),p.hij("",e.compressionRate,"%"),p.xp6(5),p.Oqu(e.formatBytes(e.maxFileSize)),p.xp6(5),p.Oqu(e.formatBytes(e.oldFileSize)))},dependencies:[Ye.lW,Ke.pH,Ke.$5]}),T})();var Zt=G(1041),mt=G(553);const ht="/tools/image-compress",gt="Best Online Image Compressor | Image File Size Reducer",At="Online Image Compressor is the Best Image Optimzer Tool to Compress your images in JPEG, PNG, WEBBP and BMP formats to the minimum possible size for free.",vt=`${mt.N.screenshotsBaseUrl}/image-compressor.png`,Me={mainHeading:"Online Image Compressor",subHeading:"Compress JPEG, PNG, WEBP & BMP Images for free",navigationUrl:ht,pageTitle:gt,metaTags:[{name:"description",content:At},{name:"author",content:"Gaurav Kumar Yadav"},{name:"robots",content:"index, follow"},{property:"og:title",content:gt},{property:"og:type",content:"website"},{property:"og:url",content:`${mt.N.hostname}${ht}`},{property:"og:image",content:vt},{property:"og:image:secure_url",content:vt},{property:"og:description",content:At},{property:"og:site_name",content:"WebToolsEasy"}],tags:["image compressor","image size reducer","jpg size reducer","png size reducer","compress jpeg","compress png"],icons:[{iconName:"app-icon",iconRelativeUrl:"app-icon.svg"},{iconName:"image-file-icon",iconRelativeUrl:"image-file.svg"},{iconName:"download-icon",iconRelativeUrl:"download.svg"},{iconName:"settings-icon",iconRelativeUrl:"settings.svg"},{iconName:"play-icon",iconRelativeUrl:"play-icon.svg"},{iconName:"share-fb",iconRelativeUrl:"share-fb.svg"},{iconName:"share-linkedin",iconRelativeUrl:"share-linkedin.svg"},{iconName:"share-twitter",iconRelativeUrl:"share-twitter.svg"},{iconName:"share-copy",iconRelativeUrl:"share-copy.svg"},{iconName:"home-icon",iconRelativeUrl:"home.svg"}]},Qt=[{heading:"How to Compress Images using Image Compressor Tool?",listData:["Drag & drop or select image files (JPEG, PNG, WEBP, BMP only) to compress.","All image files will be listed.","For compressing images either use compress button corresponding to the image file or use compress all button.","By default images will be compressed by 20% of their original size. To compress further, use settings button to customize compression level .","Use download button corresponding to an image file to download compressed image.","Use download zip button to download all compressed images at once."]},{heading:"What is Image Compression?",blockData:["Image compression is the process of reducing the file size of a digital image without significantly impacting its quality. The goal of image compression is to make images smaller in size, so they can be stored, transmitted, and processed more efficiently. This can be especially important for website owners, as large image files can slow down the website's loading time, affecting the user experience.","There are two main types of image compression: lossless and lossy. Lossless compression reduces the file size of an image without losing any image data, while lossy compression reduces the file size by discarding some image data. Lossy compression is generally used for images that contain a lot of redundant information, such as photographs, where some loss in quality is acceptable to achieve a smaller file size.","JPEG and PNG are two of the most common image formats used for image compression. JPEG uses lossy compression and is suitable for photographs, while PNG uses lossless compression and is best for images with sharp lines and flat areas of color, such as graphics and illustrations.","Overall, image compression is an important technique for optimizing images and making them faster to load and easier to handle."]},{heading:"Why would you want to Compress Images?",blockData:["The objective of image compression is to reduce irrelevance and redundancy of the image data to be able to store or transmit data in an efficient form. It is concerned with minimizing the number of bits required to represent an image. Image compression may be lossy or lossless."]},{heading:"Key features",listData:["Unlimited images can be compressed. Online Image Compressor is completely free.","Easy to use: Our user-friendly interface makes it simple for anyone to compress their images with just a few clicks.","High-quality compression: Our tool uses advanced compression algorithms to reduce image file size while preserving image quality.","Batch processing: Compress multiple images at once, saving you time and effort.","Supports JPEG, PNG, WEBP and BMP format: Our tool works with JPEG, PNG, WEBP and BMP image formats, providing versatile compression options.","Secure: Image compression will be performed in host browser only. We don't store any of the images.","No need to download any software. Simply upload your images to our platform and get your compressed images in no time."]},{heading:"Disclaimer",blockData:["Only JPEG, PNG, WEBP and BMP images can be compressed as of now."]},{heading:"References",links:[{displayText:"Read more about Image Compression at Wikipedia",url:"https://en.wikipedia.org/wiki/Image_compression"},{displayText:"Disadvantages and Advantages of Image Compression",url:"https://www.techwalla.com/articles/disadvantages-and-advantages-of-image-compression"},{displayText:"Read more about JPEG format at Wikipedia",url:"https://en.wikipedia.org/wiki/JPEG#:~:text=JPEG%20(%2F%CB%88d%CA%92e%C9%AAp,storage%20size%20and%20image%20quality."},{displayText:"Read more about PNG format at Wikipedia",url:"https://en.wikipedia.org/wiki/PNG"}]}];var $e=G(6593),qe=G(617),Ot=G(5282),zt=G(3767),Nt=G(3681),kt=G(3927),Ht=G(9609),yt=G(5195),wt=G(2596),Dt=G(797),Lt=G(2577),Gt=G(2740),Wt=G(323),Jt=G(659);const jt=["inputFiles"];function Yt(C,T){if(1&C){const S=p.EpF();p.TgZ(0,"div",9),p.NdJ("drop",function(e){p.CHM(S);const t=p.oxw();return p.KtG(t.dropHandler(e))})("dragover",function(e){p.CHM(S);const t=p.oxw();return p.KtG(t.dragOverHandler(e))}),p.TgZ(1,"mat-icon",10),p._uU(2,"collections"),p.qZA(),p.TgZ(3,"span",11),p._uU(4,"Drag & drop files here"),p.qZA(),p.TgZ(5,"span",11),p._uU(6,"or"),p.qZA(),p.TgZ(7,"button",12),p.NdJ("click",function(){p.CHM(S);const e=p.oxw();return p.KtG(e.openFileDialog())}),p.TgZ(8,"mat-icon"),p._uU(9,"file_upload"),p.qZA(),p._uU(10," Browse for files "),p.qZA()()}}const Kt=function(C){return{padding:"10px","justify-content":C}};function $t(C,T){if(1&C){const S=p.EpF();p.TgZ(0,"div",13)(1,"button",12),p.NdJ("click",function(){p.CHM(S);const e=p.oxw();return p.KtG(e.openFileDialog())}),p.TgZ(2,"mat-icon"),p._uU(3,"file_upload"),p.qZA(),p._uU(4," Select Files "),p.qZA(),p.TgZ(5,"button",14),p.NdJ("click",function(){p.CHM(S);const e=p.oxw();return p.KtG(e.startCompressAll())}),p.TgZ(6,"mat-icon"),p._uU(7,"play_arrow"),p.qZA(),p._uU(8," Convert All "),p.qZA()()}if(2&C){const S=p.oxw();p.Q6J("ngStyle",p.VKq(1,Kt,S.fileList.length>0?"end":"center"))}}function qt(C,T){if(1&C&&(p.TgZ(0,"span",31),p._uU(1),p.qZA()),2&C){const S=p.oxw().$implicit,o=p.oxw(2);p.xp6(1),p.AsE("",o.formatBytes(S.file.size)," -> ",o.formatBytes(null==S.compressedData?null:S.compressedData.size),"")}}function Xt(C,T){if(1&C&&(p.TgZ(0,"span",32),p._uU(1),p.qZA()),2&C){const S=p.oxw().$implicit;p.xp6(1),p.Oqu(S.error)}}function Vt(C,T){if(1&C&&(p.TgZ(0,"span"),p._uU(1),p.qZA()),2&C){const S=p.oxw().$implicit;p.xp6(1),p.hij("Progress: ",S.compressProgress," %")}}function en(C,T){if(1&C){const S=p.EpF();p.TgZ(0,"mat-icon",33),p.NdJ("click",function(){p.CHM(S);const e=p.oxw().$implicit,t=p.oxw(2);return p.KtG(t.compressImage(e))}),p.qZA()}}function tn(C,T){if(1&C){const S=p.EpF();p.TgZ(0,"mat-icon",34),p.NdJ("click",function(){p.CHM(S);const e=p.oxw().$implicit,t=p.oxw(2);return p.KtG(t.downloadImage(e))}),p.qZA()}}function nn(C,T){1&C&&(p.TgZ(0,"mat-icon",35),p._uU(1,"error"),p.qZA())}function rn(C,T){if(1&C){const S=p.EpF();p.TgZ(0,"mat-card",17)(1,"div",18),p._UZ(2,"mat-icon",19),p.TgZ(3,"div",20)(4,"span",21),p._uU(5),p.qZA(),p.YNc(6,qt,2,2,"span",22),p.YNc(7,Xt,2,1,"span",23),p.qZA(),p._UZ(8,"span",24),p.TgZ(9,"div",25),p.YNc(10,Vt,2,1,"span",26),p.TgZ(11,"mat-icon",27),p.NdJ("click",function(){const t=p.CHM(S).$implicit,s=p.oxw(2);return p.KtG(s.openSettingsDialog(t))}),p.qZA(),p.YNc(12,en,1,0,"mat-icon",28),p.YNc(13,tn,1,0,"mat-icon",29),p.YNc(14,nn,2,0,"mat-icon",30),p.qZA()()()}if(2&C){const S=T.$implicit;p.xp6(5),p.Oqu(S.name),p.xp6(1),p.Q6J("ngIf",S.isCompressed),p.xp6(1),p.Q6J("ngIf",void 0!==S.error),p.xp6(3),p.Q6J("ngIf",S.inProgress),p.xp6(2),p.Q6J("ngIf",!S.isCompressed),p.xp6(1),p.Q6J("ngIf",S.isCompressed),p.xp6(1),p.Q6J("ngIf",S.error)}}function on(C,T){if(1&C&&(p.TgZ(0,"div",15),p.YNc(1,rn,15,7,"mat-card",16),p.qZA()),2&C){const S=p.oxw();p.xp6(1),p.Q6J("ngForOf",S.fileList)}}const sn=[{path:"",component:(()=>{var C;class T{constructor(o,e,t,s,l,g,b,r,i,n,f,m){this.titleService=o,this.metaService=e,this.renderer=t,this.zoneRef=s,this.breakpointObserver=l,this.dialog=g,this.document=b,this.matIconRegistry=r,this.domSanitizer=i,this.appContextService=n,this.metaConfigService=f,this.iconConfigService=m,this.fileList=[],this.destroyed=new Mt.x,this.isDownloadAllActive=!1,this.validImageFormats=".jpg,.jpeg,.png,.webp,.bmp",this.iconConfigService.loadCustomIcons(Me.icons,this.matIconRegistry,this.domSanitizer,this.appContextService),this.metaConfigService.updatePageMetaData(Me,this.titleService,this.metaService,this.document),this.appContextService.tags=Me.tags,this.appContextService.mainHeading=Me.mainHeading,this.appContextService.subHeading=Me.subHeading,this.appContextService.descrptionData=Qt,this.breakpointObserver.observe([De.u3.Handset,De.u3.Web]).pipe((0,Rt.R)(this.destroyed)).subscribe(E=>{this.isMobile=l.isMatched("(max-width: 735px)"),Ze.j.info(`mobile view: ${this.isMobile}`)})}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}openFileDialog(){var o=this;return(0,ae.Z)(function*(){o.renderer.selectRootElement(o.inputFiles.nativeElement,!0).click()})()}openSettingsDialog(o){var e=this;return(0,ae.Z)(function*(){e.closeDialog(),e.activeDialog=e.dialog.open(Pt,{data:o}),e.activeDialog.afterClosed().subscribe(e.handleSettingsChange.bind(e))})()}closeDialog(o={}){var e=this;return(0,ae.Z)(function*(){e.activeDialog&&e.activeDialog.close(o)})()}handleSettingsChange(o={}){var e=this;return(0,ae.Z)(function*(){if(Ze.j.info(`settings dialog closed with data: ${JSON.stringify(o)}`),Object.keys(o).length>0){const t=o;e.zoneRef.run(()=>{const s=e.fileList.find(l=>l.id===t.fileId);s.compressionRate!==t.compressionRate&&(s.isCompressed=!1),s.compressionRate=t.compressionRate,s.maxFileSize=t.maxFileSize,s.compressOptions={...s.compressOptions,maxSizeMB:t.maxFileSize/1024/1024}})}})()}dropHandler(o){var e=this;return(0,ae.Z)(function*(){o.preventDefault(),o.dataTransfer.items?[...o.dataTransfer.items].filter(t=>"file"===t.kind).map(t=>t.getAsFile()).forEach(function(){var t=(0,ae.Z)(function*(s){return yield e.addFileToCompress(s)});return function(s){return t.apply(this,arguments)}}()):[...o.dataTransfer.files].forEach(function(){var t=(0,ae.Z)(function*(s){return yield e.addFileToCompress(s)});return function(s){return t.apply(this,arguments)}}())})()}dragOverHandler(o){return(0,ae.Z)(function*(){o.preventDefault()})()}addFileToCompress(o){var e=this;return(0,ae.Z)(function*(){e.zoneRef.run(()=>{e.fileList.push({id:(0,Zt.Z)(),file:o,type:Ct.S.IMAGE,inProgress:!1,compressProgress:0,isCompressed:!1,name:o.name,compressOptions:{signal:(new AbortController).signal,maxSizeMB:.9*o.size/1024/1024,useWebWorker:!0},compressionRate:10,maxFileSize:.9*o.size})})})()}selectFiles(o){var e=this;return(0,ae.Z)(function*(){for(const t of o.target.files)yield e.addFileToCompress(t)})()}startCompressAll(){var o=this;return(0,ae.Z)(function*(){o.fileList.forEach(e=>o.compressImage(e))})()}compressImage(o){var e=this;return(0,ae.Z)(function*(){e.zoneRef.run((0,ae.Z)(function*(){o.inProgress=!0,o.compressProgress=0,o.error=void 0;try{o.compressedData=yield oe(o.file,{...o.compressOptions,onProgress:t=>{o.compressProgress=t}}),o.isCompressed=!0,o.inProgress=!1,e.isDownloadAllActive=!0}catch{Ze.j.error(`error while compressing image with name: ${o.file.name}`),o.inProgress=!1,o.isCompressed=!1,o.error="* compression error"}}))})()}downloadImage(o){var e=this;return(0,ae.Z)(function*(){const t=o.name.substring(0,o.file.name.lastIndexOf("."))||o.name,s=o.file.name.split(".").pop();yield e.downloadFile(`${t}-compressed.${s}`,o.compressedData)})()}downloadFile(o,e){var t=this;return(0,ae.Z)(function*(){const s=t.renderer.createElement("a");t.renderer.setProperty(s,"href",URL.createObjectURL(e)),t.renderer.setProperty(s,"download",o),s.click()})()}formatBytes(o,e=2){if(0===o)return"0 Bytes";const s=e<0?0:e,g=Math.floor(Math.log(o)/Math.log(1024));return parseFloat((o/Math.pow(1024,g)).toFixed(s))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][g]}showInfo(o){}}return(C=T).\u0275fac=function(o){return new(o||C)(p.Y36($e.Dx),p.Y36($e.h_),p.Y36(p.Qsj),p.Y36(p.R0b),p.Y36(De.Yg),p.Y36(Le.uw),p.Y36(Be.K0),p.Y36(qe.jv),p.Y36($e.H7),p.Y36(Ot.i),p.Y36(zt.F),p.Y36(Nt.r))},C.\u0275cmp=p.Xpm({type:C,selectors:[["app-image-compression"]],viewQuery:function(o,e){if(1&o&&p.Gf(jt,5),2&o){let t;p.iGM(t=p.CRH())&&(e.inputFiles=t.first)}},decls:15,vars:4,consts:[[1,"full-height","flex-display","flex-column-flow","no-y-scroll"],[1,"full-width","y-scroll","flex-display","flex-column-flow"],[1,"flex-display","flex-column-flow","flex-align-center","base-app-container","flex-gap-large"],[1,"full-width"],["type","file","multiple","",2,"display","none",3,"accept","change"],["inputFiles",""],["class","flex-display flex-column-flow flex-center flex-align-center file-drop-area border-grey full-width flex-gap-medium",3,"drop","dragover",4,"ngIf"],["class","flex-display flex-row-flow flex-center full-width flex-gap-medium",3,"ngStyle",4,"ngIf"],["class","flex-display flex-column-flow y-scroll file-drop-area file-list-div full-width border-grey flex-gap-medium",4,"ngIf"],[1,"flex-display","flex-column-flow","flex-center","flex-align-center","file-drop-area","border-grey","full-width","flex-gap-medium",3,"drop","dragover"],[2,"transform","scale(2)"],[1,"header-font",2,"font-size","large"],["mat-stroked-button","","color","primary","matTooltip","select images to compress",3,"click"],[1,"flex-display","flex-row-flow","flex-center","full-width","flex-gap-medium",3,"ngStyle"],["mat-stroked-button","","color","primary","matTooltip","convert all images",3,"click"],[1,"flex-display","flex-column-flow","y-scroll","file-drop-area","file-list-div","full-width","border-grey","flex-gap-medium"],["style","\n            border: 1px solid lightgrey;\n            margin-left: 10px;\n            margin-right: 10px;\n            padding: 10px;\n          ",4,"ngFor","ngForOf"],[2,"border","1px solid lightgrey","margin-left","10px","margin-right","10px","padding","10px"],[1,"flex-display","flex-row-flow","flex-align-center","flex-gap-large",2,"margin","10px"],["svgIcon","image-file-icon",1,"app-icon","pointer-cursor"],[1,"flex-display","flex-column-flow","header-font","file-name-div"],[1,"bold-text"],["class","bold-text header-font","style","color: #ff4081",4,"ngIf"],["class","bold-text","style","color: red",4,"ngIf"],[1,"flex-full-height"],[1,"flex-display","flex-row-flow","flex-align-center","flex-center","flex-gap-medium"],[4,"ngIf"],["svgIcon","settings-icon","matTooltip","change compression settings",1,"pointer-cursor",3,"click"],["svgIcon","play-icon","class","pointer-cursor","matTooltip","compress image",3,"click",4,"ngIf"],["svgIcon","download-icon","class","pointer-cursor","matTooltip","download compressed image",3,"click",4,"ngIf"],["class","pointer-cursor","color","warn","matTooltip","only image files can be compressed","style","transform: scale(1.5)",4,"ngIf"],[1,"bold-text","header-font",2,"color","#ff4081"],[1,"bold-text",2,"color","red"],["svgIcon","play-icon","matTooltip","compress image",1,"pointer-cursor",3,"click"],["svgIcon","download-icon","matTooltip","download compressed image",1,"pointer-cursor",3,"click"],["color","warn","matTooltip","only image files can be compressed",1,"pointer-cursor",2,"transform","scale(1.5)"]],template:function(o,e){1&o&&(p.TgZ(0,"div",0),p._UZ(1,"app-header-toolbar"),p.TgZ(2,"div",1)(3,"div",2),p._UZ(4,"app-tool-heading")(5,"app-share-buttons",3),p.TgZ(6,"input",4,5),p.NdJ("change",function(s){return e.selectFiles(s)}),p.qZA(),p.YNc(8,Yt,11,0,"div",6),p.YNc(9,$t,9,3,"div",7),p.YNc(10,on,2,1,"div",8),p._UZ(11,"app-description",3)(12,"app-tags")(13,"app-follow-buttons"),p.qZA(),p._UZ(14,"app-footer"),p.qZA()()),2&o&&(p.xp6(6),p.Q6J("accept",e.validImageFormats),p.xp6(2),p.Q6J("ngIf",0===e.fileList.length),p.xp6(1),p.Q6J("ngIf",e.fileList.length>0),p.xp6(1),p.Q6J("ngIf",e.fileList.length>0))},dependencies:[Be.sg,Be.O5,Be.PC,kt.u,Ht.O,qe.Hw,Ye.lW,yt.a8,wt.gM,Dt.z,Lt.d,Gt.o,Wt.c,Jt.w],styles:[".file-drop-area[_ngcontent-%COMP%]{border-radius:10px;padding-top:30px;padding-bottom:30px}.file-list-div[_ngcontent-%COMP%]{max-height:400px}@media screen and (max-width: 735px){.file-name-div[_ngcontent-%COMP%]{width:60%;overflow-x:hidden}.file-list-div[_ngcontent-%COMP%]{max-height:300px}}"]}),T})()}];let an=(()=>{var C;class T{}return(C=T).\u0275fac=function(o){return new(o||C)},C.\u0275mod=p.oAB({type:C}),C.\u0275inj=p.cJS({imports:[tt.Bz.forChild(sn),tt.Bz]}),T})();var ln=G(8369),fn=G(6861),cn=G(3665),un=G(6122),dn=G(4485),pn=G(8292),mn=G(3341);let hn=(()=>{var C;class T{}return(C=T).\u0275fac=function(o){return new(o||C)},C.\u0275mod=p.oAB({type:C}),C.\u0275inj=p.cJS({imports:[Be.ez,an,pn.K,mn.l,qe.Ps,Ye.ot,yt.QW,wt.AV,De.xu,Ke.KP,Le.Is,ln.b,fn.E,cn.I,un._,dn.E]}),T})()}}]);