"use strict";(self.webpackChunkwebtoolseasy=self.webpackChunkwebtoolseasy||[]).push([[301],{3301:(yt,J,l)=>{l.r(J),l.d(J,{VideoConverterModule:()=>ht});var _=l(6814),Y=l(3403),d=l(5861),Z=l(1088),e=l(5879),ie=l(8645),ne=l(9773),re=l(7421),ae=l(7294),g=l(3242),F=l(553),se=l(6636);const j="/tools/video-converter",Q="Online Video to Audio Converter - Convert MP4, MKV, WEBM, AVI, OGM",k="Convert your videos to high-quality audio files with our free online video to audio converter. No software installation required. Convert MP4, MKV, WEBM, AVI, OGM. Try it now!",W=`${F.N.screenshotsBaseUrl}/video-converter.png`,T={mainHeading:"Online Video to Audio Converter",subHeading:"Convert Videos to Audio For Free",navigationUrl:j,pageTitle:Q,metaTags:[{name:"description",content:k},{name:"author",content:"Gaurav Kumar Yadav"},{name:"robots",content:"index, follow"},{property:"og:title",content:Q},{property:"og:type",content:"website"},{property:"og:url",content:`${F.N.hostname}${j}`},{property:"og:image",content:W},{property:"og:image:secure_url",content:W},{property:"og:description",content:k},{property:"og:site_name",content:"WebToolsEasy"}],tags:["video to audio converter","mp4 to mp3","webm to mp4","mp4 to webm","mkv to mp4","video to audio"],icons:[{iconName:"app-icon",iconRelativeUrl:"app-icon.svg"},{iconName:"video-convert-icon",iconRelativeUrl:"video-convert.svg"},{iconName:"settings-icon",iconRelativeUrl:"settings.svg"},{iconName:"download-icon",iconRelativeUrl:"download.svg"},{iconName:"play-icon",iconRelativeUrl:"play-icon.svg"},{iconName:"screen-icon",iconRelativeUrl:"screen.svg"},{iconName:"share-fb",iconRelativeUrl:"share-fb.svg"},{iconName:"share-linkedin",iconRelativeUrl:"share-linkedin.svg"},{iconName:"share-twitter",iconRelativeUrl:"share-twitter.svg"},{iconName:"share-copy",iconRelativeUrl:"share-copy.svg"},{iconName:"home-icon",iconRelativeUrl:"home.svg"}],relatedTools:[{applicationId:"screen-recorder",displayText:se.x.SCREEN_RECORDER,iconName:"screen-icon",navigateUrl:"/tools/screen-recorder"}]},le=[{heading:"How to use Video to Audio Converter Tool?",listData:["Drag & drop or select video files to convert.","All video files will be listed. An error will be shown for invalid file types.","For converting videos either use convert button corresponding to the video file or use convert all button.","Default target format for all videos will be MP3 (Audio) and it can be changed via dropdown corresponding to each video file.","Use download button corresponding to a video file to download converted video.","Use download zip button to download all converted videos at once."]},{heading:"What is the need of a Video to Audio Converter Tool?",listData:["Compatibility: Different devices and applications often support different video formats. By using an online video conversion tool, you can convert your video file into a format that is compatible with the device or application you want to use it on.","File size: Large video files can take up a lot of storage space on your device or take a long time to upload or download. By using a video conversion tool, you can reduce the file size of your video without compromising on quality, making it easier to store and share.","Editing: If you need to edit a video, you may need to convert it into a different format to work with the editing software you're using. An online video conversion tool can help you convert your video file into a format that's compatible with your editing software.","Sharing: Different social media platforms and websites often have different requirements for video formats and file sizes. An online video conversion tool can help you convert your video into the appropriate format and size for sharing on different platforms."]},{heading:"Key features",listData:["Video to Audio conversion is 100% free","Video to Audio conversion is 100% secure as whole processing is being done at client side only (in host browser)","Unlimited videos can be converted to Audio for free","Supports wide range of input video formats - MP4, WEBM, OGV, MKV, OGM","Supports wide range of output media formats - MP3, OGG, OPUS, AAC, MP4 x264, MP4 x265, WEBM, OGV"]}];var ce=l(1041),R=function(i){return i[i.START=1]="START",i[i.END=2]="END",i[i.FAILED=3]="FAILED",i}(R||{}),z=function(i){return i.VIDEO_CONVERT_SETTINGS="video-convert-sttings",i}(z||{}),H=function(i){return i.DROPDOWN="dropdown",i.BUTTON="button",i}(H||{}),I=l(7700),O=l(9157),S=l(4913),K=l(3680),P=l(2296);function de(i,r){if(1&i&&(e.TgZ(0,"mat-option",12),e._uU(1),e.qZA()),2&i){const n=r.$implicit;e.Q6J("value",n.value),e.xp6(1),e.Oqu(n.displayName)}}function fe(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"mat-form-field",9)(1,"mat-label"),e._uU(2,"Select format"),e.qZA(),e.TgZ(3,"mat-select",10),e.NdJ("valueChange",function(o){e.CHM(n);const a=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.changeDropdownValue(a.propertyName,o))}),e.YNc(4,de,2,2,"mat-option",11),e.qZA()()}if(2&i){const n=e.oxw().$implicit;e.xp6(3),e.Q6J("value",n.data.targetFormat),e.xp6(1),e.Q6J("ngForOf",n.data.options)}}function pe(i,r){if(1&i&&(e.TgZ(0,"div",7),e.YNc(1,fe,5,2,"mat-form-field",8),e.qZA()),2&i){const n=r.$implicit;e.xp6(1),e.Q6J("ngIf","dropdown"===n.type)}}function me(i,r){if(1&i&&(e.TgZ(0,"div",5),e.YNc(1,pe,2,1,"div",6),e.qZA()),2&i){const n=r.$implicit;e.xp6(1),e.Q6J("ngForOf",n.elements)}}let ue=(()=>{var i;class r{constructor(t,o){this.dialogRef=t,this.formContext=o}ngOnInit(){this.result={data:{},type:this.formContext.type,referenceId:this.formContext.referenceId}}ngOnDestroy(){this.result=void 0}applySettings(){this.dialogRef.close(this.result)}cancelDialog(){this.dialogRef.close()}changeDropdownValue(t,o){this.result.data[t]=o}}return(i=r).\u0275fac=function(t){return new(t||i)(e.Y36(I.so),e.Y36(I.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-popup-form"]],decls:7,vars:1,consts:[[1,"flex-display","flex-column-flow",2,"margin","15px"],["class","popup-row flex-display flex-row-flow full-width flex-center flex-align-center",4,"ngFor","ngForOf"],[1,"flex-display","flex-row-flow","full-width","flex-center",2,"margin-top","15px"],["mat-raised-button","","color","primary",2,"margin-right","10px",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"popup-row","flex-display","flex-row-flow","full-width","flex-center","flex-align-center"],["class","popup-element",4,"ngFor","ngForOf"],[1,"popup-element"],["appearance","outline","color","primary","style","margin-right: 10px; margin-bottom: -1.25em",4,"ngIf"],["appearance","outline","color","primary",2,"margin-right","10px","margin-bottom","-1.25em"],["disableRipple","",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,me,2,1,"div",1),e.TgZ(2,"div",2)(3,"button",3),e.NdJ("click",function(){return o.applySettings()}),e._uU(4," Apply Settings "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return o.cancelDialog()}),e._uU(6," Cancel "),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.formContext.rows))},dependencies:[_.sg,_.O5,O.KE,O.hX,S.gD,K.ey,P.lW],styles:[".popup-row[_ngcontent-%COMP%]{margin:5px 10px}.popup-element[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}"]}),r})();const w=new Map([[1,{targetFormat:"mp3",displayName:"MP3 (Audio)"}],[2,{targetFormat:"ogg",displayName:"OGG (Audio)"}],[3,{targetFormat:"opus",displayName:"OPUS (Audio)"}],[4,{targetFormat:"aac",displayName:"AAC (Audio)"}],[5,{targetFormat:"mp4",displayName:"MP4 x264(Video)"}],[6,{targetFormat:"mp4",displayName:"MP4 x265(Video)"}],[7,{targetFormat:"webm",displayName:"WEBM (Video)"}],[8,{targetFormat:"ogv",displayName:"OGV (Video)"}],[9,{targetFormat:"mkv",displayName:"MKV (Video)"}],[10,{targetFormat:"avi",displayName:"AVI (Video)"}],[11,{targetFormat:"ogm",displayName:"OGM (Video)"}]]),ge=new Map(Object.entries({mp4:[1,4],webm:[1,3,4],ogm:[1,4],mkv:[1,4,5,6],avi:[1,3,4],ogv:[1,2,3,4,5,6,7]})),U=new Map([[1,new Map([[0,"-i {0} {1}"]])],[2,new Map([[0,"-i {0} {1}"]])],[3,new Map([[0,"-i {0} {1}"]])],[4,new Map([[0,"-i {0} {1}"]])],[5,new Map([[0,"-i {0} -c:v libx264 {1}"],[9,"-i {0} -codec copy {1}"]])],[6,new Map([[0,"-i {0} -c:v libx265 {1}"],[9,"-i {0} -codec copy {1}"]])],[7,new Map([[0,"-i {0} {1}"]])],[8,new Map([[0,"-i {0} {1}"]])],[9,new Map([[0,"-i {0} {1}"],[5,"-i {0} -codec copy {1}"],[6,"-i {0} -codec copy {1}"]])],[10,new Map([[0,"-i {0} {1}"]])],[11,new Map([[0,"-i {0} {1}"]])]]);var ve=l(6179),B=l(6593),V=l(617),he=l(5282);class _e{constructor(){this.items=[]}enqueue(r){this.items.push(r)}dequeue(){if(this.isEmpty())throw Error("no elements in queue");return this.items.shift()}front(){if(this.isEmpty())throw Error("no elements in queue");return this.items[0]}isEmpty(){return 0===this.items.length}}function E(i,r,n){(function ye(i,r){if(r.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")})(i,r),r.set(i,n)}function q(i,r,n){if(!r.has(i))throw new TypeError("attempted to "+n+" private field on non-instance");return r.get(i)}function c(i,r){return function xe(i,r){return r.get?r.get.call(i):r.value}(i,q(i,r,"get"))}function h(i,r,n){return function Fe(i,r,n){if(r.set)r.set.call(i,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}}(i,q(i,r,"set"),n),n}var f=function(i){return i.LOAD="LOAD",i.EXEC="EXEC",i.WRITE_FILE="WRITE_FILE",i.READ_FILE="READ_FILE",i.DELETE_FILE="DELETE_FILE",i.RENAME="RENAME",i.CREATE_DIR="CREATE_DIR",i.LIST_DIR="LIST_DIR",i.DELETE_DIR="DELETE_DIR",i.ERROR="ERROR",i.DOWNLOAD="DOWNLOAD",i.PROGRESS="PROGRESS",i.LOG="LOG",i}(f||{});const we=(()=>{let i=0;return()=>i++})(),Ee=(new Error("unknown message type"),new Error("ffmpeg is not loaded, call `await ffmpeg.load()` first")),Ce=new Error("called FFmpeg.terminate()");new Error("failed to import ffmpeg-core.js");var u=new WeakMap,C=new WeakMap,y=new WeakMap,A=new WeakMap,M=new WeakMap,$=new WeakMap,v=new WeakMap;class Te{constructor(){E(this,u,{writable:!0,value:void 0}),E(this,C,{writable:!0,value:void 0}),E(this,y,{writable:!0,value:void 0}),E(this,A,{writable:!0,value:void 0}),E(this,M,{writable:!0,value:void 0}),E(this,$,{writable:!0,value:void 0}),E(this,v,{writable:!0,value:void 0}),h(this,u,null),h(this,C,{}),h(this,y,{}),h(this,A,[]),h(this,M,[]),this.loaded=!1,h(this,$,()=>{c(this,u)&&(c(this,u).onmessage=({data:{id:r,type:n,data:t}})=>{switch(n){case f.LOAD:this.loaded=!0,c(this,C)[r](t);break;case f.EXEC:case f.WRITE_FILE:case f.READ_FILE:case f.DELETE_FILE:case f.RENAME:case f.CREATE_DIR:case f.LIST_DIR:case f.DELETE_DIR:c(this,C)[r](t);break;case f.LOG:c(this,A).forEach(o=>o(t));break;case f.PROGRESS:c(this,M).forEach(o=>o(t));break;case f.ERROR:c(this,y)[r](t)}delete c(this,C)[r],delete c(this,y)[r]})}),h(this,v,({type:r,data:n},t=[])=>c(this,u)?new Promise((o,a)=>{const s=we();c(this,u)&&c(this,u).postMessage({id:s,type:r,data:n},t),c(this,C)[s]=o,c(this,y)[s]=a}):Promise.reject(Ee)),this.load=(r={})=>(c(this,u)||(h(this,u,new Worker(`${F.N.hostname}/assets/@ffmpeg/worker.js`,{type:"module"})),c(this,$).call(this)),c(this,v).call(this,{type:f.LOAD,data:r})),this.exec=(r,n=-1)=>c(this,v).call(this,{type:f.EXEC,data:{args:r,timeout:n}}),this.terminate=()=>{const r=Object.keys(c(this,y));for(const n of r)c(this,y)[n](Ce),delete c(this,y)[n],delete c(this,C)[n];c(this,u)&&(c(this,u).terminate(),h(this,u,null),this.loaded=!1)},this.writeFile=(r,n)=>{const t=[];return n instanceof Uint8Array&&t.push(n.buffer),c(this,v).call(this,{type:f.WRITE_FILE,data:{path:r,data:n}},t)},this.readFile=(r,n="binary")=>c(this,v).call(this,{type:f.READ_FILE,data:{path:r,encoding:n}}),this.deleteFile=r=>c(this,v).call(this,{type:f.DELETE_FILE,data:{path:r}}),this.rename=(r,n)=>c(this,v).call(this,{type:f.RENAME,data:{oldPath:r,newPath:n}}),this.createDir=r=>c(this,v).call(this,{type:f.CREATE_DIR,data:{path:r}}),this.listDir=r=>c(this,v).call(this,{type:f.LIST_DIR,data:{path:r}}),this.deleteDir=r=>c(this,v).call(this,{type:f.DELETE_DIR,data:{path:r}})}on(r,n){"log"===r?c(this,A).push(n):"progress"===r&&c(this,M).push(n)}off(r,n){"log"===r?c(this,A).filter(t=>t!==n):"progress"===r&&c(this,M).filter(t=>t!==n)}}const be=new Error("failed to get response body reader"),Re=new Error("failed to complete download"),Me=function(){var i=(0,d.Z)(function*(r){let n;if("string"==typeof r)n=/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(r)?atob(r.split(",")[1]).split("").map(t=>t.charCodeAt(0)):yield(yield fetch(r)).arrayBuffer();else if(r instanceof URL)n=yield(yield fetch(r)).arrayBuffer();else{if(!(r instanceof File||r instanceof Blob))return new Uint8Array;n=yield(i=>new Promise((r,n)=>{const t=new FileReader;t.onload=()=>{const{result:o}=t;o instanceof ArrayBuffer?r(new Uint8Array(o)):r(new Uint8Array)},t.onerror=o=>{n(Error(`File could not be read! Code=${o?.target?.error?.code||-1}`))},t.readAsArrayBuffer(i)}))(r)}return new Uint8Array(n)});return function(n){return i.apply(this,arguments)}}(),Ne=function(){var i=(0,d.Z)(function*(r,n){const t=yield fetch(r);let o;try{const a=parseInt(t.headers.get("Content-Length")||"-1"),s=t.body?.getReader();if(!s)throw be;const m=[];let p=0;for(;;){const{done:x,value:N}=yield s.read(),b=N?N.length:0;if(x){if(-1!=a&&a!==p)throw Re;n&&n({url:r,total:a,received:p,delta:b,done:x});break}m.push(N),p+=b,n&&n({url:r,total:a,received:p,delta:b,done:x})}const L=new Uint8Array(p);let D=0;for(const x of m)L.set(x,D),D+=x.length;o=L.buffer}catch(a){console.log("failed to send download progress event: ",a),o=yield t.arrayBuffer(),n&&n({url:r,total:o.byteLength,received:o.byteLength,delta:0,done:!0})}return o});return function(n,t){return i.apply(this,arguments)}}(),G=function(){var i=(0,d.Z)(function*(r,n,t=!1,o){const a=t?yield Ne(r,o):yield(yield fetch(r)).arrayBuffer(),s=new Blob([a],{type:n});return URL.createObjectURL(s)});return function(n,t){return i.apply(this,arguments)}}();let Ze=(()=>{var i;class r{constructor(){this.isConverting=!1,this.currentFile=void 0,this.init()}init(){this.fileQueue=new _e,this.fileMap=new Map,this.progressEvent=new e.vpe,this.convertEvent=new e.vpe,this.fileLoadedEvent=new e.vpe,this.convertLogEvent=new e.vpe,this.ffmpegStateEvent=new e.vpe}initializeFFMpeg(){var t=this;return(0,d.Z)(function*(){t.ffmpeg=new Te,t.ffmpeg.on("log",t.handleLogs.bind(t)),t.ffmpeg.on("progress",t.handleFFMpegProgress.bind(t)),yield t.ffmpeg.load({coreURL:yield G(`${F.N.ffmpegBaseUrl}/ffmpeg-core.js`,"text/javascript"),wasmURL:yield G(`${F.N.ffmpegBaseUrl}/ffmpeg-core.wasm`,"application/wasm"),workerURL:yield G(`${F.N.ffmpegBaseUrl}/ffmpeg-core.worker.js`,"text/javascript")})})()}flushBuffer(){var t=this;return(0,d.Z)(function*(){t.ffmpeg&&t.ffmpeg.loaded&&t.ffmpeg.terminate()})()}handleLogs(t){var o=this;return(0,d.Z)(function*(){o.convertLogEvent.emit({...t})})()}handleConversionFailure(){var t=this;return(0,d.Z)(function*(){if(t.convertEvent.emit({fileId:t.currentFile.id,type:R.FAILED,targetFormat:t.currentFile.targetFormat}),yield t.ffmpeg.deleteFile(t.currentFile.name),t.currentFile=void 0,t.isConverting=!1,!t.fileQueue.isEmpty()&&!t.isConverting){t.isConverting=!0;const o=t.fileQueue.dequeue();t.currentFile=o,t.convertVideoFile(o)}})()}handleFFMpegProgress(t){var o=this;return(0,d.Z)(function*(){const a=Number((100*t.progress).toFixed(2));if(o.progressEvent.emit({fileId:o.currentFile.id,progress:a}),100===a&&(o.convertEvent.emit({fileId:o.currentFile.id,type:R.END,fileData:yield o.ffmpeg.readFile(o.currentFile.targetFileName),targetFormat:o.currentFile.targetFormat}),yield o.ffmpeg.deleteFile(o.currentFile.targetFileName),yield o.ffmpeg.deleteFile(o.currentFile.name),o.ffmpeg.terminate(),o.currentFile=void 0,o.isConverting=!1,!o.fileQueue.isEmpty()&&!o.isConverting)){o.isConverting=!0;const s=o.fileQueue.dequeue();o.currentFile=s,o.convertVideoFile(s)}})()}getPlainFileName(t){return t.substring(0,t.lastIndexOf("."))||t}buildFFMpegCommand(t,o,a){let s;s=U.get(o).has(t)?U.get(o).get(t):U.get(o).get(0);for(let m=0;m<a.length;m++)s=s.split(`{${m}}`).join(a[m]);return s.split(" ")}submitFileToConvert(t,o=!1){var a=this;return(0,d.Z)(function*(){if(o||!a.fileMap.has(t.id)||a.fileMap.get(t.id)!==t.targetFormat){if(a.fileQueue.enqueue(t),a.fileMap.set(t.id,t.targetFormat),!a.isConverting){a.isConverting=!0;const s=a.fileQueue.dequeue();a.currentFile=s,a.convertVideoFile(s)}}else g.j.info("file has already been submitted")})()}convertVideoFile(t){var o=this;return(0,d.Z)(function*(){o.ffmpegStateEvent.emit({fileId:t.id,status:"initializing"}),yield o.initializeFFMpeg(),o.ffmpegStateEvent.emit({fileId:t.id,status:"ready"}),yield o.writeFileInFFMpegBuffer(t),t.targetFileName=`${o.getPlainFileName(t.name)}_converted.${w.get(t.targetFormat).targetFormat}`;const a=o.buildFFMpegCommand(t.fileFormat,t.targetFormat,[t.name,t.targetFileName]);g.j.info(`[FFMPEG Command]: ${a.join(" ")}`),0!==(yield o.ffmpeg.exec(a))&&o.handleConversionFailure()})()}writeFileInFFMpegBuffer(t){var o=this;return(0,d.Z)(function*(){yield o.ffmpeg.writeFile(t.name,yield Me(t.file)),o.fileLoadedEvent.emit({fileId:t.id,loaded:!0})})()}readFileInFFMpegBuffer(t){var o=this;return(0,d.Z)(function*(){return yield o.ffmpeg.readFile(t)})()}}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),r})();var Oe=l(3927),Se=l(9609),X=l(5195),ee=l(2596),te=l(5940),Pe=l(797),Ve=l(2577),Le=l(2740),De=l(323),Ue=l(6463),Be=l(659);const $e=["inputFiles"];function Ge(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"div",10),e.NdJ("drop",function(o){e.CHM(n);const a=e.oxw();return e.KtG(a.dropHandler(o))})("dragover",function(o){e.CHM(n);const a=e.oxw();return e.KtG(a.dragOverHandler(o))}),e.TgZ(1,"mat-icon",11),e._uU(2,"collections"),e.qZA(),e.TgZ(3,"span",12),e._uU(4,"Drag & drop files here"),e.qZA(),e.TgZ(5,"span",13),e._uU(6,"or"),e.qZA(),e.TgZ(7,"button",14),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.openFileDialog())}),e.TgZ(8,"mat-icon"),e._uU(9,"file_upload"),e.qZA(),e._uU(10," Browse for files "),e.qZA()()}}function Je(i,r){1&i&&(e.TgZ(0,"div")(1,"span",15),e._uU(2,"Video converter currently is not supported on host platfrom. We're working on it, thank you for showing interest."),e.qZA()())}const Ye=function(i){return{padding:"10px","justify-content":i}};function je(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.openFileDialog())}),e.TgZ(2,"mat-icon"),e._uU(3,"file_upload"),e.qZA(),e._uU(4," Select Files "),e.qZA(),e.TgZ(5,"button",18),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.convertAllVideos())}),e.TgZ(6,"mat-icon"),e._uU(7,"play_arrow"),e.qZA(),e._uU(8," Convert All "),e.qZA()()}if(2&i){const n=e.oxw();e.Q6J("ngStyle",e.VKq(1,Ye,n.fileDisplayList.length>0?"end":"center"))}}function Qe(i,r){if(1&i&&(e.TgZ(0,"span",39),e._uU(1),e.qZA()),2&i){const n=e.oxw().$implicit;e.xp6(1),e.Oqu(n.error)}}function ke(i,r){if(1&i&&(e.TgZ(0,"span",39),e._uU(1),e.qZA()),2&i){const n=e.oxw().$implicit;e.xp6(1),e.Oqu(n.conversionErrors.get(n.targetFormat))}}function We(i,r){if(1&i&&(e.TgZ(0,"span",25),e._uU(1),e.qZA()),2&i){const n=e.oxw().$implicit;e.xp6(1),e.hij("Progress: ",n.convertProgress,"%")}}function ze(i,r){1&i&&e._UZ(0,"mat-spinner",40)}function He(i,r){if(1&i&&(e.TgZ(0,"span",41),e._uU(1),e.qZA()),2&i){const n=e.oxw().$implicit;e.xp6(1),e.hij("Progress: ",n.convertProgress,"%")}}function Ke(i,r){if(1&i&&e._UZ(0,"mat-spinner",42),2&i){const n=e.oxw().$implicit;e.s9C("value",n.convertProgress)}}function qe(i,r){if(1&i&&(e.TgZ(0,"mat-option",46),e._uU(1),e.qZA()),2&i){const n=r.$implicit;e.Q6J("value",n.formatId),e.xp6(1),e.Oqu(n.displayName)}}function Xe(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"mat-form-field",43)(1,"mat-label"),e._uU(2,"Select format"),e.qZA(),e.TgZ(3,"mat-select",44),e.NdJ("valueChange",function(o){e.CHM(n);const a=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.changeTargetFormat(a.id,o))}),e.YNc(4,qe,2,2,"mat-option",45),e.qZA()()}if(2&i){const n=e.oxw().$implicit;e.xp6(3),e.Q6J("value",n.targetFormat),e.xp6(1),e.Q6J("ngForOf",n.supportedFormats)}}function et(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"mat-icon",47),e.NdJ("click",function(){e.CHM(n);const o=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.openSettings(o))}),e.qZA()}}function tt(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"mat-icon",48),e.NdJ("click",function(){e.CHM(n);const o=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.convertVideoFile(o))}),e.qZA()}}function ot(i,r){if(1&i){const n=e.EpF();e.TgZ(0,"mat-icon",49),e.NdJ("click",function(){e.CHM(n);const o=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.downloadVideo(o))}),e.qZA()}}function it(i,r){1&i&&(e.TgZ(0,"mat-icon",50),e._uU(1,"error"),e.qZA())}function nt(i,r){if(1&i&&(e.TgZ(0,"mat-card",21)(1,"div",22),e._UZ(2,"mat-icon",23),e.TgZ(3,"div",24)(4,"span",25),e._uU(5),e.qZA(),e.TgZ(6,"span",26),e._uU(7),e.qZA(),e.YNc(8,Qe,2,1,"span",27),e.YNc(9,ke,2,1,"span",27),e.YNc(10,We,2,1,"span",28),e.qZA(),e._UZ(11,"span",29),e.TgZ(12,"div",30),e.YNc(13,ze,1,0,"mat-spinner",31),e.YNc(14,He,2,1,"span",32),e.YNc(15,Ke,1,1,"mat-spinner",33),e.YNc(16,Xe,5,2,"mat-form-field",34),e.YNc(17,et,1,0,"mat-icon",35),e.YNc(18,tt,1,0,"mat-icon",36),e.YNc(19,ot,1,0,"mat-icon",37),e.YNc(20,it,2,0,"mat-icon",38),e.qZA()()()),2&i){const n=r.$implicit,t=e.oxw(2);e.xp6(5),e.Oqu(n.file.name),e.xp6(2),e.Oqu(t.formatBytes(n.file.size)),e.xp6(1),e.Q6J("ngIf",void 0!==n.error),e.xp6(1),e.Q6J("ngIf",n.conversionErrors.get(n.targetFormat)),e.xp6(1),e.Q6J("ngIf",t.isMobile&&n.inProgress&&n.convertProgress>0),e.xp6(3),e.Q6J("ngIf",n.inProgress&&0===n.convertProgress),e.xp6(1),e.Q6J("ngIf",!t.isMobile&&n.inProgress&&n.convertProgress>0),e.xp6(1),e.Q6J("ngIf",n.inProgress&&n.convertProgress>0),e.xp6(1),e.Q6J("ngIf",!n.inProgress&&!t.isMobile),e.xp6(1),e.Q6J("ngIf",t.isMobile&&!n.inProgress),e.xp6(1),e.Q6J("ngIf",!n.inProgress&&!n.convertedFileData.has(n.targetFormat)),e.xp6(1),e.Q6J("ngIf",n.convertedFileData.has(n.targetFormat)),e.xp6(1),e.Q6J("ngIf",n.error)}}function rt(i,r){if(1&i&&(e.TgZ(0,"div",19),e.YNc(1,nt,21,13,"mat-card",20),e.qZA()),2&i){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.fileDisplayList)}}const at=[{path:"",component:(()=>{var i;class r extends ae.H{constructor(t,o,a,s,m,p,L,D,x,N,b,_t){super(),this.titleService=t,this.metaService=o,this.document=a,this.matIconRegistry=s,this.domSanitizer=m,this.dialog=p,this.platformId=L,this.appContextService=D,this.renderer=x,this.zoneRef=N,this.breakpointObserver=b,this.ffmpegService=_t,this.ERROR_MESSAGE="* error: invalid file type",this.destroyed=new ie.x,this.isDownloadAllActive=!1,this.isSupported=!0,this.validVideoFormats=".mp4,.webm,.ogv,.mkv,.ogm,.avi",this.loadCustomIcons(T.icons,this.matIconRegistry,this.domSanitizer,this.platformId,this.appContextService),this.updatePageMetaData(T,this.titleService,this.metaService,this.document),this.appContextService.tags=T.tags,this.appContextService.mainHeading=T.mainHeading,this.appContextService.subHeading=T.subHeading,this.appContextService.relatedTools=T.relatedTools,this.appContextService.descrptionData=le,this.breakpointObserver.observe([Z.u3.Handset,Z.u3.Web]).pipe((0,ne.R)(this.destroyed)).subscribe(It=>{this.isMobile=b.isMatched(`(max-width: ${ve.U})`),this.checkCompatibility()}),this.fileStore=new Map,this.fileDisplayList=[],this.subscriptions=[],this.subscriptions.push(this.ffmpegService.fileLoadedEvent.subscribe(this.handleBufferFileLoad.bind(this))),this.subscriptions.push(this.ffmpegService.progressEvent.subscribe(this.handleConverionProgress.bind(this))),this.subscriptions.push(this.ffmpegService.convertLogEvent.subscribe(this.handleFFMpegLog.bind(this))),this.subscriptions.push(this.ffmpegService.convertEvent.subscribe(this.handleConvertEvent.bind(this))),this.subscriptions.push(this.ffmpegService.ffmpegStateEvent.subscribe(this.handleFFMpegStatus.bind(this))),this.conversionLogs=[],this.checkCompatibility()}ngOnInit(){g.j.info("video converter: ngOnInit")}ngAfterViewInit(){g.j.info("video converter: ngAfterViewInit")}ngOnDestroy(){var t=this;return(0,d.Z)(function*(){t.destroyed.next(),t.destroyed.complete(),t.subscriptions.forEach(o=>o.unsubscribe()),t.subscriptions=[],yield t.ffmpegService.flushBuffer()})()}checkCompatibility(){F.N.production&&(this.isSupported=!0)}handleFFMpegStatus(t){var o=this;return(0,d.Z)(function*(){o.zoneRef.run(()=>{o.fileStore.get(t.fileId).converterStatus=t.status})})()}handleBufferFileLoad(t){var o=this;return(0,d.Z)(function*(){o.zoneRef.run(()=>{g.j.info(t.loaded?`file with id: ${t.fileId} loaded in ffmpeg buffer`:`fail to load file with id: ${t.fileId} in buffer`)})})()}handleConverionProgress(t){var o=this;return(0,d.Z)(function*(){o.zoneRef.run(()=>{g.j.info(`[conversion progress] ( progress: ${t.progress}, file id: ${t.fileId})`);const a=o.fileStore.get(t.fileId);a.convertProgress=t.progress,a.inProgress=!0,100===t.progress&&(a.inProgress=!1)})})()}handleConvertEvent(t){var o=this;return(0,d.Z)(function*(){t.type===R.END?(o.zoneRef.run(()=>{o.isDownloadAllActive=!0}),o.fileStore.get(t.fileId).convertedFileData.set(t.targetFormat,t.fileData)):t.type===R.FAILED&&(g.j.info(`conversion failed for file with id: ${t.fileId}`),o.zoneRef.run(()=>{const a=o.fileStore.get(t.fileId);a.conversionErrors.set(t.targetFormat,"conversion failed! try converting in some other format"),a.inProgress=!1}))})()}handleFFMpegLog(t){g.j.info(`[FMPEG LOGS]: ${t.message}`),this.isMobile&&this.conversionLogs.push(t.message)}downloadLogs(){this.downloadFile("log-files.txt",new Blob([this.conversionLogs.join("\n\n")],{type:"text/plain"}))}addFileToConvert(t){var o=this;return(0,d.Z)(function*(){o.zoneRef.run(()=>{const a=o.formatFileName(t.name),s=a.split(".").pop(),m=(0,ce.Z)(),p={id:m,file:t,inProgress:!1,type:re.S.VIDEO,name:`${o.ffmpegService.getPlainFileName(a)}_${m}.${s}`,convertProgress:0,targetFormat:1,convertedFileData:new Map,conversionErrors:new Map,supportedFormats:o.getSupportedTargetFormats(s),fileFormat:o.resolveFileFormatId(s)};o.fileStore.set(p.id,p),o.fileDisplayList.push(p)})})()}resolveFileFormatId(t){for(const[o,a]of w.entries())if(a.targetFormat===t)return o;return 6}getSupportedTargetFormats(t){return ge.get(t).map(a=>({formatId:a,targetFormat:w.get(a).targetFormat,displayName:w.get(a).displayName}))}convertAllVideos(){var t=this;return(0,d.Z)(function*(){for(let o of t.fileStore.values())!o.inProgress&&!o.convertedFileData.has(o.targetFormat)&&t.convertVideoFile(o)})()}convertVideoFile(t){var o=this;return(0,d.Z)(function*(){o.zoneRef.run(()=>{t.inProgress=!0,t.convertProgress=0}),o.ffmpegService.submitFileToConvert(t)})()}formatFileName(t){return t.replace(/ /g,"_")}downloadVideo(t){var o=this;return(0,d.Z)(function*(){const a=o.ffmpegService.getPlainFileName(t.name);yield o.downloadFile(`${a}_converted.${w.get(t.targetFormat).targetFormat}`,new Blob([t.convertedFileData.get(t.targetFormat)],{type:o.getMimeType(t.targetFormat)}))})()}getMimeType(t){const o=w.get(t).targetFormat;return"mp4"===o||"webm"===o?`video/${o}`:`audio/${o}`}downloadFile(t,o){var a=this;return(0,d.Z)(function*(){const s=a.renderer.createElement("a");a.renderer.setProperty(s,"href",URL.createObjectURL(o)),a.renderer.setProperty(s,"download",t),s.click()})()}changeTargetFormat(t,o){this.fileStore.get(t).targetFormat!==o&&(g.j.info(`changing target format of file with id: ${t} to ${w.get(o)}`),this.fileStore.get(t).targetFormat=o)}formatBytes(t,o=2){if(0===t)return"0 Bytes";const s=o<0?0:o,p=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,p)).toFixed(s))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][p]}openSettings(t){this.closeDialog();const a=this.formatFileName(t.file.name).split(".").pop(),s=this.getSupportedTargetFormats(a),m={referenceId:t.id,type:z.VIDEO_CONVERT_SETTINGS,rows:[{elements:[{type:H.DROPDOWN,propertyName:"targetFormat",data:{options:s.map(p=>({displayName:p.displayName,value:p.formatId})),targetFormat:t.targetFormat}}]}]};this.activeDialog=this.dialog.open(ue,{data:m}),this.activeDialog.afterClosed().subscribe(this.handleSettingsChange.bind(this))}handleSettingsChange(t={}){var o=this;return(0,d.Z)(function*(){if(g.j.info(`settings dialog closed with data: ${JSON.stringify(t)}`),Object.keys(t).length>0){const a=t,s=o.fileStore.get(a.referenceId);o.zoneRef.run(()=>{s.targetFormat=a.data.targetFormat})}})()}closeDialog(t={}){var o=this;return(0,d.Z)(function*(){o.activeDialog&&o.activeDialog.close(t)})()}selectFiles(t){var o=this;return(0,d.Z)(function*(){for(const a of t.target.files)yield o.addFileToConvert(a)})()}openFileDialog(){this.renderer.selectRootElement(this.inputFiles.nativeElement,!0).click()}dragOverHandler(t){return(0,d.Z)(function*(){t.preventDefault()})()}dropHandler(t){var o=this;return(0,d.Z)(function*(){t.preventDefault(),t.dataTransfer.items?[...t.dataTransfer.items].filter(a=>"file"===a.kind).map(a=>a.getAsFile()).forEach(function(){var a=(0,d.Z)(function*(s){return yield o.addFileToConvert(s)});return function(s){return a.apply(this,arguments)}}()):[...t.dataTransfer.files].forEach(function(){var a=(0,d.Z)(function*(s){return yield o.addFileToConvert(s)});return function(s){return a.apply(this,arguments)}}())})()}}return(i=r).\u0275fac=function(t){return new(t||i)(e.Y36(B.Dx),e.Y36(B.h_),e.Y36(_.K0),e.Y36(V.jv),e.Y36(B.H7),e.Y36(I.uw),e.Y36(e.Lbi),e.Y36(he.i),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(Z.Yg),e.Y36(Ze))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-video-converter"]],viewQuery:function(t,o){if(1&t&&e.Gf($e,5),2&t){let a;e.iGM(a=e.CRH())&&(o.inputFiles=a.first)}},features:[e.qOj],decls:17,vars:5,consts:[[1,"full-height","flex-display","flex-column-flow","no-y-scroll"],[1,"full-width","y-scroll","flex-display","flex-column-flow"],[1,"flex-display","flex-column-flow","flex-align-center","base-app-container"],[1,"full-width"],["type","file","multiple","",2,"display","none",3,"accept","change"],["inputFiles",""],["class","flex-display flex-column-flow flex-center flex-align-center file-drop-area file-area-width",3,"drop","dragover",4,"ngIf"],[4,"ngIf"],["class","flex-display flex-row-flow flex-center full-width",3,"ngStyle",4,"ngIf"],["class","flex-display flex-column-flow y-scroll file-drop-area file-area-width file-list-div",4,"ngIf"],[1,"flex-display","flex-column-flow","flex-center","flex-align-center","file-drop-area","file-area-width",3,"drop","dragover"],[2,"transform","scale(2)","margin-bottom","10px"],[1,"header-font",2,"margin-bottom","20px","font-size","large"],[1,"header-font",2,"margin-bottom","10px","font-size","large"],["mat-stroked-button","","color","primary","matTooltip","select video to convert",3,"click"],[1,"bold",2,"color","red","font-style","italic"],[1,"flex-display","flex-row-flow","flex-center","full-width",3,"ngStyle"],["mat-stroked-button","","color","accent","matTooltip","select videos to convert",2,"margin-right","10px",3,"click"],["mat-stroked-button","","color","accent","matTooltip","convert all videos",3,"click"],[1,"flex-display","flex-column-flow","y-scroll","file-drop-area","file-area-width","file-list-div"],["style","margin-bottom: 10px; border: 1px solid lightgrey",4,"ngFor","ngForOf"],[2,"margin-bottom","10px","border","1px solid lightgrey"],[1,"flex-display","flex-row-flow","flex-align-center",2,"margin","15px"],["svgIcon","video-convert-icon",1,"app-icon","pointer-cursor",2,"margin-left","10px"],[1,"flex-display","flex-column-flow","header-font","file-name-div"],[1,"bold-text"],[1,"bold-text","header-font",2,"color","#3f51b5"],["class","bold-text","style","color: red",4,"ngIf"],["class","bold-text",4,"ngIf"],[1,"flex-full-height"],[1,"flex-display","flex-row-flow","flex-align-center","flex-center"],["diameter","32",4,"ngIf"],["style","margin-right: 10px","class","bold-text",4,"ngIf"],["style","margin-right: 10px","diameter","32","mode","determinate",3,"value",4,"ngIf"],["appearance","outline","color","primary","style","margin-right: 10px; margin-bottom: -1.25em",4,"ngIf"],["svgIcon","settings-icon","class","pointer-cursor","style","margin-right: 10px","matTooltip","change conversion settings",3,"click",4,"ngIf"],["svgIcon","play-icon","class","pointer-cursor","matTooltip","convert video file",3,"click",4,"ngIf"],["svgIcon","download-icon","class","pointer-cursor","matTooltip","download converted video",3,"click",4,"ngIf"],["class","pointer-cursor","color","warn","matTooltip","only limited video formats can be converted","style","transform: scale(1.5)",4,"ngIf"],[1,"bold-text",2,"color","red"],["diameter","32"],[1,"bold-text",2,"margin-right","10px"],["diameter","32","mode","determinate",2,"margin-right","10px",3,"value"],["appearance","outline","color","primary",2,"margin-right","10px","margin-bottom","-1.25em"],["disableRipple","",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["svgIcon","settings-icon","matTooltip","change conversion settings",1,"pointer-cursor",2,"margin-right","10px",3,"click"],["svgIcon","play-icon","matTooltip","convert video file",1,"pointer-cursor",3,"click"],["svgIcon","download-icon","matTooltip","download converted video",1,"pointer-cursor",3,"click"],["color","warn","matTooltip","only limited video formats can be converted",1,"pointer-cursor",2,"transform","scale(1.5)"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-header-toolbar"),e.TgZ(2,"div",1)(3,"div",2),e._UZ(4,"app-tool-heading")(5,"app-share-buttons",3),e.TgZ(6,"input",4,5),e.NdJ("change",function(s){return o.selectFiles(s)}),e.qZA(),e.YNc(8,Ge,11,0,"div",6),e.YNc(9,Je,3,0,"div",7),e.YNc(10,je,9,3,"div",8),e.YNc(11,rt,2,1,"div",9),e._UZ(12,"app-related-tools",3)(13,"app-description",3)(14,"app-tags")(15,"app-follow-buttons"),e.qZA(),e._UZ(16,"app-footer"),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("accept",o.validVideoFormats),e.xp6(2),e.Q6J("ngIf",0===o.fileDisplayList.length&&o.isSupported),e.xp6(1),e.Q6J("ngIf",!o.isSupported),e.xp6(1),e.Q6J("ngIf",o.fileDisplayList.length>0),e.xp6(1),e.Q6J("ngIf",o.fileDisplayList.length>0))},dependencies:[_.sg,_.O5,_.PC,Oe.u,Se.O,V.Hw,P.lW,X.a8,O.KE,O.hX,S.gD,K.ey,ee.gM,te.Ou,Pe.z,Ve.d,Le.o,De.c,Ue.c,Be.w],styles:[".file-drop-area[_ngcontent-%COMP%]{padding:30px;border:1px solid lightgrey;border-radius:10px}.file-area-width[_ngcontent-%COMP%]{width:95%}.file-list-div[_ngcontent-%COMP%]{max-height:400px}@media screen and (max-width: 735px){.file-area-width[_ngcontent-%COMP%]{width:85%}.file-list-div[_ngcontent-%COMP%]{max-height:300px}.file-name-div[_ngcontent-%COMP%]{width:60%;overflow-x:hidden}}"]}),r})()}];let st=(()=>{var i;class r{}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Y.Bz.forChild(at),Y.Bz]}),r})();var lt=l(8369),ct=l(6861),dt=l(3665),ft=l(6122),oe=l(2202);let pt=(()=>{var i;class r{}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[_.ez,S.LD,P.ot,V.Ps,oe.KP,I.Is]}),r})();var mt=l(300),ut=l(4485),gt=l(8292),vt=l(3341);let ht=(()=>{var i;class r{}return(i=r).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[_.ez,st,gt.K,vt.l,V.Ps,P.ot,X.QW,S.LD,ee.AV,Z.xu,oe.KP,I.Is,te.Cq,lt.b,ct.E,dt.I,ft._,pt,mt.K,ut.E]}),r})()}}]);