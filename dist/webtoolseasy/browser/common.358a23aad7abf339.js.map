{"version":3,"file":"common.358a23aad7abf339.js","mappings":";;;;;;;;;;;;;;;;;;AAKM,MAAOA,WAAW;EACtB;;;;;EAKMC,cAAcA,CAACC,IAAU,EAAEC,QAAa;IAAA,OAAAC,6IAAA;MAC5C,MAAMC,UAAU,GAAe,IAAIC,UAAU,EAAE;MAC/CD,UAAU,CAACE,MAAM,GAAG,MAAMJ,QAAQ,CAACE,UAAU,CAACG,MAAM,CAAC;MACrDH,UAAU,CAACI,UAAU,CAACP,IAAI,CAAC;IAAC;EAC9B;EAEA;;;;;EAKMQ,aAAaA,CAACC,EAAU,EAAET,IAAU,EAAEC,QAAa;IAAA,OAAAC,6IAAA;MACvD,MAAMC,UAAU,GAAe,IAAIC,UAAU,EAAE;MAC/CD,UAAU,CAACE,MAAM,GAAG,MAAMJ,QAAQ,CAACQ,EAAE,EAAEN,UAAU,CAACG,MAAM,CAAC;MACzDH,UAAU,CAACO,aAAa,CAACV,IAAI,CAAC;IAAC;EACjC;EAEA;;;;;;EAMMW,YAAYA,CAChBC,QAAgB,EAChBC,WAAiB,EACjBC,QAAmB;IAAA,OAAAZ,6IAAA;MAEnB,MAAMa,cAAc,GAAGD,QAAQ,CAACE,aAAa,CAAC,GAAG,CAAC;MAClDF,QAAQ,CAACG,WAAW,CAClBF,cAAc,EACd,MAAM,EACNG,GAAG,CAACC,eAAe,CAACN,WAAW,CAAC,CACjC;MACDC,QAAQ,CAACG,WAAW,CAACF,cAAc,EAAE,UAAU,EAAEH,QAAQ,CAAC;MAC1DG,cAAc,CAACK,KAAK,EAAE;IAAC;EACzB;EAEAC,oBAAoBA,CAACT,QAAgB;IACnC,OAAOA,QAAQ,CAACU,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;EACpC;EAEAC,gBAAgBA,CAACC,aAAqB;IACpC,OAAOA,aAAa,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,EAAG;EACxC;EAEAC,gBAAgBA,CAACf,QAAgB;IAC/B,OAAOA,QAAQ,CAACgB,SAAS,CAAC,CAAC,EAAEhB,QAAQ,CAACiB,WAAW,CAAC,GAAG,CAAC,CAAC,IAAIjB,QAAQ;EACrE;EAEA;;;;;EAKAkB,eAAeA,CAACC,OAAe;IAC7B,OAAOA,OAAO,CAACN,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC9B;;SA/DW3B,WAAW;;mBAAXA,MAAW;AAAA;;SAAXA,MAAW;EAAAkC,OAAA,EAAXlC,MAAW,CAAAmC,IAAA;EAAAC,UAAA,EAFV;AAAM","sources":["./src/app/service/file/file.service.ts"],"sourcesContent":["import { Injectable, Renderer2 } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class FileService {\n  /**\n   * read file contents as text\n   * @param file\n   * @param callback\n   */\n  async readFileAsText(file: File, callback: any): Promise<void> {\n    const fileReader: FileReader = new FileReader();\n    fileReader.onload = () => callback(fileReader.result);\n    fileReader.readAsText(file);\n  }\n\n  /**\n   * read file contents as text\n   * @param file\n   * @param callback\n   */\n  async readFileAsURL(id: string, file: File, callback: any): Promise<void> {\n    const fileReader: FileReader = new FileReader();\n    fileReader.onload = () => callback(id, fileReader.result);\n    fileReader.readAsDataURL(file);\n  }\n\n  /**\n   * download a file with specified name\n   * @param fileName\n   * @param fileContent\n   * @param renderer\n   */\n  async downloadFile(\n    fileName: string,\n    fileContent: Blob,\n    renderer: Renderer2\n  ): Promise<void> {\n    const downloadAnchor = renderer.createElement('a');\n    renderer.setProperty(\n      downloadAnchor,\n      'href',\n      URL.createObjectURL(fileContent)\n    );\n    renderer.setProperty(downloadAnchor, 'download', fileName);\n    downloadAnchor.click();\n  }\n\n  getFormattedFileName(fileName: string): string {\n    return fileName.replace(/ /g, '_');\n  }\n\n  getFileExtension(formattedName: string): string {\n    return formattedName.split('.').pop()!;\n  }\n\n  getPlainFileName(fileName: string): string {\n    return fileName.substring(0, fileName.lastIndexOf('.')) || fileName;\n  }\n\n  /**\n   * data uri to base64\n   * @param dataURI\n   * @returns\n   */\n  dataUriToBase64(dataURI: string) {\n    return dataURI.split(',')[1];\n  }\n}\n"],"names":["FileService","readFileAsText","file","callback","_asyncToGenerator","fileReader","FileReader","onload","result","readAsText","readFileAsURL","id","readAsDataURL","downloadFile","fileName","fileContent","renderer","downloadAnchor","createElement","setProperty","URL","createObjectURL","click","getFormattedFileName","replace","getFileExtension","formattedName","split","pop","getPlainFileName","substring","lastIndexOf","dataUriToBase64","dataURI","factory","Éµfac","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}