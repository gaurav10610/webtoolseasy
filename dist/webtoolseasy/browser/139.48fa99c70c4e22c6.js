"use strict";(self.webpackChunkwebtoolseasy=self.webpackChunkwebtoolseasy||[]).push([[139],{3139:(Vt,et,te)=>{te.r(et),te.d(et,{ImageCompressionModule:()=>Kt});var Re=te(6814),tt=te(3403),ae=te(5861),bt=te(7421),Le=te(3242);function nt(x,T){return new Promise(function(B,o){let e;return xt(x).then(function(t){try{return e=t,B(new Blob([T.slice(0,2),e,T.slice(2)],{type:"image/jpeg"}))}catch(s){return o(s)}},o)})}const xt=x=>new Promise((T,B)=>{const o=new FileReader;o.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let s=0;if(65496!==t.getUint16(s))return B("not a valid JPEG");for(s+=2;;){const l=t.getUint16(s);if(65498===l)break;const g=t.getUint16(s+2);if(65505===l&&1165519206===t.getUint32(s+4)){const b=s+10;let r;switch(t.getUint16(b)){case 18761:r=!0;break;case 19789:r=!1;break;default:return B("TIFF header contains invalid endian")}if(42!==t.getUint16(b+2,r))return B("TIFF header contains invalid version");const i=t.getUint32(b+4,r),n=b+i+2+12*t.getUint16(b+i,r);for(let f=b+i+2;f<n;f+=12)if(274==t.getUint16(f,r)){if(3!==t.getUint16(f+2,r))return B("Orientation data type is invalid");if(1!==t.getUint32(f+4,r))return B("Orientation data count is invalid");t.setUint16(f+8,1,r);break}return T(e.slice(s,s+2+g))}s+=2+g}return T(new Blob)}),o.readAsArrayBuffer(x)});var T,B,o,Pe={};({get exports(){return Pe},set exports(x){Pe=x}}).exports=o={},o.parse=function(e,t){for(var s=o.bin.readUshort,l=o.bin.readUint,g=0,b={},r=new Uint8Array(e),i=r.length-4;101010256!=l(r,i);)i--;g=i,g+=4;var n=s(r,g+=4);s(r,g+=2);var f=l(r,g+=2),p=l(r,g+=4);g+=4,g=p;for(var E=0;E<n;E++){l(r,g),g+=4,g+=4,g+=4,l(r,g+=4),f=l(r,g+=4);var M=l(r,g+=4),y=s(r,g+=4),O=s(r,g+2),P=s(r,g+4);g+=6;var F=l(r,g+=8);g+=4,g+=y+O+P,o._readLocal(r,F,b,f,M,t)}return b},o._readLocal=function(e,t,s,l,g,b){var r=o.bin.readUshort,i=o.bin.readUint;i(e,t),r(e,t+=4),r(e,t+=2);var n=r(e,t+=2);i(e,t+=2),i(e,t+=4),t+=4;var f=r(e,t+=8),p=r(e,t+=2),E=o.bin.readUTF8(e,t+=2,f);if(t+=f,t+=p,b)s[E]={size:g,csize:l};else{var M=new Uint8Array(e.buffer,t);if(0==n)s[E]=new Uint8Array(M.buffer.slice(t,t+l));else{if(8!=n)throw"unknown compression method: "+n;var y=new Uint8Array(g);o.inflateRaw(M,y),s[E]=y}}},o.inflateRaw=function(e,t){return o.F.inflate(e,t)},o.inflate=function(e,t){return o.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},o.deflate=function(e,t){null==t&&(t={level:6});var s=0,l=new Uint8Array(50+Math.floor(1.1*e.length));l[s]=120,l[s+1]=156,s=o.F.deflateRaw(e,l,s+=2,t.level);var g=o.adler(e,0,e.length);return l[s+0]=g>>>24&255,l[s+1]=g>>>16&255,l[s+2]=g>>>8&255,l[s+3]=g>>>0&255,new Uint8Array(l.buffer,0,s+4)},o.deflateRaw=function(e,t){null==t&&(t={level:6});var s=new Uint8Array(50+Math.floor(1.1*e.length)),l=o.F.deflateRaw(e,s,l,t.level);return new Uint8Array(s.buffer,0,l)},o.encode=function(e,t){null==t&&(t=!1);var s=0,l=o.bin.writeUint,g=o.bin.writeUshort,b={};for(var r in e){var i=!o._noNeed(r)&&!t,n=e[r],f=o.crc.crc(n,0,n.length);b[r]={cpr:i,usize:n.length,crc:f,file:i?o.deflateRaw(n):n}}for(var r in b)s+=b[r].file.length+30+46+2*o.bin.sizeUTF8(r);s+=22;var p=new Uint8Array(s),E=0,M=[];for(var r in b){var y=b[r];M.push(E),E=o._writeHeader(p,E,r,y,0)}var O=0,P=E;for(var r in b)y=b[r],M.push(E),E=o._writeHeader(p,E,r,y,1,M[O++]);var F=E-P;return l(p,E,101010256),E+=4,g(p,E+=4,O),g(p,E+=2,O),l(p,E+=2,F),l(p,E+=4,P),E+=4,E+=2,p.buffer},o._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(t)},o._writeHeader=function(e,t,s,l,g,b){var r=o.bin.writeUint,i=o.bin.writeUshort,n=l.file;return r(e,t,0==g?67324752:33639248),t+=4,1==g&&(t+=2),i(e,t,20),i(e,t+=2,0),i(e,t+=2,l.cpr?8:0),r(e,t+=2,0),r(e,t+=4,l.crc),r(e,t+=4,n.length),r(e,t+=4,l.usize),i(e,t+=4,o.bin.sizeUTF8(s)),i(e,t+=2,0),t+=2,1==g&&(t+=2,t+=2,r(e,t+=6,b),t+=4),t+=o.bin.writeUTF8(e,t,s),0==g&&(e.set(n,t),t+=n.length),t},o.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var s=t,l=0;l<8;l++)1&s?s=3988292384^s>>>1:s>>>=1;e[t]=s}return e}(),update:function(e,t,s,l){for(var g=0;g<l;g++)e=o.crc.table[255&(e^t[s+g])]^e>>>8;return e},crc:function(e,t,s){return 4294967295^o.crc.update(4294967295,e,t,s)}},o.adler=function(e,t,s){for(var l=1,g=0,b=t,r=t+s;b<r;){for(var i=Math.min(b+5552,r);b<i;)g+=l+=e[b++];l%=65521,g%=65521}return g<<16|l},o.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,s){e[t]=255&s,e[t+1]=s>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,s){e[t]=255&s,e[t+1]=s>>8&255,e[t+2]=s>>16&255,e[t+3]=s>>24&255},readASCII:function(e,t,s){for(var l="",g=0;g<s;g++)l+=String.fromCharCode(e[t+g]);return l},writeASCII:function(e,t,s){for(var l=0;l<s.length;l++)e[t+l]=s.charCodeAt(l)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,s){for(var l,g="",b=0;b<s;b++)g+="%"+o.bin.pad(e[t+b].toString(16));try{l=decodeURIComponent(g)}catch{return o.bin.readASCII(e,t,s)}return l},writeUTF8:function(e,t,s){for(var l=s.length,g=0,b=0;b<l;b++){var r=s.charCodeAt(b);if(4294967168&r)if(4294965248&r)if(4294901760&r){if(4292870144&r)throw"e";e[t+g]=240|r>>18,e[t+g+1]=128|r>>12&63,e[t+g+2]=128|r>>6&63,e[t+g+3]=128|r>>0&63,g+=4}else e[t+g]=224|r>>12,e[t+g+1]=128|r>>6&63,e[t+g+2]=128|r>>0&63,g+=3;else e[t+g]=192|r>>6,e[t+g+1]=128|r>>0&63,g+=2;else e[t+g]=r,g++}return g},sizeUTF8:function(e){for(var t=e.length,s=0,l=0;l<t;l++){var g=e.charCodeAt(l);if(4294967168&g)if(4294965248&g)if(4294901760&g){if(4292870144&g)throw"e";s+=4}else s+=3;else s+=2;else s++}return s}},o.F={},o.F.deflateRaw=function(e,t,s,l){var g=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],b=o.F.U,r=o.F._goodIndex,i=o.F._putsE,n=0,f=s<<3,p=0,E=e.length;if(0==l){for(;n<E;)i(t,f,n+(_=Math.min(65535,E-n))==E?1:0),f=o.F._copyExact(e,n,_,t,f+8),n+=_;return f>>>3}var M=b.lits,y=b.strt,O=b.prev,P=0,F=0,k=0,h=0,R=0,u=0;for(E>2&&(y[u=o.F._hash(e,0)]=0),n=0;n<E;n++){if(R=u,n+1<E-2){u=o.F._hash(e,n+1);var c=n+1&32767;O[c]=y[u],y[u]=c}if(p<=n){(P>14e3||F>26697)&&E-n>100&&(p<n&&(M[P]=n-p,P+=2,p=n),f=o.F._writeBlock(n==E-1||p==E?1:0,M,P,h,e,k,n-k,t,f),P=F=h=0,k=n);var v=0;n<E-2&&(v=o.F._bestMatch(e,n,O,R,Math.min(g[2],E-n),g[3]));var _=v>>>16,w=65535&v;if(0!=v){w=65535&v;var C=r(_=v>>>16,b.of0);b.lhst[257+C]++;var A=r(w,b.df0);b.dhst[A]++,h+=b.exb[C]+b.dxb[A],M[P]=_<<23|n-p,M[P+1]=w<<16|C<<8|A,P+=2,p=n+_}else b.lhst[e[n]]++;F++}}for(k==n&&0!=e.length||(p<n&&(M[P]=n-p,P+=2,p=n),f=o.F._writeBlock(1,M,P,h,e,k,n-k,t,f),P=0,F=0,P=F=h=0,k=n);7&f;)f++;return f>>>3},o.F._bestMatch=function(e,t,s,l,g,b){var r=32767&t,i=s[r],n=r-i+32768&32767;if(i==r||l!=o.F._hash(e,t-n))return 0;for(var f=0,p=0,E=Math.min(32767,t);n<=E&&0!=--b&&i!=r;){if(0==f||e[t+f]==e[t+f-n]){var M=o.F._howLong(e,t,n);if(M>f){if(p=n,(f=M)>=g)break;n+2<M&&(M=n+2);for(var y=0,O=0;O<M-2;O++){var P=t-n+O+32768&32767,F=P-s[P]+32768&32767;F>y&&(y=F,i=P)}}}n+=(r=i)-(i=s[r])+32768&32767}return f<<16|p},o.F._howLong=function(e,t,s){if(e[t]!=e[t-s]||e[t+1]!=e[t+1-s]||e[t+2]!=e[t+2-s])return 0;var l=t,g=Math.min(e.length,t+258);for(t+=3;t<g&&e[t]==e[t-s];)t++;return t-l},o.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},o.saved=0,o.F._writeBlock=function(e,t,s,l,g,b,r,i,n){var f,p,E,M,y,O,P,F,k,h=o.F.U,R=o.F._putsF,u=o.F._putsE;h.lhst[256]++,p=(f=o.F.getTrees())[0],E=f[1],M=f[2],y=f[3],O=f[4],P=f[5],F=f[6],k=f[7];var c=32+(n+3&7?8-(n+3&7):0)+(r<<3),v=l+o.F.contSize(h.fltree,h.lhst)+o.F.contSize(h.fdtree,h.dhst),_=l+o.F.contSize(h.ltree,h.lhst)+o.F.contSize(h.dtree,h.dhst);_+=14+3*P+o.F.contSize(h.itree,h.ihst)+(2*h.ihst[16]+3*h.ihst[17]+7*h.ihst[18]);for(var w=0;w<286;w++)h.lhst[w]=0;for(w=0;w<30;w++)h.dhst[w]=0;for(w=0;w<19;w++)h.ihst[w]=0;var C=c<v&&c<_?0:v<_?1:2;if(R(i,n,e),R(i,n+1,C),n+=3,0==C){for(;7&n;)n++;n=o.F._copyExact(g,b,r,i,n)}else{var A,U;if(1==C&&(A=h.fltree,U=h.fdtree),2==C){o.F.makeCodes(h.ltree,p),o.F.revCodes(h.ltree,p),o.F.makeCodes(h.dtree,E),o.F.revCodes(h.dtree,E),o.F.makeCodes(h.itree,M),o.F.revCodes(h.itree,M),A=h.ltree,U=h.dtree,u(i,n,y-257),u(i,n+=5,O-1),u(i,n+=5,P-4),n+=4;for(var d=0;d<P;d++)u(i,n+3*d,h.itree[1+(h.ordr[d]<<1)]);n=o.F._codeTiny(F,h.itree,i,n+=3*P),n=o.F._codeTiny(k,h.itree,i,n)}for(var a=b,Q=0;Q<s;Q+=2){for(var I=t[Q],Z=I>>>23,D=a+(8388607&I);a<D;)n=o.F._writeLit(g[a++],A,i,n);if(0!=Z){var N=t[Q+1],H=N>>16,z=N>>8&255,S=255&N;u(i,n=o.F._writeLit(257+z,A,i,n),Z-h.of0[z]),R(i,n=o.F._writeLit(S,U,i,n+=h.exb[z]),H-h.df0[S]),n+=h.dxb[S],a+=Z}}n=o.F._writeLit(256,A,i,n)}return n},o.F._copyExact=function(e,t,s,l,g){var b=g>>>3;return l[b]=s,l[b+1]=s>>>8,l[b+2]=255-l[b],l[b+3]=255-l[b+1],b+=4,l.set(new Uint8Array(e.buffer,t,s),b),g+(s+4<<3)},o.F.getTrees=function(){for(var e=o.F.U,t=o.F._hufTree(e.lhst,e.ltree,15),s=o.F._hufTree(e.dhst,e.dtree,15),l=[],g=o.F._lenCodes(e.ltree,l),b=[],r=o.F._lenCodes(e.dtree,b),i=0;i<l.length;i+=2)e.ihst[l[i]]++;for(i=0;i<b.length;i+=2)e.ihst[b[i]]++;for(var n=o.F._hufTree(e.ihst,e.itree,7),f=19;f>4&&0==e.itree[1+(e.ordr[f-1]<<1)];)f--;return[t,s,n,g,r,f,l,b]},o.F.getSecond=function(e){for(var t=[],s=0;s<e.length;s+=2)t.push(e[s+1]);return t},o.F.nonZero=function(e){for(var t="",s=0;s<e.length;s+=2)0!=e[s+1]&&(t+=(s>>1)+",");return t},o.F.contSize=function(e,t){for(var s=0,l=0;l<t.length;l++)s+=t[l]*e[1+(l<<1)];return s},o.F._codeTiny=function(e,t,s,l){for(var g=0;g<e.length;g+=2){var b=e[g],r=e[g+1];l=o.F._writeLit(b,t,s,l);var i=16==b?2:17==b?3:7;b>15&&(o.F._putsE(s,l,r,i),l+=i)}return l},o.F._lenCodes=function(e,t){for(var s=e.length;2!=s&&0==e[s-1];)s-=2;for(var l=0;l<s;l+=2){var g=e[l+1],b=l+3<s?e[l+3]:-1,r=l+5<s?e[l+5]:-1,i=0==l?-1:e[l-1];if(0==g&&b==g&&r==g){for(var n=l+5;n+2<s&&e[n+2]==g;)n+=2;(f=Math.min(n+1-l>>>1,138))<11?t.push(17,f-3):t.push(18,f-11),l+=2*f-2}else if(g==i&&b==g&&r==g){for(n=l+5;n+2<s&&e[n+2]==g;)n+=2;var f=Math.min(n+1-l>>>1,6);t.push(16,f-3),l+=2*f-2}else t.push(g,0)}return s>>>1},o.F._hufTree=function(e,t,s){var l=[],g=e.length,b=t.length,r=0;for(r=0;r<b;r+=2)t[r]=0,t[r+1]=0;for(r=0;r<g;r++)0!=e[r]&&l.push({lit:r,f:e[r]});var i=l.length,n=l.slice(0);if(0==i)return 0;if(1==i){var f=l[0].lit;return n=0==f?1:0,t[1+(f<<1)]=1,t[1+(n<<1)]=1,1}l.sort(function(F,k){return F.f-k.f});var p=l[0],E=l[1],M=0,y=1,O=2;for(l[0]={lit:-1,f:p.f+E.f,l:p,r:E,d:0};y!=i-1;)p=M!=y&&(O==i||l[M].f<l[O].f)?l[M++]:l[O++],E=M!=y&&(O==i||l[M].f<l[O].f)?l[M++]:l[O++],l[y++]={lit:-1,f:p.f+E.f,l:p,r:E};var P=o.F.setDepth(l[y-1],0);for(P>s&&(o.F.restrictDepth(n,s,P),P=s),r=0;r<i;r++)t[1+(n[r].lit<<1)]=n[r].d;return P},o.F.setDepth=function(e,t){return-1!=e.lit?(e.d=t,t):Math.max(o.F.setDepth(e.l,t+1),o.F.setDepth(e.r,t+1))},o.F.restrictDepth=function(e,t,s){var l=0,g=1<<s-t,b=0;for(e.sort(function(i,n){return n.d==i.d?i.f-n.f:n.d-i.d}),l=0;l<e.length&&e[l].d>t;l++){var r=e[l].d;e[l].d=t,b+=g-(1<<s-r)}for(b>>>=s-t;b>0;)(r=e[l].d)<t?(e[l].d++,b-=1<<t-r-1):l++;for(;l>=0;l--)e[l].d==t&&b<0&&(e[l].d--,b++);0!=b&&console.log("debt left")},o.F._goodIndex=function(e,t){var s=0;return t[16|s]<=e&&(s|=16),t[8|s]<=e&&(s|=8),t[4|s]<=e&&(s|=4),t[2|s]<=e&&(s|=2),t[1|s]<=e&&(s|=1),s},o.F._writeLit=function(e,t,s,l){return o.F._putsF(s,l,t[e<<1]),l+t[1+(e<<1)]},o.F.inflate=function(e,t){var s=Uint8Array;if(3==e[0]&&0==e[1])return t||new s(0);var l=o.F,g=l._bitsF,b=l._bitsE,r=l._decodeTiny,i=l.makeCodes,n=l.codes2map,f=l._get17,p=l.U,E=null==t;E&&(t=new s(e.length>>>2<<3));for(var M,y,O=0,P=0,F=0,k=0,h=0,R=0,u=0,c=0,v=0;0==O;)if(O=g(e,v,1),P=g(e,v+1,2),v+=3,0!=P){if(E&&(t=o.F._check(t,c+(1<<17))),1==P&&(M=p.flmap,y=p.fdmap,R=511,u=31),2==P){F=b(e,v,5)+257,k=b(e,v+5,5)+1,h=b(e,v+10,4)+4,v+=14;for(var _=0;_<38;_+=2)p.itree[_]=0,p.itree[_+1]=0;var w=1;for(_=0;_<h;_++){var C=b(e,v+3*_,3);p.itree[1+(p.ordr[_]<<1)]=C,C>w&&(w=C)}v+=3*h,i(p.itree,w),n(p.itree,w,p.imap),M=p.lmap,y=p.dmap,v=r(p.imap,(1<<w)-1,F+k,e,v,p.ttree);var A=l._copyOut(p.ttree,0,F,p.ltree);R=(1<<A)-1;var U=l._copyOut(p.ttree,F,k,p.dtree);u=(1<<U)-1,i(p.ltree,A),n(p.ltree,A,M),i(p.dtree,U),n(p.dtree,U,y)}for(;;){var d=M[f(e,v)&R];v+=15&d;var a=d>>>4;if(a>>>8){if(256==a)break;var Q=c+a-254;if(a>264){var I=p.ldef[a-257];Q=c+(I>>>3)+b(e,v,7&I),v+=7&I}var Z=y[f(e,v)&u],N=p.ddef[Z>>>4],H=(N>>>4)+g(e,v+=15&Z,15&N);for(v+=15&N,E&&(t=o.F._check(t,c+(1<<17)));c<Q;)t[c]=t[c++-H],t[c]=t[c++-H],t[c]=t[c++-H],t[c]=t[c++-H];c=Q}else t[c++]=a}}else{7&v&&(v+=8-(7&v));var z=4+(v>>>3),S=e[z-4]|e[z-3]<<8;E&&(t=o.F._check(t,c+S)),t.set(new s(e.buffer,e.byteOffset+z,S),c),v=z+S<<3,c+=S}return t.length==c?t:t.slice(0,c)},o.F._check=function(e,t){var s=e.length;if(t<=s)return e;var l=new Uint8Array(Math.max(s<<1,t));return l.set(e,0),l},o.F._decodeTiny=function(e,t,s,l,g,b){for(var r=o.F._bitsE,i=o.F._get17,n=0;n<s;){var f=e[i(l,g)&t];g+=15&f;var p=f>>>4;if(p<=15)b[n]=p,n++;else{var E=0,M=0;16==p?(M=3+r(l,g,2),g+=2,E=b[n-1]):17==p?(M=3+r(l,g,3),g+=3):18==p&&(M=11+r(l,g,7),g+=7);for(var y=n+M;n<y;)b[n]=E,n++}}return g},o.F._copyOut=function(e,t,s,l){for(var g=0,b=0,r=l.length>>>1;b<s;){var i=e[b+t];l[b<<1]=0,l[1+(b<<1)]=i,i>g&&(g=i),b++}for(;b<r;)l[b<<1]=0,l[1+(b<<1)]=0,b++;return g},o.F.makeCodes=function(e,t){for(var s,l,g,b,r=o.F.U,i=e.length,n=r.bl_count,f=0;f<=t;f++)n[f]=0;for(f=1;f<i;f+=2)n[e[f]]++;var p=r.next_code;for(s=0,n[0]=0,l=1;l<=t;l++)p[l]=s=s+n[l-1]<<1;for(g=0;g<i;g+=2)0!=(b=e[g+1])&&(e[g]=p[b],p[b]++)},o.F.codes2map=function(e,t,s){for(var l=e.length,g=o.F.U.rev15,b=0;b<l;b+=2)if(0!=e[b+1])for(var i=e[b+1],n=b>>1<<4|i,f=t-i,p=e[b]<<f,E=p+(1<<f);p!=E;)s[g[p]>>>15-t]=n,p++},o.F.revCodes=function(e,t){for(var s=o.F.U.rev15,l=15-t,g=0;g<e.length;g+=2)e[g]=s[e[g]<<t-e[g+1]]>>>l},o.F._putsE=function(e,t,s){var l=t>>>3;e[l]|=s<<=7&t,e[l+1]|=s>>>8},o.F._putsF=function(e,t,s){var l=t>>>3;e[l]|=s<<=7&t,e[l+1]|=s>>>8,e[l+2]|=s>>>16},o.F._bitsE=function(e,t,s){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<s)-1},o.F._bitsF=function(e,t,s){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<s)-1},o.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},o.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},o.F.U=(T=Uint16Array,B=Uint32Array,{next_code:new T(16),bl_count:new T(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new T(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new B(32),flmap:new T(512),fltree:[],fdmap:new T(32),fdtree:[],lmap:new T(32768),ltree:[],ttree:[],dmap:new T(32768),dtree:[],imap:new T(512),itree:[],rev15:new T(32768),lhst:new B(286),dhst:new B(30),ihst:new B(19),lits:new B(15e3),strt:new T(65536),prev:new T(32768)}),function(){for(var e=o.F.U,t=0;t<32768;t++){var s=t;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,e.rev15[t]=(s>>>16|s<<16)>>>17}function l(g,b,r){for(;0!=b--;)g.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];l(e.fltree,144,8),l(e.fltree,112,9),l(e.fltree,24,7),l(e.fltree,8,8),o.F.makeCodes(e.fltree,9),o.F.codes2map(e.fltree,9,e.flmap),o.F.revCodes(e.fltree,9),l(e.fdtree,32,5),o.F.makeCodes(e.fdtree,5),o.F.codes2map(e.fdtree,5,e.fdmap),o.F.revCodes(e.fdtree,5),l(e.itree,19,0),l(e.ltree,286,0),l(e.dtree,30,0),l(e.ttree,320,0)}();var Et=function _t(x,T){return T.forEach(function(B){B&&"string"!=typeof B&&!Array.isArray(B)&&Object.keys(B).forEach(function(o){if("default"!==o&&!(o in x)){var e=Object.getOwnPropertyDescriptor(B,o);Object.defineProperty(x,o,e.get?e:{enumerable:!0,get:function(){return B[o]}})}})}),Object.freeze(x)}({__proto__:null,default:Pe},[Pe]);const me=function(){var x={nextZero(r,i){for(;0!=r[i];)i++;return i},readUshort:(r,i)=>r[i]<<8|r[i+1],writeUshort(r,i,n){r[i]=n>>8&255,r[i+1]=255&n},readUint:(r,i)=>16777216*r[i]+(r[i+1]<<16|r[i+2]<<8|r[i+3]),writeUint(r,i,n){r[i]=n>>24&255,r[i+1]=n>>16&255,r[i+2]=n>>8&255,r[i+3]=255&n},readASCII(r,i,n){let f="";for(let p=0;p<n;p++)f+=String.fromCharCode(r[i+p]);return f},writeASCII(r,i,n){for(let f=0;f<n.length;f++)r[i+f]=n.charCodeAt(f)},readBytes(r,i,n){const f=[];for(let p=0;p<n;p++)f.push(r[i+p]);return f},pad:r=>r.length<2?`0${r}`:r,readUTF8(r,i,n){let f,p="";for(let E=0;E<n;E++)p+=`%${x.pad(r[i+E].toString(16))}`;try{f=decodeURIComponent(p)}catch{return x.readASCII(r,i,n)}return f}};function T(r,i,n,f){const p=i*n,E=t(f),M=Math.ceil(i*E/8),y=new Uint8Array(4*p),O=new Uint32Array(y.buffer),{ctype:P}=f,{depth:F}=f,k=x.readUshort;if(6==P){const I=p<<2;if(8==F)for(var h=0;h<I;h+=4)y[h]=r[h],y[h+1]=r[h+1],y[h+2]=r[h+2],y[h+3]=r[h+3];if(16==F)for(h=0;h<I;h++)y[h]=r[h<<1]}else if(2==P){const I=f.tabs.tRNS;if(null==I){if(8==F)for(h=0;h<p;h++){var R=3*h;O[h]=255<<24|r[R+2]<<16|r[R+1]<<8|r[R]}if(16==F)for(h=0;h<p;h++)O[h]=255<<24|r[4+(R=6*h)]<<16|r[R+2]<<8|r[R]}else{var u=I[0];const Z=I[1],D=I[2];if(8==F)for(h=0;h<p;h++){var c=h<<2;O[h]=255<<24|r[2+(R=3*h)]<<16|r[R+1]<<8|r[R],r[R]==u&&r[R+1]==Z&&r[R+2]==D&&(y[c+3]=0)}if(16==F)for(h=0;h<p;h++)c=h<<2,O[h]=255<<24|r[4+(R=6*h)]<<16|r[R+2]<<8|r[R],k(r,R)==u&&k(r,R+2)==Z&&k(r,R+4)==D&&(y[c+3]=0)}}else if(3==P){const I=f.tabs.PLTE,Z=f.tabs.tRNS,D=Z?Z.length:0;if(1==F)for(var v=0;v<n;v++){var _=v*M,w=v*i;for(h=0;h<i;h++){var C=3*(A=r[_+(h>>3)]>>7-((7&h)<<0)&1);y[c=w+h<<2]=I[C],y[c+1]=I[C+1],y[c+2]=I[C+2],y[c+3]=A<D?Z[A]:255}}if(2==F)for(v=0;v<n;v++)for(_=v*M,w=v*i,h=0;h<i;h++)C=3*(A=r[_+(h>>2)]>>6-((3&h)<<1)&3),y[c=w+h<<2]=I[C],y[c+1]=I[C+1],y[c+2]=I[C+2],y[c+3]=A<D?Z[A]:255;if(4==F)for(v=0;v<n;v++)for(_=v*M,w=v*i,h=0;h<i;h++)C=3*(A=r[_+(h>>1)]>>4-((1&h)<<2)&15),y[c=w+h<<2]=I[C],y[c+1]=I[C+1],y[c+2]=I[C+2],y[c+3]=A<D?Z[A]:255;if(8==F)for(h=0;h<p;h++){var A;C=3*(A=r[h]),y[c=h<<2]=I[C],y[c+1]=I[C+1],y[c+2]=I[C+2],y[c+3]=A<D?Z[A]:255}}else if(4==P){if(8==F)for(h=0;h<p;h++){var U=r[d=h<<1];y[c=h<<2]=U,y[c+1]=U,y[c+2]=U,y[c+3]=r[d+1]}if(16==F)for(h=0;h<p;h++){var d;U=r[d=h<<2],y[c=h<<2]=U,y[c+1]=U,y[c+2]=U,y[c+3]=r[d+2]}}else if(0==P)for(u=f.tabs.tRNS?f.tabs.tRNS:-1,v=0;v<n;v++){const I=v*M,Z=v*i;if(1==F)for(var a=0;a<i;a++){var Q=(U=255*(r[I+(a>>>3)]>>>7-(7&a)&1))==255*u?0:255;O[Z+a]=Q<<24|U<<16|U<<8|U}else if(2==F)for(a=0;a<i;a++)Q=(U=85*(r[I+(a>>>2)]>>>6-((3&a)<<1)&3))==85*u?0:255,O[Z+a]=Q<<24|U<<16|U<<8|U;else if(4==F)for(a=0;a<i;a++)Q=(U=17*(r[I+(a>>>1)]>>>4-((1&a)<<2)&15))==17*u?0:255,O[Z+a]=Q<<24|U<<16|U<<8|U;else if(8==F)for(a=0;a<i;a++)Q=(U=r[I+a])==u?0:255,O[Z+a]=Q<<24|U<<16|U<<8|U;else if(16==F)for(a=0;a<i;a++)U=r[I+(a<<1)],Q=k(r,I+(a<<1))==u?0:255,O[Z+a]=Q<<24|U<<16|U<<8|U}return y}function B(r,i,n,f){const p=t(r),E=Math.ceil(n*p/8),M=new Uint8Array((E+1+r.interlace)*f);return i=r.tabs.CgBI?e(i,M):o(i,M),0==r.interlace?i=s(i,r,0,n,f):1==r.interlace&&(i=function(O,P){const F=P.width,k=P.height,h=t(P),R=h>>3,u=Math.ceil(F*h/8),c=new Uint8Array(k*u);let v=0;const _=[0,0,4,0,2,0,1],w=[0,4,0,2,0,1,0],C=[8,8,8,4,4,2,2],A=[8,8,4,4,2,2,1];let U=0;for(;U<7;){const a=C[U],Q=A[U];let I=0,Z=0,D=_[U];for(;D<k;)D+=a,Z++;let N=w[U];for(;N<F;)N+=Q,I++;const H=Math.ceil(I*h/8);s(O,P,v,I,Z);let z=0,S=_[U];for(;S<k;){let L=w[U],Y=v+z*H<<3;for(;L<F;){var d;if(1==h&&(d=(d=O[Y>>3])>>7-(7&Y)&1,c[S*u+(L>>3)]|=d<<7-((7&L)<<0)),2==h&&(d=(d=O[Y>>3])>>6-(7&Y)&3,c[S*u+(L>>2)]|=d<<6-((3&L)<<1)),4==h&&(d=(d=O[Y>>3])>>4-(7&Y)&15,c[S*u+(L>>1)]|=d<<4-((1&L)<<2)),h>=8){const q=S*u+L*R;for(let G=0;G<R;G++)c[q+G]=O[(Y>>3)+G]}Y+=h,L+=Q}z++,S+=a}I*Z!=0&&(v+=Z*(1+H)),U+=1}return c}(i,r)),i}function o(r,i){return e(new Uint8Array(r.buffer,2,r.length-6),i)}var e=function(){const r={H:{}};return r.H.N=function(i,n){const f=Uint8Array;let p,E,M=0,y=0,O=0,P=0,F=0,k=0,h=0,R=0,u=0;if(3==i[0]&&0==i[1])return n||new f(0);const c=r.H,v=c.b,_=c.e,w=c.R,C=c.n,A=c.A,U=c.Z,d=c.m,a=null==n;for(a&&(n=new f(i.length>>>2<<5));0==M;)if(M=v(i,u,1),y=v(i,u+1,2),u+=3,0!=y){if(a&&(n=r.H.W(n,R+(1<<17))),1==y&&(p=d.J,E=d.h,k=511,h=31),2==y){O=_(i,u,5)+257,P=_(i,u+5,5)+1,F=_(i,u+10,4)+4,u+=14;let I=1;for(var Q=0;Q<38;Q+=2)d.Q[Q]=0,d.Q[Q+1]=0;for(Q=0;Q<F;Q++){const N=_(i,u+3*Q,3);d.Q[1+(d.X[Q]<<1)]=N,N>I&&(I=N)}u+=3*F,C(d.Q,I),A(d.Q,I,d.u),p=d.w,E=d.d,u=w(d.u,(1<<I)-1,O+P,i,u,d.v);const Z=c.V(d.v,0,O,d.C);k=(1<<Z)-1;const D=c.V(d.v,O,P,d.D);h=(1<<D)-1,C(d.C,Z),A(d.C,Z,p),C(d.D,D),A(d.D,D,E)}for(;;){const I=p[U(i,u)&k];u+=15&I;const Z=I>>>4;if(Z>>>8){if(256==Z)break;{let D=R+Z-254;if(Z>264){const L=d.q[Z-257];D=R+(L>>>3)+_(i,u,7&L),u+=7&L}const N=E[U(i,u)&h];u+=15&N;const z=d.c[N>>>4],S=(z>>>4)+v(i,u,15&z);for(u+=15&z;R<D;)n[R]=n[R++-S],n[R]=n[R++-S],n[R]=n[R++-S],n[R]=n[R++-S];R=D}}else n[R++]=Z}}else{7&u&&(u+=8-(7&u));const I=4+(u>>>3),Z=i[I-4]|i[I-3]<<8;a&&(n=r.H.W(n,R+Z)),n.set(new f(i.buffer,i.byteOffset+I,Z),R),u=I+Z<<3,R+=Z}return n.length==R?n:n.slice(0,R)},r.H.W=function(i,n){const f=i.length;if(n<=f)return i;const p=new Uint8Array(f<<1);return p.set(i,0),p},r.H.R=function(i,n,f,p,E,M){const y=r.H.e,O=r.H.Z;let P=0;for(;P<f;){const F=i[O(p,E)&n];E+=15&F;const k=F>>>4;if(k<=15)M[P]=k,P++;else{let h=0,R=0;16==k?(R=3+y(p,E,2),E+=2,h=M[P-1]):17==k?(R=3+y(p,E,3),E+=3):18==k&&(R=11+y(p,E,7),E+=7);const u=P+R;for(;P<u;)M[P]=h,P++}}return E},r.H.V=function(i,n,f,p){let E=0,M=0;const y=p.length>>>1;for(;M<f;){const O=i[M+n];p[M<<1]=0,p[1+(M<<1)]=O,O>E&&(E=O),M++}for(;M<y;)p[M<<1]=0,p[1+(M<<1)]=0,M++;return E},r.H.n=function(i,n){const f=r.H.m,p=i.length;let E,M,y,O;const P=f.j;for(var F=0;F<=n;F++)P[F]=0;for(F=1;F<p;F+=2)P[i[F]]++;const k=f.K;for(E=0,P[0]=0,M=1;M<=n;M++)E=E+P[M-1]<<1,k[M]=E;for(y=0;y<p;y+=2)O=i[y+1],0!=O&&(i[y]=k[O],k[O]++)},r.H.A=function(i,n,f){const p=i.length,E=r.H.m.r;for(let M=0;M<p;M+=2)if(0!=i[M+1]){const O=i[M+1],P=M>>1<<4|O,F=n-O;let k=i[M]<<F;const h=k+(1<<F);for(;k!=h;)f[E[k]>>>15-n]=P,k++}},r.H.l=function(i,n){const f=r.H.m.r,p=15-n;for(let E=0;E<i.length;E+=2)i[E]=f[i[E]<<n-i[E+1]]>>>p},r.H.M=function(i,n,f){const p=n>>>3;i[p]|=f<<=7&n,i[p+1]|=f>>>8},r.H.I=function(i,n,f){const p=n>>>3;i[p]|=f<<=7&n,i[p+1]|=f>>>8,i[p+2]|=f>>>16},r.H.e=function(i,n,f){return(i[n>>>3]|i[1+(n>>>3)]<<8)>>>(7&n)&(1<<f)-1},r.H.b=function(i,n,f){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)&(1<<f)-1},r.H.Z=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)},r.H.i=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16|i[3+(n>>>3)]<<24)>>>(7&n)},r.H.m=function(){const i=Uint16Array,n=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new i(65536),g:new i(32768)}}(),function(){const i=r.H.m;for(var n=0;n<32768;n++){let p=n;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,i.r[n]=(p>>>16|p<<16)>>>17}function f(p,E,M){for(;0!=E--;)p.push(0,M)}for(n=0;n<32;n++)i.q[n]=i.S[n]<<3|i.T[n],i.c[n]=i.p[n]<<4|i.z[n];f(i._,144,8),f(i._,112,9),f(i._,24,7),f(i._,8,8),r.H.n(i._,9),r.H.A(i._,9,i.J),r.H.l(i._,9),f(i.$,32,5),r.H.n(i.$,5),r.H.A(i.$,5,i.h),r.H.l(i.$,5),f(i.Q,19,0),f(i.C,286,0),f(i.D,30,0),f(i.v,320,0)}(),r.H.N}();function t(r){return[1,null,3,1,2,null,4][r.ctype]*r.depth}function s(r,i,n,f,p){let E=t(i);const M=Math.ceil(f*E/8);let y,O;E=Math.ceil(E/8);let P=r[n],F=0;if(P>1&&(r[n]=[0,0,1][P-2]),3==P)for(F=E;F<M;F++)r[F+1]=r[F+1]+(r[F+1-E]>>>1)&255;for(let k=0;k<p;k++)if(y=n+k*M,O=y+k+1,P=r[O-1],F=0,0==P)for(;F<M;F++)r[y+F]=r[O+F];else if(1==P){for(;F<E;F++)r[y+F]=r[O+F];for(;F<M;F++)r[y+F]=r[O+F]+r[y+F-E]}else if(2==P)for(;F<M;F++)r[y+F]=r[O+F]+r[y+F-M];else if(3==P){for(;F<E;F++)r[y+F]=r[O+F]+(r[y+F-M]>>>1);for(;F<M;F++)r[y+F]=r[O+F]+(r[y+F-M]+r[y+F-E]>>>1)}else{for(;F<E;F++)r[y+F]=r[O+F]+l(0,r[y+F-M],0);for(;F<M;F++)r[y+F]=r[O+F]+l(r[y+F-E],r[y+F-M],r[y+F-E-M])}return r}function l(r,i,n){const f=r+i-n,p=f-r,E=f-i,M=f-n;return p*p<=E*E&&p*p<=M*M?r:E*E<=M*M?i:n}function g(r,i,n){n.width=x.readUint(r,i),n.height=x.readUint(r,i+=4),n.depth=r[i+=4],i++,n.ctype=r[i],i++,n.compress=r[i],i++,n.filter=r[i],i++,n.interlace=r[i],i++}function b(r,i,n,f,p,E,M,y,O){const P=Math.min(i,p),F=Math.min(n,E);let k=0,h=0;for(let U=0;U<F;U++)for(let d=0;d<P;d++)if(M>=0&&y>=0?(k=U*i+d<<2,h=(y+U)*p+M+d<<2):(k=(-y+U)*i-M+d<<2,h=U*p+d<<2),0==O)f[h]=r[k],f[h+1]=r[k+1],f[h+2]=r[k+2],f[h+3]=r[k+3];else if(1==O){var R=.00392156862745098*r[k+3],u=r[k]*R,c=r[k+1]*R,v=r[k+2]*R,_=f[h+3]*(1/255),w=f[h]*_,C=f[h+1]*_,A=f[h+2]*_;const a=1-R,Q=R+_*a,I=0==Q?0:1/Q;f[h+3]=255*Q,f[h+0]=(u+w*a)*I,f[h+1]=(c+C*a)*I,f[h+2]=(v+A*a)*I}else if(2==O)u=r[k],c=r[k+1],v=r[k+2],w=f[h],C=f[h+1],A=f[h+2],(R=r[k+3])==(_=f[h+3])&&u==w&&c==C&&v==A?(f[h]=0,f[h+1]=0,f[h+2]=0,f[h+3]=0):(f[h]=u,f[h+1]=c,f[h+2]=v,f[h+3]=R);else if(3==O){if(u=r[k],c=r[k+1],v=r[k+2],w=f[h],C=f[h+1],A=f[h+2],(R=r[k+3])==(_=f[h+3])&&u==w&&c==C&&v==A)continue;if(R<220&&_>20)return!1}return!0}return{decode:function(i){const n=new Uint8Array(i);let f=8;const p=x,E=p.readUshort,M=p.readUint,y={tabs:{},frames:[]},O=new Uint8Array(n.length);let P,F=0,k=0;const h=[137,80,78,71,13,10,26,10];for(var R=0;R<8;R++)if(n[R]!=h[R])throw"The input is not a PNG file!";for(;f<n.length;){const U=p.readUint(n,f);f+=4;const d=p.readASCII(n,f,4);if(f+=4,"IHDR"==d)g(n,f,y);else if("iCCP"==d){for(var u=f;0!=n[u];)u++;p.readASCII(n,f,u-f);const a=n.slice(u+2,f+U);let Q=null;try{Q=o(a)}catch{Q=e(a)}y.tabs[d]=Q}else if("CgBI"==d)y.tabs[d]=n.slice(f,f+4);else if("IDAT"==d){for(R=0;R<U;R++)O[F+R]=n[f+R];F+=U}else if("acTL"==d)y.tabs[d]={num_frames:M(n,f),num_plays:M(n,f+4)},P=new Uint8Array(n.length);else if("fcTL"==d){0!=k&&((A=y.frames[y.frames.length-1]).data=B(y,P.slice(0,k),A.rect.width,A.rect.height),k=0);const a={x:M(n,f+12),y:M(n,f+16),width:M(n,f+4),height:M(n,f+8)};let Q=E(n,f+22);Q=E(n,f+20)/(0==Q?100:Q);const I={rect:a,delay:Math.round(1e3*Q),dispose:n[f+24],blend:n[f+25]};y.frames.push(I)}else if("fdAT"==d){for(R=0;R<U-4;R++)P[k+R]=n[f+R+4];k+=U-4}else if("pHYs"==d)y.tabs[d]=[p.readUint(n,f),p.readUint(n,f+4),n[f+8]];else if("cHRM"==d)for(y.tabs[d]=[],R=0;R<8;R++)y.tabs[d].push(p.readUint(n,f+4*R));else if("tEXt"==d||"zTXt"==d){null==y.tabs[d]&&(y.tabs[d]={});var c=p.nextZero(n,f),v=p.readASCII(n,f,c-f),_=f+U-c-1;if("tEXt"==d)C=p.readASCII(n,c+1,_);else{var w=o(n.slice(c+2,c+2+_));C=p.readUTF8(w,0,w.length)}y.tabs[d][v]=C}else if("iTXt"==d){null==y.tabs[d]&&(y.tabs[d]={}),c=0,c=p.nextZero(n,u=f),v=p.readASCII(n,u,c-u);const a=n[u=c+1];var C;c=p.nextZero(n,u+=2),p.readASCII(n,u,c-u),c=p.nextZero(n,u=c+1),p.readUTF8(n,u,c-u),_=U-((u=c+1)-f),0==a?C=p.readUTF8(n,u,_):(w=o(n.slice(u,u+_)),C=p.readUTF8(w,0,w.length)),y.tabs[d][v]=C}else if("PLTE"==d)y.tabs[d]=p.readBytes(n,f,U);else if("hIST"==d){const a=y.tabs.PLTE.length/3;for(y.tabs[d]=[],R=0;R<a;R++)y.tabs[d].push(E(n,f+2*R))}else if("tRNS"==d)3==y.ctype?y.tabs[d]=p.readBytes(n,f,U):0==y.ctype?y.tabs[d]=E(n,f):2==y.ctype&&(y.tabs[d]=[E(n,f),E(n,f+2),E(n,f+4)]);else if("gAMA"==d)y.tabs[d]=p.readUint(n,f)/1e5;else if("sRGB"==d)y.tabs[d]=n[f];else if("bKGD"==d)0==y.ctype||4==y.ctype?y.tabs[d]=[E(n,f)]:2==y.ctype||6==y.ctype?y.tabs[d]=[E(n,f),E(n,f+2),E(n,f+4)]:3==y.ctype&&(y.tabs[d]=n[f]);else if("IEND"==d)break;f+=U,p.readUint(n,f),f+=4}var A;return 0!=k&&((A=y.frames[y.frames.length-1]).data=B(y,P.slice(0,k),A.rect.width,A.rect.height)),y.data=B(y,O,y.width,y.height),delete y.compress,delete y.interlace,delete y.filter,y},toRGBA8:function(i){const n=i.width,f=i.height;if(null==i.tabs.acTL)return[T(i.data,n,f,i).buffer];const p=[];null==i.frames[0].data&&(i.frames[0].data=i.data);const E=n*f*4,M=new Uint8Array(E),y=new Uint8Array(E),O=new Uint8Array(E);for(let F=0;F<i.frames.length;F++){const k=i.frames[F],h=k.rect.x,R=k.rect.y,u=k.rect.width,c=k.rect.height,v=T(k.data,u,c,i);if(0!=F)for(var P=0;P<E;P++)O[P]=M[P];if(0==k.blend?b(v,u,c,M,n,f,h,R,0):1==k.blend&&b(v,u,c,M,n,f,h,R,1),p.push(M.buffer.slice(0)),0!=k.dispose)if(1==k.dispose)b(y,u,c,M,n,f,h,R,0);else if(2==k.dispose)for(P=0;P<E;P++)M[P]=O[P]}return p},_paeth:l,_copyTile:b,_bin:x}}();!function(){const{_copyTile:x}=me,{_bin:T}=me,B=me._paeth;var o={table:function(){const u=new Uint32Array(256);for(let c=0;c<256;c++){let v=c;for(let _=0;_<8;_++)1&v?v=3988292384^v>>>1:v>>>=1;u[c]=v}return u}(),update(u,c,v,_){for(let w=0;w<_;w++)u=o.table[255&(u^c[v+w])]^u>>>8;return u},crc:(u,c,v)=>4294967295^o.update(4294967295,u,c,v)};function e(u,c,v,_){c[v]+=u[0]*_>>4,c[v+1]+=u[1]*_>>4,c[v+2]+=u[2]*_>>4,c[v+3]+=u[3]*_>>4}function t(u){return Math.max(0,Math.min(255,u))}function s(u,c){const v=u[0]-c[0],_=u[1]-c[1],w=u[2]-c[2],C=u[3]-c[3];return v*v+_*_+w*w+C*C}function l(u,c,v,_,w,C,A){null==A&&(A=1);const U=_.length,d=[];for(var a=0;a<U;a++){const S=_[a];d.push([S>>>0&255,S>>>8&255,S>>>16&255,S>>>24&255])}for(a=0;a<U;a++){let S=4294967295;for(var Q=0,I=0;I<U;I++){var Z=s(d[a],d[I]);I!=a&&Z<S&&(S=Z,Q=I)}}const D=new Uint32Array(w.buffer),N=new Int16Array(c*v*4),H=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(a=0;a<H.length;a++)H[a]=255*((H[a]+.5)/16-.5);for(let S=0;S<v;S++)for(let L=0;L<c;L++){var z;a=4*(S*c+L),z=2!=A?[t(u[a]+N[a]),t(u[a+1]+N[a+1]),t(u[a+2]+N[a+2]),t(u[a+3]+N[a+3])]:[t(u[a]+(Z=H[4*(3&S)+(3&L)])),t(u[a+1]+Z),t(u[a+2]+Z),t(u[a+3]+Z)],Q=0;let Y=16777215;for(I=0;I<U;I++){const W=s(z,d[I]);W<Y&&(Y=W,Q=I)}const q=d[Q],G=[z[0]-q[0],z[1]-q[1],z[2]-q[2],z[3]-q[3]];1==A&&(L!=c-1&&e(G,N,a+4,7),S!=v-1&&(0!=L&&e(G,N,a+4*c-4,3),e(G,N,a+4*c,5),L!=c-1&&e(G,N,a+4*c+4,1))),C[a>>2]=Q,D[a>>2]=_[Q]}}function g(u,c,v,_,w){null==w&&(w={});const{crc:C}=o,A=T.writeUint,U=T.writeUshort,d=T.writeASCII;let a=8;const Q=u.frames.length>1;let I,Z=!1,D=33+(Q?20:0);if(null!=w.sRGB&&(D+=13),null!=w.pHYs&&(D+=21),null!=w.iCCP&&(I=pako.deflate(w.iCCP),D+=21+I.length+4),3==u.ctype){for(var N=u.plte.length,H=0;H<N;H++)u.plte[H]>>>24!=255&&(Z=!0);D+=8+3*N+4+(Z?8+1*N+4:0)}for(var z=0;z<u.frames.length;z++)Q&&(D+=38),D+=(q=u.frames[z]).cimg.length+12,0!=z&&(D+=4);D+=12;const S=new Uint8Array(D),L=[137,80,78,71,13,10,26,10];for(H=0;H<8;H++)S[H]=L[H];if(A(S,a,13),a+=4,d(S,a,"IHDR"),a+=4,A(S,a,c),a+=4,A(S,a,v),a+=4,S[a]=u.depth,a++,S[a]=u.ctype,a++,S[a]=0,a++,S[a]=0,a++,S[a]=0,a++,A(S,a,C(S,a-17,17)),a+=4,null!=w.sRGB&&(A(S,a,1),a+=4,d(S,a,"sRGB"),a+=4,S[a]=w.sRGB,a++,A(S,a,C(S,a-5,5)),a+=4),null!=w.iCCP){const G=13+I.length;A(S,a,G),a+=4,d(S,a,"iCCP"),a+=4,d(S,a,"ICC profile"),a+=11,a+=2,S.set(I,a),a+=I.length,A(S,a,C(S,a-(G+4),G+4)),a+=4}if(null!=w.pHYs&&(A(S,a,9),a+=4,d(S,a,"pHYs"),a+=4,A(S,a,w.pHYs[0]),a+=4,A(S,a,w.pHYs[1]),a+=4,S[a]=w.pHYs[2],a++,A(S,a,C(S,a-13,13)),a+=4),Q&&(A(S,a,8),a+=4,d(S,a,"acTL"),a+=4,A(S,a,u.frames.length),a+=4,A(S,a,null!=w.loop?w.loop:0),a+=4,A(S,a,C(S,a-12,12)),a+=4),3==u.ctype){for(A(S,a,3*(N=u.plte.length)),a+=4,d(S,a,"PLTE"),a+=4,H=0;H<N;H++){const G=3*H,W=u.plte[H],ne=W>>>8&255,Ce=W>>>16&255;S[a+G+0]=255&W,S[a+G+1]=ne,S[a+G+2]=Ce}if(a+=3*N,A(S,a,C(S,a-3*N-4,3*N+4)),a+=4,Z){for(A(S,a,N),a+=4,d(S,a,"tRNS"),a+=4,H=0;H<N;H++)S[a+H]=u.plte[H]>>>24&255;a+=N,A(S,a,C(S,a-N-4,N+4)),a+=4}}let Y=0;for(z=0;z<u.frames.length;z++){var q=u.frames[z];Q&&(A(S,a,26),a+=4,d(S,a,"fcTL"),a+=4,A(S,a,Y++),a+=4,A(S,a,q.rect.width),a+=4,A(S,a,q.rect.height),a+=4,A(S,a,q.rect.x),a+=4,A(S,a,q.rect.y),a+=4,U(S,a,_[z]),a+=2,U(S,a,1e3),a+=2,S[a]=q.dispose,a++,S[a]=q.blend,a++,A(S,a,C(S,a-30,30)),a+=4);const G=q.cimg;A(S,a,(N=G.length)+(0==z?0:4)),a+=4;const W=a;d(S,a,0==z?"IDAT":"fdAT"),a+=4,0!=z&&(A(S,a,Y++),a+=4),S.set(G,a),a+=N,A(S,a,C(S,W,a-W)),a+=4}return A(S,a,0),a+=4,d(S,a,"IEND"),a+=4,A(S,a,C(S,a-4,4)),a+=4,S.buffer}function b(u,c,v){for(let _=0;_<u.frames.length;_++){const w=u.frames[_],C=w.rect.height,A=new Uint8Array(C*w.bpl+C);w.cimg=f(w.img,C,w.bpp,w.bpl,A,c,v)}}function r(u,c,v,_,w){const C=w[0],A=w[1],U=w[2],d=w[3],a=w[4],Q=w[5];let I=6,Z=8,D=255;for(var N=0;N<u.length;N++){const ie=new Uint8Array(u[N]);for(var H=ie.length,z=0;z<H;z+=4)D&=ie[z+3]}const S=255!=D,L=function(K,J,re,le,V,ue){const ee=[];for(var j=0;j<K.length;j++){const fe=new Uint8Array(K[j]),he=new Uint32Array(fe.buffer);var de;let pe=0,ye=0,ve=J,Ie=re,Xe=le?1:0;if(0!=j){const $t=ue||le||1==j||0!=ee[j-2].dispose?1:2;let Ve=0,yt=1e9;for(let Me=0;Me<$t;Me++){var we=new Uint8Array(K[j-1-Me]);const Xt=new Uint32Array(K[j-1-Me]);let be=J,_e=re,Be=-1,Se=-1;for(let Ue=0;Ue<re;Ue++)for(let Te=0;Te<J;Te++)he[se=Ue*J+Te]!=Xt[se]&&(Te<be&&(be=Te),Te>Be&&(Be=Te),Ue<_e&&(_e=Ue),Ue>Se&&(Se=Ue));-1==Be&&(be=_e=Be=Se=0),V&&(1==(1&be)&&be--,1==(1&_e)&&_e--);const wt=(Be-be+1)*(Se-_e+1);wt<yt&&(yt=wt,Ve=Me,pe=be,ye=_e,ve=Be-be+1,Ie=Se-_e+1)}we=new Uint8Array(K[j-1-Ve]),1==Ve&&(ee[j-1].dispose=2),de=new Uint8Array(ve*Ie*4),x(we,J,re,de,ve,Ie,-pe,-ye,0),Xe=x(fe,J,re,de,ve,Ie,-pe,-ye,3)?1:0,1==Xe?n(fe,J,re,de,{x:pe,y:ye,width:ve,height:Ie}):x(fe,J,re,de,ve,Ie,-pe,-ye,0)}else de=fe.slice(0);ee.push({rect:{x:pe,y:ye,width:ve,height:Ie},img:de,blend:Xe,dispose:0})}if(le)for(j=0;j<ee.length;j++){if(1==(Ee=ee[j]).blend)continue;const fe=Ee.rect,he=ee[j-1].rect,pe=Math.min(fe.x,he.x),ye=Math.min(fe.y,he.y),ve={x:pe,y:ye,width:Math.max(fe.x+fe.width,he.x+he.width)-pe,height:Math.max(fe.y+fe.height,he.y+he.height)-ye};ee[j-1].dispose=1,j-1!=0&&i(K,J,re,ee,j-1,ve,V),i(K,J,re,ee,j,ve,V)}let De=0;if(1!=K.length)for(var se=0;se<ee.length;se++){var Ee;De+=(Ee=ee[se]).rect.width*Ee.rect.height}return ee}(u,c,v,C,A,U),Y={},q=[],G=[];if(0!=_){const ie=[];for(z=0;z<L.length;z++)ie.push(L[z].img.buffer);const J=E(function(V){let ue=0;for(var ee=0;ee<V.length;ee++)ue+=V[ee].byteLength;const j=new Uint8Array(ue);let de=0;for(ee=0;ee<V.length;ee++){const we=new Uint8Array(V[ee]),De=we.length;for(let se=0;se<De;se+=4){let Ee=we[se],fe=we[se+1],he=we[se+2];const pe=we[se+3];0==pe&&(Ee=fe=he=0),j[de+se]=Ee,j[de+se+1]=fe,j[de+se+2]=he,j[de+se+3]=pe}de+=De}return j.buffer}(ie),_);for(z=0;z<J.plte.length;z++)q.push(J.plte[z].est.rgba);let re=0;for(z=0;z<L.length;z++){const le=(X=L[z]).img.length;var W=new Uint8Array(J.inds.buffer,re>>2,le>>2);G.push(W);const V=new Uint8Array(J.abuf,re,le);Q&&l(X.img,X.rect.width,X.rect.height,q,V,W),X.img.set(V),re+=le}}else for(N=0;N<L.length;N++){var X=L[N];const ie=new Uint32Array(X.img.buffer);var ne=X.rect.width;for(H=ie.length,W=new Uint8Array(H),G.push(W),z=0;z<H;z++){const K=ie[z];if(0!=z&&K==ie[z-1])W[z]=W[z-1];else if(z>ne&&K==ie[z-ne])W[z]=W[z-ne];else{let J=Y[K];if(null==J&&(Y[K]=J=q.length,q.push(K),q.length>=300))break;W[z]=J}}}const Ce=q.length;for(Ce<=256&&0==a&&(Z=Ce<=2?1:Ce<=4?2:Ce<=16?4:8,Z=Math.max(Z,d)),N=0;N<L.length;N++){ne=(X=L[N]).rect.width;const ie=X.rect.height;let K=X.img;new Uint32Array(K.buffer);let J=4*ne,re=4;if(Ce<=256&&0==a){J=Math.ceil(Z*ne/8);var Ae=new Uint8Array(J*ie);const le=G[N];for(let V=0;V<ie;V++){z=V*J;const ue=V*ne;if(8==Z)for(var $=0;$<ne;$++)Ae[z+$]=le[ue+$];else if(4==Z)for($=0;$<ne;$++)Ae[z+($>>1)]|=le[ue+$]<<4-4*(1&$);else if(2==Z)for($=0;$<ne;$++)Ae[z+($>>2)]|=le[ue+$]<<6-2*(3&$);else if(1==Z)for($=0;$<ne;$++)Ae[z+($>>3)]|=le[ue+$]<<7-1*(7&$)}K=Ae,I=3,re=1}else if(0==S&&1==L.length){Ae=new Uint8Array(ne*ie*3);const le=ne*ie;for(z=0;z<le;z++){const V=3*z,ue=4*z;Ae[V]=K[ue],Ae[V+1]=K[ue+1],Ae[V+2]=K[ue+2]}K=Ae,I=2,re=3,J=3*ne}X.img=K,X.bpl=J,X.bpp=re}return{ctype:I,depth:Z,plte:q,frames:L}}function i(u,c,v,_,w,C,A){const U=Uint8Array,d=Uint32Array,a=new U(u[w-1]),Q=new d(u[w-1]),I=w+1<u.length?new U(u[w+1]):null,Z=new U(u[w]),D=new d(Z.buffer);let N=c,H=v,z=-1,S=-1;for(let Y=0;Y<C.height;Y++)for(let q=0;q<C.width;q++){const G=C.x+q,W=C.y+Y,X=W*c+G,ne=D[X];0==ne||0==_[w-1].dispose&&Q[X]==ne&&(null==I||0!=I[4*X+3])||(G<N&&(N=G),G>z&&(z=G),W<H&&(H=W),W>S&&(S=W))}-1==z&&(N=H=z=S=0),A&&(1==(1&N)&&N--,1==(1&H)&&H--);const L=_[w];L.rect=C={x:N,y:H,width:z-N+1,height:S-H+1},L.blend=1,L.img=new Uint8Array(C.width*C.height*4),0==_[w-1].dispose?(x(a,c,v,L.img,C.width,C.height,-C.x,-C.y,0),n(Z,c,v,L.img,C)):x(Z,c,v,L.img,C.width,C.height,-C.x,-C.y,0)}function n(u,c,v,_,w){x(u,c,v,_,w.width,w.height,-w.x,-w.y,2)}function f(u,c,v,_,w,C,A){const U=[];let d,a=[0,1,2,3,4];-1!=C?a=[C]:(c*_>5e5||1==v)&&(a=[0]),A&&(d={level:0});const Q=Et;for(var I=0;I<a.length;I++){for(let N=0;N<c;N++)p(w,u,N,_,v,a[I]);U.push(Q.deflate(w,d))}let Z,D=1e9;for(I=0;I<U.length;I++)U[I].length<D&&(Z=I,D=U[I].length);return U[Z]}function p(u,c,v,_,w,C){const A=v*_;let U=A+v;if(u[U]=C,U++,0==C)if(_<500)for(var d=0;d<_;d++)u[U+d]=c[A+d];else u.set(new Uint8Array(c.buffer,A,_),U);else if(1==C){for(d=0;d<w;d++)u[U+d]=c[A+d];for(d=w;d<_;d++)u[U+d]=c[A+d]-c[A+d-w]+256&255}else if(0==v){for(d=0;d<w;d++)u[U+d]=c[A+d];if(2==C)for(d=w;d<_;d++)u[U+d]=c[A+d];if(3==C)for(d=w;d<_;d++)u[U+d]=c[A+d]-(c[A+d-w]>>1)+256&255;if(4==C)for(d=w;d<_;d++)u[U+d]=c[A+d]-B(c[A+d-w],0,0)+256&255}else{if(2==C)for(d=0;d<_;d++)u[U+d]=c[A+d]+256-c[A+d-_]&255;if(3==C){for(d=0;d<w;d++)u[U+d]=c[A+d]+256-(c[A+d-_]>>1)&255;for(d=w;d<_;d++)u[U+d]=c[A+d]+256-(c[A+d-_]+c[A+d-w]>>1)&255}if(4==C){for(d=0;d<w;d++)u[U+d]=c[A+d]+256-B(0,c[A+d-_],0)&255;for(d=w;d<_;d++)u[U+d]=c[A+d]+256-B(c[A+d-w],c[A+d-_],c[A+d-w-_])&255}}}function E(u,c){const v=new Uint8Array(u),_=v.slice(0),w=new Uint32Array(_.buffer),C=M(_,c),A=C[0],U=C[1],d=v.length,a=new Uint8Array(d>>2);let Q;if(v.length<2e7)for(var I=0;I<d;I+=4)Q=y(A,Z=v[I]*(1/255),D=v[I+1]*(1/255),N=v[I+2]*(1/255),H=v[I+3]*(1/255)),a[I>>2]=Q.ind,w[I>>2]=Q.est.rgba;else for(I=0;I<d;I+=4){var Z=.00392156862745098*v[I],D=v[I+1]*(1/255),N=v[I+2]*(1/255),H=v[I+3]*(1/255);for(Q=A;Q.left;)Q=O(Q.est,Z,D,N,H)<=0?Q.left:Q.right;a[I>>2]=Q.ind,w[I>>2]=Q.est.rgba}return{abuf:_.buffer,inds:a,plte:U}}function M(u,c,v){null==v&&(v=1e-4);const _=new Uint32Array(u.buffer),w={i0:0,i1:u.length,bst:null,est:null,tdst:0,left:null,right:null};w.bst=k(u,w.i0,w.i1),w.est=h(w.bst);const C=[w];for(;C.length<c;){let U=0,d=0;for(var A=0;A<C.length;A++)C[A].est.L>U&&(U=C[A].est.L,d=A);if(U<v)break;const a=C[d],Q=P(u,_,a.i0,a.i1,a.est.e,a.est.eMq255);if(a.i0>=Q||a.i1<=Q){a.est.L=0;continue}const I={i0:a.i0,i1:Q,bst:null,est:null,tdst:0,left:null,right:null};I.bst=k(u,I.i0,I.i1),I.est=h(I.bst);const Z={i0:Q,i1:a.i1,bst:null,est:null,tdst:0,left:null,right:null};for(Z.bst={R:[],m:[],N:a.bst.N-I.bst.N},A=0;A<16;A++)Z.bst.R[A]=a.bst.R[A]-I.bst.R[A];for(A=0;A<4;A++)Z.bst.m[A]=a.bst.m[A]-I.bst.m[A];Z.est=h(Z.bst),a.left=I,a.right=Z,C[d]=I,C.push(Z)}for(C.sort((U,d)=>d.bst.N-U.bst.N),A=0;A<C.length;A++)C[A].ind=A;return[w,C]}function y(u,c,v,_,w){if(null==u.left)return u.tdst=function(I,Z,D,N,H){const z=Z-I[0],S=D-I[1],L=N-I[2],Y=H-I[3];return z*z+S*S+L*L+Y*Y}(u.est.q,c,v,_,w),u;const C=O(u.est,c,v,_,w);let A=u.left,U=u.right;C>0&&(A=u.right,U=u.left);const d=y(A,c,v,_,w);if(d.tdst<=C*C)return d;const a=y(U,c,v,_,w);return a.tdst<d.tdst?a:d}function O(u,c,v,_,w){const{e:C}=u;return C[0]*c+C[1]*v+C[2]*_+C[3]*w-u.eMq}function P(u,c,v,_,w,C){for(_-=4;v<_;){for(;F(u,v,w)<=C;)v+=4;for(;F(u,_,w)>C;)_-=4;if(v>=_)break;const A=c[v>>2];c[v>>2]=c[_>>2],c[_>>2]=A,v+=4,_-=4}for(;F(u,v,w)>C;)v-=4;return v+4}function F(u,c,v){return u[c]*v[0]+u[c+1]*v[1]+u[c+2]*v[2]+u[c+3]*v[3]}function k(u,c,v){const _=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=[0,0,0,0],C=v-c>>2;for(let A=c;A<v;A+=4){const U=.00392156862745098*u[A],d=u[A+1]*(1/255),a=u[A+2]*(1/255),Q=u[A+3]*(1/255);w[0]+=U,w[1]+=d,w[2]+=a,w[3]+=Q,_[0]+=U*U,_[1]+=U*d,_[2]+=U*a,_[3]+=U*Q,_[5]+=d*d,_[6]+=d*a,_[7]+=d*Q,_[10]+=a*a,_[11]+=a*Q,_[15]+=Q*Q}return _[4]=_[1],_[8]=_[2],_[9]=_[6],_[12]=_[3],_[13]=_[7],_[14]=_[11],{R:_,m:w,N:C}}function h(u){const{R:c}=u,{m:v}=u,{N:_}=u,w=v[0],C=v[1],A=v[2],U=v[3],d=0==_?0:1/_,a=[c[0]-w*w*d,c[1]-w*C*d,c[2]-w*A*d,c[3]-w*U*d,c[4]-C*w*d,c[5]-C*C*d,c[6]-C*A*d,c[7]-C*U*d,c[8]-A*w*d,c[9]-A*C*d,c[10]-A*A*d,c[11]-A*U*d,c[12]-U*w*d,c[13]-U*C*d,c[14]-U*A*d,c[15]-U*U*d],Q=a,I=R;let Z=[Math.random(),Math.random(),Math.random(),Math.random()],D=0,N=0;if(0!=_)for(let z=0;z<16&&(Z=I.multVec(Q,Z),N=Math.sqrt(I.dot(Z,Z)),Z=I.sml(1/N,Z),!(0!=z&&Math.abs(N-D)<1e-9));z++)D=N;const H=[w*d,C*d,A*d,U*d];return{Cov:a,q:H,e:Z,L:D,eMq255:I.dot(I.sml(255,H),Z),eMq:I.dot(Z,H),rgba:(Math.round(255*H[3])<<24|Math.round(255*H[2])<<16|Math.round(255*H[1])<<8|Math.round(255*H[0])<<0)>>>0}}var R={multVec:(u,c)=>[u[0]*c[0]+u[1]*c[1]+u[2]*c[2]+u[3]*c[3],u[4]*c[0]+u[5]*c[1]+u[6]*c[2]+u[7]*c[3],u[8]*c[0]+u[9]*c[1]+u[10]*c[2]+u[11]*c[3],u[12]*c[0]+u[13]*c[1]+u[14]*c[2]+u[15]*c[3]],dot:(u,c)=>u[0]*c[0]+u[1]*c[1]+u[2]*c[2]+u[3]*c[3],sml:(u,c)=>[u*c[0],u*c[1],u*c[2],u*c[3]]};me.encode=function(c,v,_,w,C,A,U){null==w&&(w=0),null==U&&(U=!1);const d=r(c,v,_,w,[!1,!1,!1,0,U,!1]);return b(d,-1),g(d,v,_,C,A)},me.encodeLL=function(c,v,_,w,C,A,U,d){const a={ctype:0+(1==w?0:2)+(0==C?0:4),depth:A,frames:[]},Q=(w+C)*A,I=Q*v;for(let Z=0;Z<c.length;Z++)a.frames.push({rect:{x:0,y:0,width:v,height:_},img:new Uint8Array(c[Z]),blend:0,dispose:1,bpp:Math.ceil(Q/8),bpl:Math.ceil(I/8)});return b(a,0,!0),g(a,v,_,U,d)},me.encode.compress=r,me.encode.dither=l,me.quantize=E,me.quantize.getKDtree=M,me.quantize.getNearest=y}();const rt={toArrayBuffer(x,T){const B=x.width,o=x.height,e=B<<2,t=x.getContext("2d").getImageData(0,0,B,o),s=new Uint32Array(t.data.buffer),l=(32*B+31)/32<<2,g=l*o,b=122+g,r=new ArrayBuffer(b),i=new DataView(r),n=1<<20;let f,p,E,M,y=n,O=0,P=0,F=0;function k(u){i.setUint16(P,u,!0),P+=2}function h(u){i.setUint32(P,u,!0),P+=4}function R(u){P+=u}k(19778),h(b),R(4),h(122),h(108),h(B),h(-o>>>0),k(1),k(32),h(3),h(g),h(2835),h(2835),R(8),h(16711680),h(65280),h(255),h(4278190080),h(1466527264),function u(){for(;O<o&&y>0;){for(M=122+O*l,f=0;f<e;)y--,p=s[F++],E=p>>>24,i.setUint32(M+f,p<<8|E),f+=4;O++}F<s.length?(y=n,setTimeout(u,rt._dly)):T(r)}()},toBlob(x,T){this.toArrayBuffer(x,B=>{T(new Blob([B],{type:"image/bmp"}))})},_dly:9};var ce={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},It={[ce.CHROME]:16384,[ce.FIREFOX]:11180,[ce.DESKTOP_SAFARI]:16384,[ce.IE]:8192,[ce.IOS]:4096,[ce.ETC]:8192};const Ge=typeof window<"u",ot=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Qe=Ge&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Ut=(Ge||ot)&&(Qe&&Qe.getOriginalSymbol(window,"File")||typeof File<"u"&&File),it=(Ge||ot)&&(Qe&&Qe.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function qe(x,T,B=Date.now()){return new Promise(o=>{const e=x.split(","),t=e[0].match(/:(.*?);/)[1],s=globalThis.atob(e[1]);let l=s.length;const g=new Uint8Array(l);for(;l--;)g[l]=s.charCodeAt(l);const b=new Blob([g],{type:t});b.name=T,b.lastModified=B,o(b)})}function st(x){return new Promise((T,B)=>{const o=new it;o.onload=()=>T(o.result),o.onerror=e=>B(e),o.readAsDataURL(x)})}function at(x){return new Promise((T,B)=>{const o=new Image;o.onload=()=>T(o),o.onerror=e=>B(e),o.src=x})}function xe(){if(void 0!==xe.cachedResult)return xe.cachedResult;let x=ce.ETC;const{userAgent:T}=navigator;return/Chrom(e|ium)/i.test(T)?x=ce.CHROME:/iP(ad|od|hone)/i.test(T)&&/WebKit/i.test(T)?x=ce.IOS:/Safari/i.test(T)?x=ce.DESKTOP_SAFARI:/Firefox/i.test(T)?x=ce.FIREFOX:(/MSIE/i.test(T)||document.documentMode)&&(x=ce.IE),xe.cachedResult=x}function lt(x,T){const B=xe(),o=It[B];let e=x,t=T,s=e*t;const l=e>t?t/e:e/t;for(;s>o*o;){const g=(o+e)/2,b=(o+t)/2;g<b?(t=b,e=b*l):(t=g*l,e=g),s=e*t}return{width:e,height:t}}function Ze(x,T){let B,o;try{if(B=new OffscreenCanvas(x,T),o=B.getContext("2d"),null===o)throw new Error("getContext of OffscreenCanvas returns null")}catch{B=document.createElement("canvas"),o=B.getContext("2d")}return B.width=x,B.height=T,[B,o]}function ft(x,T){const{width:B,height:o}=lt(x.width,x.height),[e,t]=Ze(B,o);return T&&/jpe?g/.test(T)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(x,0,0,e.width,e.height),e}function ke(){return void 0!==ke.cachedResult||(ke.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),ke.cachedResult}function Oe(x,T={}){return new Promise(function(B,o){let e,t;var s=function(){try{return t=ft(e,T.fileType||x.type),B([e,t])}catch(g){return o(g)}},l=function(g){try{var b=function(r){try{throw r}catch(i){return o(i)}};try{let r;return st(x).then(function(i){try{return r=i,at(r).then(function(n){try{return e=n,function(){try{return s()}catch(f){return o(f)}}()}catch(f){return b(f)}},b)}catch(n){return b(n)}},b)}catch(r){b(r)}}catch(r){return o(r)}};try{if(ke()||[ce.DESKTOP_SAFARI,ce.MOBILE_SAFARI].includes(xe()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(x).then(function(g){try{return e=g,s()}catch{return l()}},l)}catch{l()}})}function ze(x,T,B,o,e=1){return new Promise(function(t,s){let l;if("image/png"===T){let b,r,i;return b=x.getContext("2d"),({data:r}=b.getImageData(0,0,x.width,x.height)),i=me.encode([r.buffer],x.width,x.height,4096*e),l=new Blob([i],{type:T}),l.name=B,l.lastModified=o,g.call(this)}{let b=function(){return g.call(this)};if("image/bmp"===T)return new Promise(r=>rt.toBlob(x,r)).then(function(r){try{return l=r,l.name=B,l.lastModified=o,b.call(this)}catch(i){return s(i)}}.bind(this),s);{let r=function(){return b.call(this)};if("function"==typeof OffscreenCanvas&&x instanceof OffscreenCanvas)return x.convertToBlob({type:T,quality:e}).then(function(i){try{return l=i,l.name=B,l.lastModified=o,r.call(this)}catch(n){return s(n)}}.bind(this),s);{let i;return i=x.toDataURL(T,e),qe(i,B,o).then(function(n){try{return l=n,r.call(this)}catch(f){return s(f)}}.bind(this),s)}}}function g(){return t(l)}})}function ge(x){x.width=0,x.height=0}function Fe(){return new Promise(function(x,T){let B,o,e,t,s;return void 0!==Fe.cachedResult?x(Fe.cachedResult):(B="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",qe("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return o=l,Oe(o).then(function(g){try{return e=g[1],ze(e,o.type,o.name,o.lastModified).then(function(b){try{return t=b,ge(e),Oe(t).then(function(r){try{return s=r[0],x(Fe.cachedResult=1===s.width&&2===s.height)}catch(i){return T(i)}},T)}catch(r){return T(r)}},T)}catch(b){return T(b)}},T)}catch(g){return T(g)}},T))})}function ct(x){return new Promise((T,B)=>{const o=new it;o.onload=e=>{const t=new DataView(e.target.result);if(65496!=t.getUint16(0,!1))return T(-2);const s=t.byteLength;let l=2;for(;l<s;){if(t.getUint16(l+2,!1)<=8)return T(-1);const g=t.getUint16(l,!1);if(l+=2,65505==g){if(1165519206!=t.getUint32(l+=2,!1))return T(-1);const b=18761==t.getUint16(l+=6,!1);l+=t.getUint32(l+4,b);const r=t.getUint16(l,b);l+=2;for(let i=0;i<r;i++)if(274==t.getUint16(l+12*i,b))return T(t.getUint16(l+12*i+8,b))}else{if(65280!=(65280&g))break;l+=t.getUint16(l,!1)}}return T(-1)},o.onerror=e=>B(e),o.readAsArrayBuffer(x)})}function ut(x,T){const{width:B}=x,{height:o}=x,{maxWidthOrHeight:e}=T;let t,s=x;return isFinite(e)&&(B>e||o>e)&&([s,t]=Ze(B,o),B>o?(s.width=e,s.height=o/B*e):(s.width=B/o*e,s.height=e),t.drawImage(x,0,0,s.width,s.height),ge(x)),s}function dt(x,T){const{width:B}=x,{height:o}=x,[e,t]=Ze(B,o);switch(T>4&&T<9?(e.width=o,e.height=B):(e.width=B,e.height=o),T){case 2:t.transform(-1,0,0,1,B,0);break;case 3:t.transform(-1,0,0,-1,B,o);break;case 4:t.transform(1,0,0,-1,0,o);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,o,0);break;case 7:t.transform(0,-1,-1,0,o,B);break;case 8:t.transform(0,-1,1,0,0,B)}return t.drawImage(x,0,0,B,o),ge(x),e}function pt(x,T,B=0){return new Promise(function(o,e){let t,s,l,g,b,r,i,n,f,p,E,M,y,O,P,F,k,h,R,u;function c(_=5){if(T.signal&&T.signal.aborted)throw T.signal.reason;t+=_,T.onProgress(Math.min(t,100))}function v(_){if(T.signal&&T.signal.aborted)throw T.signal.reason;t=Math.min(Math.max(_,t),100),T.onProgress(t)}return t=B,s=T.maxIteration||10,l=1024*T.maxSizeMB*1024,c(),Oe(x,T).then(function(_){try{return[,g]=_,c(),b=ut(g,T),c(),new Promise(function(w,C){var A;if(!(A=T.exifOrientation))return ct(x).then(function(d){try{return A=d,U.call(this)}catch(a){return C(a)}}.bind(this),C);function U(){return w(A)}return U.call(this)}).then(function(w){try{return r=w,c(),Fe().then(function(C){try{return i=C?b:dt(b,r),c(),n=T.initialQuality||1,f=T.fileType||x.type,ze(i,f,x.name,x.lastModified,n).then(function(A){try{{let d=function(){if(s--&&(P>l||P>y)){let Q,I;return Q=u?.95*R.width:R.width,I=u?.95*R.height:R.height,[k,h]=Ze(Q,I),h.drawImage(R,0,0,Q,I),n*="image/png"===f?.85:.95,ze(k,f,x.name,x.lastModified,n).then(function(Z){try{return F=Z,ge(R),R=k,P=F.size,v(Math.min(99,Math.floor((O-P)/(O-l)*100))),d}catch(D){return e(D)}},e)}return[1]},a=function(){return ge(R),ge(k),ge(b),ge(i),ge(g),v(100),o(F)};return p=A,c(),E=p.size>l,M=p.size>x.size,E||M?(y=x.size,O=p.size,P=O,R=i,u=!T.alwaysKeepResolution&&E,(U=function(Q){for(;Q;){if(Q.then)return void Q.then(U,e);try{if(Q.pop){if(Q.length)return Q.pop()?a.call(this):Q;Q=d}else Q=Q.call(this)}catch(I){return e(I)}}}.bind(this))(d)):(v(100),o(p));var U}}catch(d){return e(d)}}.bind(this),e)}catch(A){return e(A)}}.bind(this),e)}catch(C){return e(C)}}.bind(this),e)}catch(w){return e(w)}}.bind(this),e)})}let We;function oe(x,T){return new Promise(function(B,o){let e,t,s,l,g,b;if(e={...T},s=0,({onProgress:l}=e),e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,g="boolean"!=typeof e.useWebWorker||e.useWebWorker,delete e.useWebWorker,e.onProgress=f=>{s=f,"function"==typeof l&&l(s)},!(x instanceof Blob||x instanceof Ut))return o(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(x.type))return o(new Error("The file given is not an image"));if(b=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!g||"function"!=typeof Worker||b)return pt(x,e).then(function(f){try{return t=f,n.call(this)}catch(p){return o(p)}}.bind(this),o);var r=function(){try{return n.call(this)}catch(f){return o(f)}}.bind(this),i=function(f){try{return pt(x,e).then(function(p){try{return t=p,r()}catch(E){return o(E)}},o)}catch(p){return o(p)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",function Ft(x,T){return new Promise((B,o)=>{We||(We=function(s){const l=[];return l.push(s),URL.createObjectURL(new Blob(l))}("\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n"));const e=new Worker(We);e.addEventListener("message",function(s){if(T.signal&&T.signal.aborted)e.terminate();else if(void 0===s.data.progress){if(s.data.error)return o(new Error(s.data.error)),void e.terminate();B(s.data.file),e.terminate()}else T.onProgress(s.data.progress)}),e.addEventListener("error",o),T.signal&&T.signal.addEventListener("abort",()=>{o(T.signal.reason),e.terminate()}),e.postMessage({file:x,imageCompressionLibUrl:T.libURL,options:{...T,onProgress:void 0,signal:void 0}})})}(x,e).then(function(f){try{return t=f,r()}catch{return i()}},i)}catch{i()}function n(){try{t.name=x.name,t.lastModified=x.lastModified}catch{}try{e.preserveExif&&"image/jpeg"===x.type&&(!e.fileType||e.fileType&&e.fileType===x.type)&&(t=nt(x,t))}catch{}return B(t)}})}oe.getDataUrlFromFile=st,oe.getFilefromDataUrl=qe,oe.loadImage=at,oe.drawImageInCanvas=ft,oe.drawFileInCanvas=Oe,oe.canvasToFile=ze,oe.getExifOrientation=ct,oe.handleMaxWidthOrHeight=ut,oe.followExifOrientation=dt,oe.cleanupCanvasMemory=ge,oe.isAutoOrientationInBrowser=Fe,oe.approximateBelowMaximumCanvasSizeOfBrowser=lt,oe.copyExifWithoutOrientation=nt,oe.getBrowserName=xe,oe.version="2.0.2";var Bt=te(8645),Mt=te(9773),Ne=te(1088),He=te(7700),m=te(5879),Je=te(2296),je=te(2202);let St=(()=>{var x;class T{constructor(o,e){this.dialogRef=o,this.maxFileSize=e.maxFileSize,this.oldFileSize=e.file.size,this.fileId=e.id,this.compressionRate=e.compressionRate}onCompressionRateChange(o){this.compressionRate=o.target.value,this.maxFileSize=(100-o.target.value)/100*this.oldFileSize}formatBytes(o,e=2){if(0===o)return"0 Bytes";const s=e<0?0:e,g=Math.floor(Math.log(o)/Math.log(1024));return parseFloat((o/Math.pow(1024,g)).toFixed(s))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][g]}applySettings(){this.dialogRef.close({fileId:this.fileId,compressionRate:this.compressionRate,maxFileSize:this.maxFileSize})}cancelDialog(){this.dialogRef.close()}}return(x=T).\u0275fac=function(o){return new(o||x)(m.Y36(He.so),m.Y36(He.WI))},x.\u0275cmp=m.Xpm({type:x,selectors:[["app-compress-settings"]],decls:23,vars:4,consts:[[1,"flex-display","flex-column-flow","flex-center","flex-align-center",2,"margin","20px"],[1,"flex-display","flex-row-flow","flex-align-center","full-width"],[1,"bold-text",2,"margin-right","5px"],["min","10","max","80","step","1","color","primary",2,"margin-right","5px",3,"input"],["matSliderThumb","",3,"value"],[1,"bold-text"],[1,"flex-display","flex-row-flow","flex-align-center","full-width",2,"margin-bottom","5px"],[1,"flex-display","flex-row-flow","flex-align-center","full-width",2,"margin-bottom","10px"],[1,"flex-display","flex-row-flow","flex"],["mat-raised-button","","color","primary",2,"margin-right","10px",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(o,e){1&o&&(m.TgZ(0,"div",0)(1,"div",1)(2,"span",2),m._uU(3,"Compress %:"),m.qZA(),m.TgZ(4,"mat-slider",3),m.NdJ("input",function(s){return e.onCompressionRateChange(s)}),m._UZ(5,"input",4),m.qZA(),m.TgZ(6,"span",5),m._uU(7),m.qZA()(),m.TgZ(8,"div",6)(9,"span",2),m._uU(10,"Compress File Size:"),m.qZA(),m.TgZ(11,"span"),m._uU(12),m.qZA()(),m.TgZ(13,"div",7)(14,"span",2),m._uU(15,"Old File Size:"),m.qZA(),m.TgZ(16,"span"),m._uU(17),m.qZA()(),m.TgZ(18,"div",8)(19,"button",9),m.NdJ("click",function(){return e.applySettings()}),m._uU(20," Apply Settings "),m.qZA(),m.TgZ(21,"button",10),m.NdJ("click",function(){return e.cancelDialog()}),m._uU(22," Cancel "),m.qZA()()()),2&o&&(m.xp6(5),m.Q6J("value",e.compressionRate),m.xp6(2),m.hij("",e.compressionRate,"%"),m.xp6(5),m.Oqu(e.formatBytes(e.maxFileSize)),m.xp6(5),m.Oqu(e.formatBytes(e.oldFileSize)))},dependencies:[Je.lW,je.pH,je.$5]}),T})();var Rt=te(1041),mt=te(553);const ht="/tools/image-compress",Ye="Best Online Image Compressor | Image File Size Reducer",Ke="Our Best Online Image Compression tool lets you compress your images to reduce file storage size for free. Supports a wide range of image file formats i.e JPEG, PNG, WEBBP and BMP.",$e=`${mt.N.screenshotsBaseUrl}/image-compressor.png`,Pt={mainHeading:"Online Image Compressor",subHeading:"Compress JPEG, PNG, WEBP & BMP Images for free",navigationUrl:ht,pageTitle:Ye,metaTags:[{name:"description",content:Ke},{name:"author",content:"Gaurav Kumar Yadav"},{name:"robots",content:"index, follow"},{property:"og:title",content:Ye},{property:"og:type",content:"website"},{property:"og:url",content:`${mt.N.hostname}${ht}`},{property:"og:image",content:$e},{property:"og:image:secure_url",content:$e},{property:"og:description",content:Ke},{property:"og:site_name",content:"WebToolsEasy"},{property:"twitter:card",content:"summary_large_image"},{property:"twitter:site",content:"@webtoolseasy"},{property:"twitter:title",content:Ye},{property:"twitter:description",content:Ke},{property:"twitter:image",content:$e}],tags:["image compressor","image size reducer","jpg size reducer","png size reducer","compress jpeg","compress png"],icons:[{iconName:"image-file-icon",iconRelativeUrl:"image-file.svg"},{iconName:"download-icon",iconRelativeUrl:"download.svg"},{iconName:"settings-icon",iconRelativeUrl:"settings.svg"},{iconName:"play-icon",iconRelativeUrl:"play-icon.svg"}]},Qt=[{heading:"How to Compress Images using Image Compressor Tool?",listData:["Drag & drop or select image files (JPEG, PNG, WEBP, BMP only) to compress.","All image files will be listed.","For compressing images either use compress button corresponding to the image file or use compress all button.","By default images will be compressed by 20% of their original size. To compress further, use settings button to customize compression level .","Use download button corresponding to an image file to download compressed image.","Use download zip button to download all compressed images at once."]},{heading:"What is Image Compression?",blockData:["Image compression is the process of reducing the file size of a digital image without significantly impacting its quality. The goal of image compression is to make images smaller in size, so they can be stored, transmitted, and processed more efficiently. This can be especially important for website owners, as large image files can slow down the website's loading time, affecting the user experience.","There are two main types of image compression: lossless and lossy. Lossless compression reduces the file size of an image without losing any image data, while lossy compression reduces the file size by discarding some image data. Lossy compression is generally used for images that contain a lot of redundant information, such as photographs, where some loss in quality is acceptable to achieve a smaller file size.","JPEG and PNG are two of the most common image formats used for image compression. JPEG uses lossy compression and is suitable for photographs, while PNG uses lossless compression and is best for images with sharp lines and flat areas of color, such as graphics and illustrations.","Overall, image compression is an important technique for optimizing images and making them faster to load and easier to handle."]},{heading:"Why would you want to Compress Images?",blockData:["The objective of image compression is to reduce irrelevance and redundancy of the image data to be able to store or transmit data in an efficient form. It is concerned with minimizing the number of bits required to represent an image. Image compression may be lossy or lossless."]},{heading:"Key features",listData:["Unlimited images can be compressed. Online Image Compressor is completely free. No registration required. No credit card required.","Supports customizing compression level to control the compressed image size.","Easy to use: Our user-friendly interface makes it simple for anyone to compress their images with just a few clicks.","High-quality compression: Our tool uses advanced compression algorithms to reduce image file size while preserving image quality.","Batch processing: Compress multiple images at once, saving you time and effort.","Supports wide range of image formats: Our tool works with JPEG, PNG, WEBP and BMP image formats, providing versatile compression options.","Secure: Image compression will be performed in host browser only. We don't store any of the images.","No need to download any software. Simply upload your images to our platform and get your compressed images in no time."]},{heading:"Disclaimer",blockData:["Only JPEG, PNG, WEBP and BMP images can be compressed as of now."]},{heading:"References",links:[{displayText:"Read more about Image Compression at Wikipedia",url:"https://en.wikipedia.org/wiki/Image_compression"},{displayText:"Disadvantages and Advantages of Image Compression",url:"https://www.techwalla.com/articles/disadvantages-and-advantages-of-image-compression"},{displayText:"Read more about JPEG format at Wikipedia",url:"https://en.wikipedia.org/wiki/JPEG#:~:text=JPEG%20(%2F%CB%88d%CA%92e%C9%AAp,storage%20size%20and%20image%20quality."},{displayText:"Read more about PNG format at Wikipedia",url:"https://en.wikipedia.org/wiki/PNG"}]}];var gt=te(617),At=te(5195),vt=te(2596);const Zt=["inputFiles"];function kt(x,T){if(1&x){const B=m.EpF();m.TgZ(0,"div",6),m.NdJ("drop",function(e){m.CHM(B);const t=m.oxw();return m.KtG(t.dropHandler(e))})("dragover",function(e){m.CHM(B);const t=m.oxw();return m.KtG(t.dragOverHandler(e))}),m.TgZ(1,"mat-icon",7),m._uU(2,"collections"),m.qZA(),m.TgZ(3,"span",8),m._uU(4,"Drag & drop files here"),m.qZA(),m.TgZ(5,"span",8),m._uU(6,"or"),m.qZA(),m.TgZ(7,"button",9),m.NdJ("click",function(){m.CHM(B);const e=m.oxw();return m.KtG(e.openFileDialog())}),m.TgZ(8,"mat-icon"),m._uU(9,"file_upload"),m.qZA(),m._uU(10," Browse for files "),m.qZA()()}}const Ot=function(x){return{padding:"10px","justify-content":x}};function zt(x,T){if(1&x){const B=m.EpF();m.TgZ(0,"div",10)(1,"button",9),m.NdJ("click",function(){m.CHM(B);const e=m.oxw();return m.KtG(e.openFileDialog())}),m.TgZ(2,"mat-icon"),m._uU(3,"file_upload"),m.qZA(),m._uU(4," Select Files "),m.qZA(),m.TgZ(5,"button",11),m.NdJ("click",function(){m.CHM(B);const e=m.oxw();return m.KtG(e.startCompressAll())}),m.TgZ(6,"mat-icon"),m._uU(7,"play_arrow"),m.qZA(),m._uU(8," Convert All "),m.qZA()()}if(2&x){const B=m.oxw();m.Q6J("ngStyle",m.VKq(1,Ot,B.fileList.length>0?"end":"center"))}}function Nt(x,T){if(1&x&&(m.TgZ(0,"span",28),m._uU(1),m.qZA()),2&x){const B=m.oxw().$implicit,o=m.oxw(2);m.xp6(1),m.AsE("",o.formatBytes(B.file.size)," -> ",o.formatBytes(null==B.compressedData?null:B.compressedData.size),"")}}function Ht(x,T){if(1&x&&(m.TgZ(0,"span",29),m._uU(1),m.qZA()),2&x){const B=m.oxw().$implicit;m.xp6(1),m.Oqu(B.error)}}function Dt(x,T){if(1&x&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&x){const B=m.oxw().$implicit;m.xp6(1),m.hij("Progress: ",B.compressProgress," %")}}function Lt(x,T){if(1&x){const B=m.EpF();m.TgZ(0,"mat-icon",30),m.NdJ("click",function(){m.CHM(B);const e=m.oxw().$implicit,t=m.oxw(2);return m.KtG(t.compressImage(e))}),m.qZA()}}function Gt(x,T){if(1&x){const B=m.EpF();m.TgZ(0,"mat-icon",31),m.NdJ("click",function(){m.CHM(B);const e=m.oxw().$implicit,t=m.oxw(2);return m.KtG(t.downloadImage(e))}),m.qZA()}}function qt(x,T){1&x&&(m.TgZ(0,"mat-icon",32),m._uU(1,"error"),m.qZA())}function Wt(x,T){if(1&x){const B=m.EpF();m.TgZ(0,"mat-card",14)(1,"div",15),m._UZ(2,"mat-icon",16),m.TgZ(3,"div",17)(4,"span",18),m._uU(5),m.qZA(),m.YNc(6,Nt,2,2,"span",19),m.YNc(7,Ht,2,1,"span",20),m.qZA(),m._UZ(8,"span",21),m.TgZ(9,"div",22),m.YNc(10,Dt,2,1,"span",23),m.TgZ(11,"mat-icon",24),m.NdJ("click",function(){const t=m.CHM(B).$implicit,s=m.oxw(2);return m.KtG(s.openSettingsDialog(t))}),m.qZA(),m.YNc(12,Lt,1,0,"mat-icon",25),m.YNc(13,Gt,1,0,"mat-icon",26),m.YNc(14,qt,2,0,"mat-icon",27),m.qZA()()()}if(2&x){const B=T.$implicit;m.xp6(5),m.Oqu(B.name),m.xp6(1),m.Q6J("ngIf",B.isCompressed),m.xp6(1),m.Q6J("ngIf",void 0!==B.error),m.xp6(3),m.Q6J("ngIf",B.inProgress),m.xp6(2),m.Q6J("ngIf",!B.isCompressed),m.xp6(1),m.Q6J("ngIf",B.isCompressed),m.xp6(1),m.Q6J("ngIf",B.error)}}function Jt(x,T){if(1&x&&(m.TgZ(0,"div",12),m.YNc(1,Wt,15,7,"mat-card",13),m.qZA()),2&x){const B=m.oxw();m.xp6(1),m.Q6J("ngForOf",B.fileList)}}const jt=[{path:"",component:(()=>{var x;class T{constructor(o,e,t,s){this.renderer=o,this.zoneRef=e,this.breakpointObserver=t,this.dialog=s,this.fileList=[],this.destroyed=new Bt.x,this.isDownloadAllActive=!1,this.validImageFormats=".jpg,.jpeg,.png,.webp,.bmp",this.applicationConfig=Pt,this.descriptionData=Qt,this.breakpointObserver.observe([Ne.u3.Handset,Ne.u3.Web]).pipe((0,Mt.R)(this.destroyed)).subscribe(l=>{this.isMobile=t.isMatched("(max-width: 735px)"),Le.j.info(`mobile view: ${this.isMobile}`)})}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}openFileDialog(){var o=this;return(0,ae.Z)(function*(){o.renderer.selectRootElement(o.inputFiles.nativeElement,!0).click()})()}openSettingsDialog(o){var e=this;return(0,ae.Z)(function*(){e.closeDialog(),e.activeDialog=e.dialog.open(St,{data:o}),e.activeDialog.afterClosed().subscribe(e.handleSettingsChange.bind(e))})()}closeDialog(o={}){var e=this;return(0,ae.Z)(function*(){e.activeDialog&&e.activeDialog.close(o)})()}handleSettingsChange(o={}){var e=this;return(0,ae.Z)(function*(){if(Le.j.info(`settings dialog closed with data: ${JSON.stringify(o)}`),Object.keys(o).length>0){const t=o;e.zoneRef.run(()=>{const s=e.fileList.find(l=>l.id===t.fileId);s.compressionRate!==t.compressionRate&&(s.isCompressed=!1),s.compressionRate=t.compressionRate,s.maxFileSize=t.maxFileSize,s.compressOptions={...s.compressOptions,maxSizeMB:t.maxFileSize/1024/1024}})}})()}dropHandler(o){var e=this;return(0,ae.Z)(function*(){o.preventDefault(),o.dataTransfer.items?[...o.dataTransfer.items].filter(t=>"file"===t.kind).map(t=>t.getAsFile()).forEach(function(){var t=(0,ae.Z)(function*(s){return yield e.addFileToCompress(s)});return function(s){return t.apply(this,arguments)}}()):[...o.dataTransfer.files].forEach(function(){var t=(0,ae.Z)(function*(s){return yield e.addFileToCompress(s)});return function(s){return t.apply(this,arguments)}}())})()}dragOverHandler(o){return(0,ae.Z)(function*(){o.preventDefault()})()}addFileToCompress(o){var e=this;return(0,ae.Z)(function*(){e.zoneRef.run(()=>{e.fileList.push({id:(0,Rt.Z)(),file:o,type:bt.S.IMAGE,inProgress:!1,compressProgress:0,isCompressed:!1,name:o.name,compressOptions:{signal:(new AbortController).signal,maxSizeMB:.9*o.size/1024/1024,useWebWorker:!0},compressionRate:10,maxFileSize:.9*o.size})})})()}selectFiles(o){var e=this;return(0,ae.Z)(function*(){for(const t of o.target.files)yield e.addFileToCompress(t)})()}startCompressAll(){var o=this;return(0,ae.Z)(function*(){o.fileList.forEach(e=>o.compressImage(e))})()}compressImage(o){var e=this;return(0,ae.Z)(function*(){e.zoneRef.run((0,ae.Z)(function*(){o.inProgress=!0,o.compressProgress=0,o.error=void 0;try{o.compressedData=yield oe(o.file,{...o.compressOptions,onProgress:t=>{o.compressProgress=t}}),o.isCompressed=!0,o.inProgress=!1,e.isDownloadAllActive=!0}catch{Le.j.error(`error while compressing image with name: ${o.file.name}`),o.inProgress=!1,o.isCompressed=!1,o.error="* compression error"}}))})()}downloadImage(o){var e=this;return(0,ae.Z)(function*(){const t=o.name.substring(0,o.file.name.lastIndexOf("."))||o.name,s=o.file.name.split(".").pop();yield e.downloadFile(`${t}-compressed.${s}`,o.compressedData)})()}downloadFile(o,e){var t=this;return(0,ae.Z)(function*(){const s=t.renderer.createElement("a");t.renderer.setProperty(s,"href",URL.createObjectURL(e)),t.renderer.setProperty(s,"download",o),s.click()})()}formatBytes(o,e=2){if(0===o)return"0 Bytes";const s=e<0?0:e,g=Math.floor(Math.log(o)/Math.log(1024));return parseFloat((o/Math.pow(1024,g)).toFixed(s))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][g]}showInfo(o){}}return(x=T).\u0275fac=function(o){return new(o||x)(m.Y36(m.Qsj),m.Y36(m.R0b),m.Y36(Ne.Yg),m.Y36(He.uw))},x.\u0275cmp=m.Xpm({type:x,selectors:[["app-image-compression"]],viewQuery:function(o,e){if(1&o&&m.Gf(Zt,5),2&o){let t;m.iGM(t=m.CRH())&&(e.inputFiles=t.first)}},decls:6,vars:4,consts:[[1,"flex-display","flex-column-flow","flex-align-center","flex-gap-large"],["type","file","multiple","",2,"display","none",3,"accept","change"],["inputFiles",""],["class","flex-display flex-column-flow flex-center flex-align-center file-drop-area border-grey full-width flex-gap-medium",3,"drop","dragover",4,"ngIf"],["class","flex-display flex-row-flow flex-center full-width flex-gap-medium",3,"ngStyle",4,"ngIf"],["class","flex-display flex-column-flow y-scroll file-drop-area file-list-div full-width border-grey flex-gap-medium",4,"ngIf"],[1,"flex-display","flex-column-flow","flex-center","flex-align-center","file-drop-area","border-grey","full-width","flex-gap-medium",3,"drop","dragover"],[2,"transform","scale(2)"],[1,"header-font",2,"font-size","large"],["mat-stroked-button","","color","primary","matTooltip","select images to compress",3,"click"],[1,"flex-display","flex-row-flow","flex-center","full-width","flex-gap-medium",3,"ngStyle"],["mat-stroked-button","","color","primary","matTooltip","convert all images",3,"click"],[1,"flex-display","flex-column-flow","y-scroll","file-drop-area","file-list-div","full-width","border-grey","flex-gap-medium"],["style","\n        border: 1px solid lightgrey;\n        margin-left: 10px;\n        margin-right: 10px;\n        padding: 10px;\n      ",4,"ngFor","ngForOf"],[2,"border","1px solid lightgrey","margin-left","10px","margin-right","10px","padding","10px"],[1,"flex-display","flex-row-flow","flex-align-center","flex-gap-large",2,"margin","10px"],["svgIcon","image-file-icon",1,"app-icon","pointer-cursor"],[1,"flex-display","flex-column-flow","header-font","file-name-div"],[1,"bold-text"],["class","bold-text header-font","style","color: #ff4081",4,"ngIf"],["class","bold-text","style","color: red",4,"ngIf"],[1,"flex-full-height"],[1,"flex-display","flex-row-flow","flex-align-center","flex-center","flex-gap-medium"],[4,"ngIf"],["svgIcon","settings-icon","matTooltip","change compression settings",1,"pointer-cursor",3,"click"],["svgIcon","play-icon","class","pointer-cursor","matTooltip","compress image",3,"click",4,"ngIf"],["svgIcon","download-icon","class","pointer-cursor","matTooltip","download compressed image",3,"click",4,"ngIf"],["class","pointer-cursor","color","warn","matTooltip","only image files can be compressed","style","transform: scale(1.5)",4,"ngIf"],[1,"bold-text","header-font",2,"color","#ff4081"],[1,"bold-text",2,"color","red"],["svgIcon","play-icon","matTooltip","compress image",1,"pointer-cursor",3,"click"],["svgIcon","download-icon","matTooltip","download compressed image",1,"pointer-cursor",3,"click"],["color","warn","matTooltip","only image files can be compressed",1,"pointer-cursor",2,"transform","scale(1.5)"]],template:function(o,e){1&o&&(m.TgZ(0,"div",0)(1,"input",1,2),m.NdJ("change",function(s){return e.selectFiles(s)}),m.qZA(),m.YNc(3,kt,11,0,"div",3),m.YNc(4,zt,9,3,"div",4),m.YNc(5,Jt,2,1,"div",5),m.qZA()),2&o&&(m.xp6(1),m.Q6J("accept",e.validImageFormats),m.xp6(2),m.Q6J("ngIf",0===e.fileList.length),m.xp6(1),m.Q6J("ngIf",e.fileList.length>0),m.xp6(1),m.Q6J("ngIf",e.fileList.length>0))},dependencies:[Re.sg,Re.O5,Re.PC,gt.Hw,Je.lW,At.a8,vt.gM],styles:[".file-drop-area[_ngcontent-%COMP%]{border-radius:10px;padding-top:30px;padding-bottom:30px}.file-list-div[_ngcontent-%COMP%]{max-height:400px}@media screen and (max-width: 735px){.file-name-div[_ngcontent-%COMP%]{width:60%;overflow-x:hidden}.file-list-div[_ngcontent-%COMP%]{max-height:300px}}"]}),T})()}];let Yt=(()=>{var x;class T{}return(x=T).\u0275fac=function(o){return new(o||x)},x.\u0275mod=m.oAB({type:x}),x.\u0275inj=m.cJS({imports:[tt.Bz.forChild(jt),tt.Bz]}),T})(),Kt=(()=>{var x;class T{}return(x=T).\u0275fac=function(o){return new(o||x)},x.\u0275mod=m.oAB({type:x}),x.\u0275inj=m.cJS({imports:[Re.ez,Yt,gt.Ps,Je.ot,At.QW,vt.AV,Ne.xu,je.KP,He.Is]}),T})()}}]);