<div class="full-height flex-display flex-column-flow no-y-scroll">
  <!-- profile header -->
  <app-header-toolbar></app-header-toolbar>

  <!-- app container -->
  <div
    class="flex-display flex-column-flow flex-align-center y-scroll no-x-scroll"
    style="padding: 10px">
    <div
      class="full-width flex-display flex-row-flow flex-center flex-align-center"
      style="margin-top: 10px; margin-bottom: 20px">
      <h1 id="heading">JWT Decoder</h1>
    </div>

    <div
      class="flex-display flex-row-flow flex-align-center token-area-container full-width"
      style="margin-bottom: 10px">
      <div
        class="flex-display flex-column-flow encoded-token-field token-parent-div">
        <div class="flex-display flex-row-flow flex-align-center">
          <span class="div-label" style="margin-bottom: 5px; margin-right: 5px"
            >Encoded Token</span
          >
          <span>(Paste Token Here)</span>
        </div>
        <div
          #encodedDiv
          class="token-area-class encoded-token-field y-scroll full-height full-width"
          contentEditable="true"
          (input)="encodedInputChange($event)"
          (paste)="onTokenPaste($event)"
          style="color: indigo">
          <span #encodedValue></span>
        </div>

        <div
          class="flex-display flex-row-flow"
          *ngIf="!isTokenValid"
          style="margin-top: 10px">
          <mat-icon color="warn" style="transform: scale(2); margin-right: 15px"
            >error</mat-icon
          >
          <span class="header-font" style="color: red">token is invalid</span>
        </div>
      </div>
      <div class="flex-display flex-column-flow token-parent-div">
        <span class="div-label" style="margin-bottom: 5px">Decoded Token</span>
        <div
          class="token-area-class y-scroll full-height full-width"
          contenteditable="true"
          style="color: deeppink">
          <pre>{{ decodedToken }}</pre>
        </div>
      </div>
    </div>

    <button
      mat-raised-button
      (click)="copyDecodedToken()"
      color="primary"
      style="
        margin-right: 50px;
        margin-bottom: 10px;
        padding: 10px;
        align-self: flex-end;
      ">
      <mat-icon>content_copy</mat-icon> Copy Decoded Token
    </button>

    <div class="flex-display flex-column-flow" style="width: 90%">
      <h2 id="heading2" style="font-weight: bold">
        What is JSON Web Token (JWT) ?
      </h2>
      <span style="margin-bottom: 20px"
        >JSON Web Token (JWT, pronounced /dʒɒt/, same as the word "jot"[1]) is a
        proposed Internet standard for creating data with optional signature
        and/or optional encryption whose payload holds JSON that asserts some
        number of claims. The tokens are signed either using a private secret or
        a public/private key.
        <a target="_blank" href="https://en.wikipedia.org/wiki/JSON_Web_Token"
          >Read more on Wiki</a
        ></span
      >
      <p>
        Only tokens which are encoded with HS256 algorithm can be decoded. JWT
        token is being decoded locally in browser only.
      </p>
    </div>

    <!-- tags div -->
    <div
      style="margin: 20px; flex-wrap: wrap"
      class="flex-display flex-row-flow flex-center">
      <p class="tag-class" *ngFor="let tag of tags">
        {{ tag }}
      </p>
    </div>
  </div>
</div>
